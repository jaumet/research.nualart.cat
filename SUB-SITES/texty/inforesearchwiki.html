<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from informationr.net/ir/inforesearchwiki.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 25 Dec 2010 21:00:07 GMT -->
<head>
<script type="text/javascript">
//<![CDATA[
var version = {major: 2, minor: 1, revision: 3, date: new Date("Nov 3, 2006"), extensions: {}};
//]]>
</script>
<!--
TiddlyWiki 2.1.3 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) Osmosoft Limited 2004-2006

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<!--PRE-HEAD-START-->
<!--{{{-->
<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/>
<!--}}}-->
<!--PRE-HEAD-END-->
<title> Information Research Wiki - abstracts of papers in the electronic journal </title>
<script type="text/javascript">
//<![CDATA[
// ---------------------------------------------------------------------------------
// Configuration repository
// ---------------------------------------------------------------------------------

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animFast: 0.12, // Speed for animations (lower == slower)
	animSlow: 0.01, // Speed for EasterEgg animations
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5, // Depth of cascade animation
	displayStartupTime: false // Whether to display startup time
	};

// Messages
config.messages = {
	messageClose: {},
	dates: {}
};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkAnimate: true,
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: true,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	chkInsertTabs: false,
	txtBackupFolder: "",
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30"
	};
	
// List of notification functions to be called when certain tiddlers are changed or deleted
config.notifyTiddlers = [
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: "SiteTitle", notify: refreshPageTitle},
	{name: "SiteSubtitle", notify: refreshPageTitle},
	{name: "ColorPalette", notify: refreshColorPalette},
	{name: null, notify: refreshDisplay}
	];

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
	};

// More messages (rather a legacy layout that shouldn't really be like this)
config.views = {
	wikified: {
		tag: {}
		},
	editor: {
		tagChooser: {}
		}
	};

// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {sizeTextbox: 15},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {},
	timeline: {},
	allTags: {},
	list: {
		all: {},
		missing: {},
		orphans: {},
		shadowed: {}
		},
	closeAll: {},
	permaview: {},
	saveChanges: {},
	slider: {},
	option: {},
	newTiddler: {},
	newJournal: {},
	sparkline: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {},
	edit: {},
	tagChooser: {},
	toolbar: {},
	br: {},
	plugins: {},
	refreshDisplay: {},
	importTiddlers: {}
	};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {},
	closeOthers: {},
	editTiddler: {},
	saveTiddler: {hideReadOnly: true},
	cancelTiddler: {},
	deleteTiddler: {hideReadOnly: true},
	permalink: {},
	references: {},
	jump: {}
	};

// Browser detection... In a very few places, there's nothing else for it but to
// know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	ieVersion: /MSIE (\d.\d)/i.exec(config.userAgent), // config.browser.ieVersion[1], if it exists, will be the IE version string, eg "6.0"
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150")),
	firefoxDate: /Gecko\/(\d{8})/i.exec(config.userAgent), // config.browser.firefoxDate[1], if it exists, will be Firefox release date as "YYYYMMDD"
	isOpera: config.userAgent.indexOf("opera") != -1,
	isLinux: config.userAgent.indexOf("linux") != -1,
	isUnix: config.userAgent.indexOf("x11") != -1,
	isMac: config.userAgent.indexOf("mac") != -1,
	isWindows: config.userAgent.indexOf("win") != -1
	};

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z0-9_\\-\u00df-\u00ff\u0151\u0171]",
	anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]",
	anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]"
	};
if(config.browser.isBadSafari)
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z0-9_\\-\u00df-\u00ff]",
		anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff]",
		anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff]"
		}
config.textPrimitives.sliceSeparator = "::";
config.textPrimitives.urlPattern = "[a-z]{3,8}:[^\\s:'\"][^\\s'\"]*(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:(?:" + config.textPrimitives.upperLetter + "+" +
												config.textPrimitives.lowerLetter + "+" +
												config.textPrimitives.upperLetter +
												config.textPrimitives.anyLetter + "*)|(?:" +
												config.textPrimitives.upperLetter + "{2,}" +
												config.textPrimitives.lowerLetter + "+))";

config.textPrimitives.cssLookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
config.textPrimitives.cssLookaheadRegExp = new RegExp(config.textPrimitives.cssLookahead,"mg");

config.textPrimitives.brackettedLink = "\\[\\[([^\\]]+)\\]\\]";
config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" + 
	config.textPrimitives.urlPattern + ")","mg");
config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
	config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");

// ---------------------------------------------------------------------------------
// Shadow tiddlers
// ---------------------------------------------------------------------------------

config.shadowTiddlers = {
	ColorPalette: "Background: #fff\n" + 
				  "Foreground: #000\n" +
				  "PrimaryPale: #8cf\n" +
				  "PrimaryLight: #18f\n" +
				  "PrimaryMid: #04b\n" +
				  "PrimaryDark: #014\n" +
				  "SecondaryPale: #ffc\n" +
				  "SecondaryLight: #fe8\n" +
				  "SecondaryMid: #db4\n" +
				  "SecondaryDark: #841\n" +
				  "TertiaryPale: #eee\n" +
				  "TertiaryLight: #ccc\n" +
				  "TertiaryMid: #999\n" +
				  "TertiaryDark: #666\n" +
				  "Error: #f88\n",
	StyleSheet: "",
	StyleSheetColors: "/*{{{*/\nbody {\n	background: [[ColorPalette::Background]];\n	color: [[ColorPalette::Foreground]];\n}\n\na{\n	color: [[ColorPalette::PrimaryMid]];\n}\n\na:hover{\n	background: [[ColorPalette::PrimaryMid]];\n	color: [[ColorPalette::Background]];\n}\n\na img{\n	border: 0;\n}\n\nh1,h2,h3,h4,h5 {\n	color: [[ColorPalette::SecondaryDark]];\n	background: [[ColorPalette::PrimaryPale]];\n}\n\n.button {\n	color: [[ColorPalette::PrimaryDark]];\n	border: 1px solid [[ColorPalette::Background]];\n}\n\n.button:hover {\n	color: [[ColorPalette::PrimaryDark]];\n	background: [[ColorPalette::SecondaryLight]];\n	border-color: [[ColorPalette::SecondaryMid]];\n}\n\n.button:active {\n	color: [[ColorPalette::Background]];\n	background: [[ColorPalette::SecondaryMid]];\n	border: 1px solid [[ColorPalette::SecondaryDark]];\n}\n\n.header {\n	background: [[ColorPalette::PrimaryMid]];\n}\n\n.headerShadow {\n	color: [[ColorPalette::Foreground]];\n}\n\n.headerShadow a {\n	font-weight: normal;\n	color: [[ColorPalette::Foreground]];\n}\n\n.headerForeground {\n	color: [[ColorPalette::Background]];\n}\n\n.headerForeground a {\n	font-weight: normal;\n	color: [[ColorPalette::PrimaryPale]];\n}\n\n.tabSelected{\n	color: [[ColorPalette::PrimaryDark]];\n	background: [[ColorPalette::TertiaryPale]];\n	border-left: 1px solid [[ColorPalette::TertiaryLight]];\n	border-top: 1px solid [[ColorPalette::TertiaryLight]];\n	border-right: 1px solid [[ColorPalette::TertiaryLight]];\n}\n\n.tabUnselected {\n	color: [[ColorPalette::Background]];\n	background: [[ColorPalette::TertiaryMid]];\n}\n\n.tabContents {\n	color: [[ColorPalette::PrimaryDark]];\n	background: [[ColorPalette::TertiaryPale]];\n	border: 1px solid [[ColorPalette::TertiaryLight]];\n}\n\n.tabContents .button {\n	 border: 0;}\n\n#sidebar {\n}\n\n#sidebarOptions input {\n	border: 1px solid [[ColorPalette::PrimaryMid]];\n}\n\n#sidebarOptions .sliderPanel {\n	background: [[ColorPalette::PrimaryPale]];\n}\n\n#sidebarOptions .sliderPanel a {\n	border: none;\n	color: [[ColorPalette::PrimaryMid]];\n}\n\n#sidebarOptions .sliderPanel a:hover {\n	color: [[ColorPalette::Background]];\n	background: [[ColorPalette::PrimaryMid]];\n}\n\n#sidebarOptions .sliderPanel a:active {\n	color: [[ColorPalette::PrimaryMid]];\n	background: [[ColorPalette::Background]];\n}\n\n.wizard {\n	background: [[ColorPalette::SecondaryLight]];\n	border-top: 1px solid [[ColorPalette::SecondaryMid]];\n	border-left: 1px solid [[ColorPalette::SecondaryMid]];\n}\n\n.wizard h1 {\n	color: [[ColorPalette::SecondaryDark]];\n}\n\n.wizard h2 {\n	color: [[ColorPalette::Foreground]];\n}\n\n.wizardStep {\n	background: [[ColorPalette::Background]];\n	border-top: 1px solid [[ColorPalette::SecondaryMid]];\n	border-bottom: 1px solid [[ColorPalette::SecondaryMid]];\n	border-left: 1px solid [[ColorPalette::SecondaryMid]];\n}\n\n.wizard .button {\n	color: [[ColorPalette::Background]];\n	background: [[ColorPalette::PrimaryMid]];\n	border-top: 1px solid [[ColorPalette::PrimaryLight]];\n	border-right: 1px solid [[ColorPalette::PrimaryDark]];\n	border-bottom: 1px solid [[ColorPalette::PrimaryDark]];\n	border-left: 1px solid [[ColorPalette::PrimaryLight]];\n}\n\n.wizard .button:hover {\n	color: [[ColorPalette::PrimaryLight]];\n	background: [[ColorPalette::PrimaryDark]];\n	border-color: [[ColorPalette::PrimaryLight]];\n}\n\n.wizard .button:active {\n	color: [[ColorPalette::Background]];\n	background: [[ColorPalette::PrimaryMid]];\n	border-top: 1px solid [[ColorPalette::PrimaryLight]];\n	border-right: 1px solid [[ColorPalette::PrimaryDark]];\n	border-bottom: 1px solid [[ColorPalette::PrimaryDark]];\n	border-left: 1px solid [[ColorPalette::PrimaryLight]];\n}\n\n#messageArea {\n	border: 1px solid [[ColorPalette::SecondaryDark]];\n	background: [[ColorPalette::SecondaryMid]];\n	color: [[ColorPalette::PrimaryDark]];\n}\n\n#messageArea .button {\n	padding: 0.2em 0.2em 0.2em 0.2em;\n	color: [[ColorPalette::PrimaryDark]];\n	background: [[ColorPalette::Background]];\n}\n\n.popup {\n	background: [[ColorPalette::PrimaryLight]];\n	border: 1px solid [[ColorPalette::PrimaryMid]];\n}\n\n.popup hr {\n	color: [[ColorPalette::PrimaryDark]];\n	background: [[ColorPalette::PrimaryDark]];\n	border-bottom: 1px;\n}\n\n.listBreak div{\n	border-bottom: 1px solid [[ColorPalette::PrimaryDark]];\n}\n\n.popup li.disabled {\n	color: [[ColorPalette::PrimaryMid]];\n}\n\n.popup li a, .popup li a:visited {\n	color: [[ColorPalette::TertiaryPale]];\n	border: none;\n}\n\n.popup li a:hover {\n	background: [[ColorPalette::PrimaryDark]];\n	color: [[ColorPalette::Background]];\n	border: none;\n}\n\n.tiddler .defaultCommand {\n font-weight: bold;\n}\n\n.shadow .title {\n	color: [[ColorPalette::TertiaryDark]];\n}\n\n.title {\n	color: [[ColorPalette::SecondaryDark]];\n}\n\n.subtitle {\n	color: [[ColorPalette::TertiaryDark]];\n}\n\n.toolbar {\n	color: [[ColorPalette::PrimaryMid]];\n}\n\n.tagging, .tagged {\n	border: 1px solid [[ColorPalette::TertiaryPale]];\n	background-color: [[ColorPalette::TertiaryPale]];\n}\n\n.selected .tagging, .selected .tagged {\n	background-color: [[ColorPalette::TertiaryLight]];\n	border: 1px solid [[ColorPalette::TertiaryMid]];\n}\n\n.tagging .listTitle, .tagged .listTitle {\n	color: [[ColorPalette::PrimaryDark]];\n}\n\n.tagging .button, .tagged .button {\n		border: none;\n}\n\n.footer {\n	color: [[ColorPalette::TertiaryLight]];\n}\n\n.selected .footer {\n	color: [[ColorPalette::TertiaryMid]];\n}\n\n.sparkline {\n	background: [[ColorPalette::PrimaryPale]];\n	border: 0;\n}\n\n.sparktick {\n	background: [[ColorPalette::PrimaryDark]];\n}\n\n.error, .errorButton {\n	color: [[ColorPalette::Foreground]];\n	background: [[ColorPalette::Error]];\n}\n\n.warning {\n	color: [[ColorPalette::Foreground]];\n	background: [[ColorPalette::SecondaryPale]];\n}\n\n.cascade {\n	background: [[ColorPalette::TertiaryPale]];\n	color: [[ColorPalette::TertiaryMid]];\n	border: 1px solid [[ColorPalette::TertiaryMid]];\n}\n\n.imageLink, #displayArea .imageLink {\n	background: transparent;\n}\n\n.viewer .listTitle {list-style-type: none; margin-left: -2em;}\n\n.viewer .button {\n	border: 1px solid [[ColorPalette::SecondaryMid]];\n}\n\n.viewer blockquote {\n	border-left: 3px solid [[ColorPalette::TertiaryDark]];\n}\n\n.viewer table {\n	border: 2px solid [[ColorPalette::TertiaryDark]];\n}\n\n.viewer th, thead td {\n	background: [[ColorPalette::SecondaryMid]];\n	border: 1px solid [[ColorPalette::TertiaryDark]];\n	color: [[ColorPalette::Background]];\n}\n\n.viewer td, .viewer tr {\n	border: 1px solid [[ColorPalette::TertiaryDark]];\n}\n\n.viewer pre {\n	border: 1px solid [[ColorPalette::SecondaryLight]];\n	background: [[ColorPalette::SecondaryPale]];\n}\n\n.viewer code {\n	color: [[ColorPalette::SecondaryDark]];\n}\n\n.viewer hr {\n	border: 0;\n	border-top: dashed 1px [[ColorPalette::TertiaryDark]];\n	color: [[ColorPalette::TertiaryDark]];\n}\n\n.highlight, .marked {\n	background: [[ColorPalette::SecondaryLight]];\n}\n\n.editor input {\n	border: 1px solid [[ColorPalette::PrimaryMid]];\n}\n\n.editor textarea {\n	border: 1px solid [[ColorPalette::PrimaryMid]];\n	width: 100%;\n}\n\n.editorFooter {\n	color: [[ColorPalette::TertiaryMid]];\n}\n\n/*}}}*/",
	StyleSheetLayout: "/*{{{*/\n* html .tiddler {\n    height: 1%;\n}\n\nbody {\n	font-size: .75em;\n	font-family: arial,helvetica;\n	margin: 0;\n	padding: 0;\n}\n\nh1,h2,h3,h4,h5 {\n	font-weight: bold;\n	text-decoration: none;\n	padding-left: 0.4em;\n}\n\nh1 {font-size: 1.35em;}\nh2 {font-size: 1.25em;}\nh3 {font-size: 1.1em;}\nh4 {font-size: 1em;}\nh5 {font-size: .9em;}\n\nhr {\n	height: 1px;\n}\n\na{\n	text-decoration: none;\n}\n\ndt {font-weight: bold;}\n\nol { list-style-type: decimal }\nol ol { list-style-type: lower-alpha }\nol ol ol { list-style-type: lower-roman }\nol ol ol ol { list-style-type: decimal }\nol ol ol ol ol { list-style-type: lower-alpha }\nol ol ol ol ol ol { list-style-type: lower-roman }\nol ol ol ol ol ol ol { list-style-type: decimal }\n\n.txtOptionInput {\n	width: 11em;\n}\n\n#contentWrapper .chkOptionInput {\n	border: 0;\n}\n\n.externalLink {\n	text-decoration: underline;\n}\n\n.indent {margin-left:3em;}\n.outdent {margin-left:3em; text-indent:-3em;}\ncode.escaped {white-space:nowrap;}\n\n.tiddlyLinkExisting {\n	font-weight: bold;\n}\n\n.tiddlyLinkNonExisting {\n	font-style: italic;\n}\n\n/* the 'a' is required for IE, otherwise it renders the whole tiddler a bold */\na.tiddlyLinkNonExisting.shadow {\n	font-weight: bold;\n}\n\n#mainMenu .tiddlyLinkExisting, \n#mainMenu .tiddlyLinkNonExisting,\n#sidebarTabs .tiddlyLinkNonExisting{\n font-weight: normal;\n font-style: normal;\n}\n\n#sidebarTabs .tiddlyLinkExisting {\n font-weight: bold;\n font-style: normal;\n}\n\n.header {\n		position: relative;\n}\n\n.header a:hover {\n	background: transparent;\n}\n\n.headerShadow {\n	position: relative;\n	padding: 4.5em 0em 1em 1em;\n	left: -1px;\n	top: -1px;\n}\n\n.headerForeground {\n	position: absolute;\n	padding: 4.5em 0em 1em 1em;\n	left: 0px;\n	top: 0px;\n}\n\n.siteTitle {\n	font-size: 3em;\n}\n\n.siteSubtitle {\n	font-size: 1.2em;\n}\n\n#mainMenu {\n	position: absolute;\n	left: 0;\n	width: 10em;\n	text-align: right;\n	line-height: 1.6em;\n	padding: 1.5em 0.5em 0.5em 0.5em;\n	font-size: 1.1em;\n}\n\n#sidebar {\n	position: absolute;\n	right: 3px;\n	width: 16em;\n	font-size: .9em;\n}\n\n#sidebarOptions {\n	padding-top: 0.3em;\n}\n\n#sidebarOptions a {\n	margin: 0em 0.2em;\n	padding: 0.2em 0.3em;\n	display: block;\n}\n\n#sidebarOptions input {\n	margin: 0.4em 0.5em;\n}\n\n#sidebarOptions .sliderPanel {\n	margin-left: 1em;\n	padding: 0.5em;\n	font-size: .85em;\n}\n\n#sidebarOptions .sliderPanel a {\n	font-weight: bold;\n	display: inline;\n	padding: 0;\n}\n\n#sidebarOptions .sliderPanel input {\n	margin: 0 0 .3em 0;\n}\n\n#sidebarTabs .tabContents {\n	width: 15em;\n	overflow: hidden;\n}\n\n.wizard {\n	padding: 0.1em 0em 0em 2em;\n}\n\n.wizard h1 {\n	font-size: 2em;\n	font-weight: bold;\n	background: none;\n	padding: 0em 0em 0em 0em;\n	margin: 0.4em 0em 0.2em 0em;\n}\n\n.wizard h2 {\n	font-size: 1.2em;\n	font-weight: bold;\n	background: none;\n	padding: 0em 0em 0em 0em;\n	margin: 0.2em 0em 0.2em 0em;\n}\n\n.wizardStep {\n	padding: 1em 1em 1em 1em;\n}\n\n.wizard .button {\n	margin: 0.5em 0em 0em 0em;\n	font-size: 1.2em;\n}\n\n#messageArea {\nposition:absolute; top:0; right:0; margin: 0.5em; padding: 0.5em;\n}\n\n*[id='messageArea'] {\nposition:fixed !important; z-index:99;}\n\n.messageToolbar {\ndisplay: block;\ntext-align: right;\n}\n\n#messageArea a{\n	text-decoration: underline;\n}\n\n.popup {\n	font-size: .9em;\n	padding: 0.2em;\n	list-style: none;\n	margin: 0;\n}\n\n.popup hr {\n	display: block;\n	height: 1px;\n	width: auto;\n	padding: 0;\n	margin: 0.2em 0em;\n}\n\n.listBreak {\n	font-size: 1px;\n	line-height: 1px;\n}\n\n.listBreak div {\n	margin: 2px 0;\n}\n\n.popup li.disabled {\n	padding: 0.2em;\n}\n\n.popup li a{\n	display: block;\n	padding: 0.2em;\n}\n\n.tabset {\n	padding: 1em 0em 0em 0.5em;\n}\n\n.tab {\n	margin: 0em 0em 0em 0.25em;\n	padding: 2px;\n}\n\n.tabContents {\n	padding: 0.5em;\n}\n\n.tabContents ul, .tabContents ol {\n	margin: 0;\n	padding: 0;\n}\n\n.txtMainTab .tabContents li {\n	list-style: none;\n}\n\n.tabContents li.listLink {\n	 margin-left: .75em;\n}\n\n#displayArea {\n	margin: 1em 17em 0em 14em;\n}\n\n\n.toolbar {\n	text-align: right;\n	font-size: .9em;\n	visibility: hidden;\n}\n\n.selected .toolbar {\n	visibility: visible;\n}\n\n.tiddler {\n	padding: 1em 1em 0em 1em;\n}\n\n.missing .viewer,.missing .title {\n	font-style: italic;\n}\n\n.title {\n	font-size: 1.6em;\n	font-weight: bold;\n}\n\n.missing .subtitle {\n display: none;\n}\n\n.subtitle {\n	font-size: 1.1em;\n}\n\n.tiddler .button {\n	padding: 0.2em 0.4em;\n}\n\n.tagging {\nmargin: 0.5em 0.5em 0.5em 0;\nfloat: left;\ndisplay: none;\n}\n\n.isTag .tagging {\ndisplay: block;\n}\n\n.tagged {\nmargin: 0.5em;\nfloat: right;\n}\n\n.tagging, .tagged {\nfont-size: 0.9em;\npadding: 0.25em;\n}\n\n.tagging ul, .tagged ul {\nlist-style: none;margin: 0.25em;\npadding: 0;\n}\n\n.tagClear {\nclear: both;\n}\n\n.footer {\n	font-size: .9em;\n}\n\n.footer li {\ndisplay: inline;\n}\n\n* html .viewer pre {\n	width: 99%;\n	padding: 0 0 1em 0;\n}\n\n.viewer {\n	line-height: 1.4em;\n	padding-top: 0.5em;\n}\n\n.viewer .button {\n	margin: 0em 0.25em;\n	padding: 0em 0.25em;\n}\n\n.viewer blockquote {\n	line-height: 1.5em;\n	padding-left: 0.8em;\n	margin-left: 2.5em;\n}\n\n.viewer ul, .viewer ol{\n	margin-left: 0.5em;\n	padding-left: 1.5em;\n}\n\n.viewer table {\n	border-collapse: collapse;\n	margin: 0.8em 1.0em;\n}\n\n.viewer th, .viewer td, .viewer tr,.viewer caption{\n	padding: 3px;\n}\n\n.viewer table.listView {\n	font-size: 0.85em;\n	margin: 0.8em 1.0em;\n}\n\n.viewer table.listView th, .viewer table.listView td, .viewer table.listView tr {\n	padding: 0px 3px 0px 3px;\n}\n\n.viewer pre {\n	padding: 0.5em;\n	margin-left: 0.5em;\n	font-size: 1.2em;\n	line-height: 1.4em;\n	overflow: auto;\n}\n\n.viewer code {\n	font-size: 1.2em;\n	line-height: 1.4em;\n}\n\n.editor {\nfont-size: 1.1em;\n}\n\n.editor input, .editor textarea {\n	display: block;\n	width: 100%;\n	font: inherit;\n}\n\n.editorFooter {\n	padding: 0.25em 0em;\n	font-size: .9em;\n}\n\n.editorFooter .button {\npadding-top: 0px; padding-bottom: 0px;}\n\n.fieldsetFix {border: 0;\npadding: 0;\nmargin: 1px 0px 1px 0px;\n}\n\n.sparkline {\n	line-height: 1em;\n}\n\n.sparktick {\n	outline: 0;\n}\n\n.zoomer {\n	font-size: 1.1em;\n	position: absolute;\n	padding: 1em;\n}\n\n.cascade {\n	font-size: 1.1em;\n	position: absolute;\n	overflow: hidden;\n}\n/*}}}*/",
	StyleSheetPrint: "/*{{{*/\n@media print {\n#mainMenu, #sidebar, #messageArea, .toolbar {display: none ! important;}\n#displayArea {margin: 1em 1em 0em 1em;}\n/* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */\nnoscript {display:none;}\n}\n/*}}}*/",
	PageTemplate: "<!--{{{-->\n<div class='header' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'>\n<div class='headerShadow'>\n<span class='siteTitle' refresh='content' tiddler='SiteTitle'></span>&nbsp;\n<span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'></span>\n</div>\n<div class='headerForeground'>\n<span class='siteTitle' refresh='content' tiddler='SiteTitle'></span>&nbsp;\n<span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'></span>\n</div>\n</div>\n<div id='mainMenu' refresh='content' tiddler='MainMenu'></div>\n<div id='sidebar'>\n<div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'></div>\n<div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'></div>\n</div>\n<div id='displayArea'>\n<div id='messageArea'></div>\n<div id='tiddlerDisplay'></div>\n</div>\n<!--}}}-->",
	ViewTemplate: "<!--{{{-->\n<div class='toolbar' macro='toolbar closeTiddler closeOthers +editTiddler permalink references jump'></div>\n<div class='title' macro='view title'></div>\n<div class='subtitle'><span macro='view modifier link'></span>, <span macro='view modified date [[DD MMM YYYY]]'></span> (<span macro='message views.wikified.createdPrompt'></span> <span macro='view created date [[DD MMM YYYY]]'></span>)</div>\n<div class='tagging' macro='tagging'></div>\n<div class='tagged' macro='tags'></div>\n<div class='viewer' macro='view text wikified'></div>\n<div class='tagClear'></div>\n<!--}}}-->",
	EditTemplate: "<!--{{{-->\n<div class='toolbar' macro='toolbar +saveTiddler -cancelTiddler deleteTiddler'></div>\n<div class='title' macro='view title'></div>\n<div class='editor' macro='edit title'></div>\n<div class='editor' macro='edit text'></div>\n<div class='editor' macro='edit tags'></div><div class='editorFooter'><span macro='message views.editor.tagPrompt'></span><span macro='tagChooser'></span></div>\n<!--}}}-->",
	MarkupPreHead: "<!--{{{-->\n<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml'/>\n<!--}}}-->",
	MarkupPostHead: "",
	MarkupPreBody: "",
	MarkupPostBody: ""
	};

// ---------------------------------------------------------------------------------
// Translateable strings
// ---------------------------------------------------------------------------------

// Strings in "double quotes" should be translated; strings in 'single quotes' should be left alone

merge(config.options,{
	txtUserName: "YourName"});

merge(config.messages,{
	customConfigError: "Problems were encountered loading plugins. See PluginManager for details",
	pluginError: "Error: %0",
	pluginDisabled: "Not executed because disabled via 'systemConfigDisable' tag",
	pluginForced: "Executed because forced via 'systemConfigForce' tag",
	pluginVersionError: "Not executed because this plugin needs a newer version of TiddlyWiki",
	nothingSelected: "Nothing is selected. You must select one or more items first",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#DownloadSoftware for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	tiddlerLinkTooltip: "%0 - %1, %2",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes. This could be because your browser doesn't support saving (instead, use FireFox if you can), or because the pathname to your TiddlyWiki file contains illegal characters",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<%0>>",
	macroErrorDetails: "Error while executing macro <<%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	confirmExit: "--------------------------------\n\nThere are unsaved changes in TiddlyWiki. If you continue you will lose those changes\n\n--------------------------------",
	saveInstructions: "SaveChanges",
	unsupportedTWFormat: "Unsupported TiddlyWiki format '%0'",
	tiddlerSaveError: "Error when saving tiddler '%0'",
	tiddlerLoadError: "Error when loading tiddler '%0'",
	wrongSaveFormat: "Cannot save with storage format '%0'. Using standard format for save.",
	invalidFieldName: "Invalid field name %0",
	fieldCannotBeChanged: "Field '%0' cannot be changed"});

merge(config.messages.messageClose,{
	text: "close",
	tooltip: "close this message area"});

config.messages.dates.months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"];
config.messages.dates.days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
config.messages.dates.shortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
config.messages.dates.shortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];

merge(config.views.wikified.tag,{
	labelNoTags: "no tags",
	labelTags: "tags: ",
	openTag: "Open tag '%0'",
	tooltip: "Show tiddlers tagged with '%0'",
	openAllText: "Open all",
	openAllTooltip: "Open all of these tiddlers",
	popupNone: "No other tiddlers tagged with '%0'"});

merge(config.views.wikified,{
	defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
	defaultModifier: "(missing)",
	shadowModifier: "(built-in shadow tiddler)",
	createdPrompt: "created"});

merge(config.views.editor,{
	tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
	defaultText: "Type the text for '%0'"});

merge(config.views.editor.tagChooser,{
	text: "tags",
	tooltip: "Choose existing tags to add to this tiddler",
	popupNone: "There are no tags defined",
	tagTooltip: "Add the tag '%0'"});

merge(config.macros.search,{
	label: "search",
	prompt: "Search this TiddlyWiki",
	accessKey: "F",
	successMsg: "%0 tiddlers found matching %1",
	failureMsg: "No tiddlers found matching %0"});

merge(config.macros.tagging,{
	label: "tagging: ",
	labelNotTag: "not tagging",
	tooltip: "List of tiddlers tagged with '%0'"});

merge(config.macros.timeline,{
	dateFormat: "DD MMM YYYY"});

merge(config.macros.allTags,{
	tooltip: "Show tiddlers tagged with '%0'",
	noTags: "There are no tagged tiddlers"});

config.macros.list.all.prompt = "All tiddlers in alphabetical order";
config.macros.list.missing.prompt = "Tiddlers that have links to them but are not defined";
config.macros.list.orphans.prompt = "Tiddlers that are not linked to from any other tiddlers";
config.macros.list.shadowed.prompt = "Tiddlers shadowed with default contents";

merge(config.macros.closeAll,{
	label: "close all",
	prompt: "Close all displayed tiddlers (except any that are being edited)"});

merge(config.macros.permaview,{
	label: "permaview",
	prompt: "Link to an URL that retrieves all the currently displayed tiddlers"});

merge(config.macros.saveChanges,{
	label: "save changes",
	prompt: "Save all tiddlers to create a new TiddlyWiki",
	accessKey: "S"});

merge(config.macros.newTiddler,{
	label: "new tiddler",
	prompt: "Create a new tiddler",
	title: "New Tiddler",
	accessKey: "N"});

merge(config.macros.newJournal,{
	label: "new journal",
	prompt: "Create a new tiddler from the current date and time",
	accessKey: "J"});

merge(config.macros.plugins,{
	skippedText: "(This plugin has not been executed because it was added since startup)",
	noPluginText: "There are no plugins installed",
	confirmDeleteText: "Are you sure you want to delete these tiddlers:\n\n%0",
	listViewTemplate : {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Title', field: 'title', tiddlerLink: 'title', title: "Title", type: 'TiddlerLink'},
			{name: 'Forced', field: 'forced', title: "Forced", tag: 'systemConfigForce', type: 'TagCheckbox'},
			{name: 'Disabled', field: 'disabled', title: "Disabled", tag: 'systemConfigDisable', type: 'TagCheckbox'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			],
		actions: [
			{caption: "More actions...", name: ''},
			{caption: "Remove systemConfig tag", name: 'remove'},
			{caption: "Delete these tiddlers forever", name: 'delete'}
			]}
	});

merge(config.macros.refreshDisplay,{
	label: "refresh",
	prompt: "Redraw the entire TiddlyWiki display"
	});

merge(config.macros.importTiddlers,{
	readOnlyWarning: "You cannot import tiddlers into a read-only TiddlyWiki. Try opening the TiddlyWiki file from a file:// URL",
	defaultPath: "http://www.tiddlywiki.com/index.html",
	fetchLabel: "fetch",
	fetchPrompt: "Fetch the tiddlywiki file",
	fetchError: "There were problems fetching the tiddlywiki file",
	confirmOverwriteText: "Are you sure you want to overwrite these tiddlers:\n\n%0",
	wizardTitle: "Import tiddlers from another TiddlyWiki file",
	step1: "Step 1: Locate the TiddlyWiki file",
	step1prompt: "Enter the URL or pathname here: ",
	step1promptFile: "...or browse for a file: ",
	step1promptFeeds: "...or select a pre-defined feed: ",
	step1feedPrompt: "Choose...",
	step2: "Step 2: Loading TiddlyWiki file",
	step2Text: "Please wait while the file is loaded from: %0",
	step3: "Step 3: Choose the tiddlers to import",
	step4: "%0 tiddler(s) imported",
	step5: "Done",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Title', field: 'title', title: "Title", type: 'String'},
			{name: 'Snippet', field: 'text', title: "Snippet", type: 'String'},
			{name: 'Tags', field: 'tags', title: "Tags", type: 'Tags'}
			],
		rowClasses: [
			],
		actions: [
			{caption: "More actions...", name: ''},
			{caption: "Import these tiddlers", name: 'import'}
			]}
	});

merge(config.commands.closeTiddler,{
	text: "close",
	tooltip: "Close this tiddler"});

merge(config.commands.closeOthers,{
	text: "close others",
	tooltip: "Close all other tiddlers"});

merge(config.commands.editTiddler,{
	text: "edit",
	tooltip: "Edit this tiddler",
	readOnlyText: "view",
	readOnlyTooltip: "View the source of this tiddler"});

merge(config.commands.saveTiddler,{
	text: "done",
	tooltip: "Save changes to this tiddler"});

merge(config.commands.cancelTiddler,{
	text: "cancel",
	tooltip: "Undo changes to this tiddler",
	warning: "Are you sure you want to abandon your changes to '%0'?",
	readOnlyText: "done",
	readOnlyTooltip: "View this tiddler normally"});

merge(config.commands.deleteTiddler,{
	text: "delete",
	tooltip: "Delete this tiddler",
	warning: "Are you sure you want to delete '%0'?"});

merge(config.commands.permalink,{
	text: "permalink",
	tooltip: "Permalink for this tiddler"});

merge(config.commands.references,{
	text: "references",
	tooltip: "Show tiddlers that link to this one",
	popupNone: "No references"});

merge(config.commands.jump,{
	text: "jump",
	tooltip: "Jump to another open tiddler"});

merge(config.shadowTiddlers,{
	DefaultTiddlers: "GettingStarted",
	MainMenu: "GettingStarted",
	SiteTitle: "My TiddlyWiki",
	SiteSubtitle: "a reusable non-linear personal web notebook",
	SiteUrl: "http://www.tiddlywiki.com/",
	GettingStarted: "To get started with this blank TiddlyWiki, you'll need to modify the following tiddlers:\n* SiteTitle & SiteSubtitle: The title and subtitle of the site, as shown above (after saving, they will also appear in the browser title bar)\n* MainMenu: The menu (usually on the left)\n* DefaultTiddlers: Contains the names of the tiddlers that you want to appear when the TiddlyWiki is opened\nYou'll also need to enter your username for signing your edits: <<option txtUserName>>",
	SideBarOptions: "<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal 'DD MMM YYYY'>><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel 'options »' 'Change TiddlyWiki advanced options'>>",
	OptionsPanel: "These InterfaceOptions for customising TiddlyWiki are saved in your browser\n\nYour username for signing your edits. Write it as a WikiWord (eg JoeBloggs)\n\n<<option txtUserName>>\n<<option chkSaveBackups>> SaveBackups\n<<option chkAutoSave>> AutoSave\n<<option chkRegExpSearch>> RegExpSearch\n<<option chkCaseSensitiveSearch>> CaseSensitiveSearch\n<<option chkAnimate>> EnableAnimations\n\n----\nAdvancedOptions\nPluginManager\nImportTiddlers",
	AdvancedOptions: "<<option chkGenerateAnRssFeed>> GenerateAnRssFeed\n<<option chkOpenInNewWindow>> OpenLinksInNewWindow\n<<option chkSaveEmptyTemplate>> SaveEmptyTemplate\n<<option chkToggleLinks>> Clicking on links to tiddlers that are already open causes them to close\n^^(override with Control or other modifier key)^^\n<<option chkHttpReadOnly>> HideEditingFeatures when viewed over HTTP\n<<option chkForceMinorUpdate>> Treat edits as MinorChanges by preserving date and time\n^^(override with Shift key when clicking 'done' or by pressing Ctrl-Shift-Enter^^\n<<option chkConfirmDelete>> ConfirmBeforeDeleting\nMaximum number of lines in a tiddler edit box: <<option txtMaxEditRows>>\nFolder name for backup files: <<option txtBackupFolder>>\n<<option chkInsertTabs>> Use tab key to insert tab characters instead of jumping to next field",
	SideBarTabs: "<<tabs txtMainTab Timeline Timeline TabTimeline All 'All tiddlers' TabAll Tags 'All tags' TabTags More 'More lists' TabMore>>",
	TabTimeline: "<<timeline>>",
	TabAll: "<<list all>>",
	TabTags: "<<allTags>>",
	TabMore: "<<tabs txtMoreTab Missing 'Missing tiddlers' TabMoreMissing Orphans 'Orphaned tiddlers' TabMoreOrphans Shadowed 'Shadowed tiddlers' TabMoreShadowed>>",
	TabMoreMissing: "<<list missing>>",
	TabMoreOrphans: "<<list orphans>>",
	TabMoreShadowed: "<<list shadowed>>",
	PluginManager: "<<plugins>>",
	ImportTiddlers: "<<importTiddlers>>"});

// ---------------------------------------------------------------------------------
// Main
// ---------------------------------------------------------------------------------

var params = null; // Command line parameters
var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
config.parsers = {}; // Hashmap of alternative parsers for the wikifier
var anim = new Animator(); // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...
var hadConfirmExit = false; // Don't warn more than once
var safeMode = false; // Disable all plugins and cookies
var installedPlugins = []; // Information filled in when plugins are executed
var startingUp = false; // Whether we're in the process of starting up
var pluginInfo,tiddler; // Used to pass information to plugins in loadPlugins()

// Whether to use the JavaSaver applet
var useJavaSaver = config.browser.isSafari || config.browser.isOpera;

// Starting up
function main()
{
	var now, then = new Date();
	startingUp = true;
	window.onbeforeunload = function(e) {if(window.confirmExit) return confirmExit();};
	params = getParameters();
	if(params)
		params = params.parseParams("open",null,false);
	store = new TiddlyWiki();
	invokeParamifier(params,"oninit");
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	loadOptionsCookie();
	for(var s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	store.loadFromDiv("storeArea","store",true);
	invokeParamifier(params,"onload");
	var pluginProblem = loadPlugins();
	formatter = new Formatter(config.formatters);
	readOnly = (window.location.protocol == "file:") ? false : config.options.chkHttpReadOnly;
	invokeParamifier(params,"onconfig");
	store.notifyAll();
	restart();
	if(pluginProblem)
		{
		story.displayTiddler(null,"PluginManager");
		displayMessage(config.messages.customConfigError);
		}
	now = new Date();
	if(config.displayStartupTime)
		displayMessage("TiddlyWiki startup in " + (now-then)/1000 + " seconds");
	startingUp = false;
}

// Restarting
function restart()
{
	invokeParamifier(params,"onstart");
	if(story.isEmpty())
		{
		var defaultParams = store.getTiddlerText("DefaultTiddlers").parseParams("open",null,false);
		invokeParamifier(defaultParams,"onstart");
		}
	window.scrollTo(0,0);
}

function saveTest()
{
	var saveTest = document.getElementById("saveTest");
	if(saveTest.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	saveTest.appendChild(document.createTextNode("savetest"));
}

function loadPlugins()
{
	if(safeMode)
		return false;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	installedPlugins = [];
	var hadProblem = false;
	for(var t=0; t<configTiddlers.length; t++)
		{
		tiddler = configTiddlers[t];
		pluginInfo = getPluginInfo(tiddler);
		if(isPluginExecutable(pluginInfo))
			{
			pluginInfo.executed = true;
			pluginInfo.error = false;
			try
				{
				if(tiddler.text && tiddler.text != "")
					window.eval(tiddler.text);
				}
			catch(e)
				{
				pluginInfo.log.push(config.messages.pluginError.format([exceptionText(e)]));
				pluginInfo.error = true;
				hadProblem = true;
				}
			}
		else
			pluginInfo.warning = true;
		installedPlugins.push(pluginInfo);
		}
	return hadProblem;
}

function getPluginInfo(tiddler)
{
	var p = store.getTiddlerSlices(tiddler.title,["Name","Description","Version","CoreVersion","Date","Source","Author","License","Browsers"]);
	p.tiddler = tiddler;
	p.title = tiddler.title;
	p.log = [];
	return p;
}

// Check that a particular plugin is valid for execution
function isPluginExecutable(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigDisable"))
		return verifyTail(plugin,false,config.messages.pluginDisabled);
	if(plugin.tiddler.isTagged("systemConfigForce"))
		return verifyTail(plugin,true,config.messages.pluginForced);
	if(plugin["CoreVersion"])
		{
		var coreVersion = plugin["CoreVersion"].split(".");
		var w = parseInt(coreVersion[0]) - version.major;
		if(w == 0 && coreVersion[1])
			w = parseInt(coreVersion[1]) - version.minor;
		if(w == 0 && coreVersion[2])
		 	w = parseInt(coreVersion[2]) - version.revision;
		if(w > 0)
			return verifyTail(plugin,false,config.messages.pluginVersionError);
		}
	return true;
}

function verifyTail(plugin,result,message)
{
	plugin.log.push(message);
	return result;
}

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try
		{
		var m = config.macros[macro];
		if(m && m.handler)
			m.handler(place,macro,params.readMacroParams(),wikifier,params,tiddler);
		else
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
		}
	catch(ex)
		{
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
		}
}

// ---------------------------------------------------------------------------------
// Paramifiers
// ---------------------------------------------------------------------------------

function getParameters()
{
	var p = null;
	if(window.location.hash)
		{
		p = decodeURI(window.location.hash.substr(1));
		if(config.browser.firefoxDate != null && config.browser.firefoxDate[1] < "20051111")
			p = convertUTF8ToUnicode(p);
		}
	return p;
}

function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length <= 1)
		return;
	for(var t=1; t<params.length; t++)
		{
		var p = config.paramifiers[params[t].name];
		if(p && p[handler] instanceof Function)
			p[handler](params[t].value);
		}
}

config.paramifiers = {};

config.paramifiers.start = {
	oninit: function(v) {
		safeMode = v.toLowerCase() == "safe";
		}
};

config.paramifiers.open = {
	onstart: function(v) {
		story.displayTiddler("bottom",v,null,false,false);
		}
};

config.paramifiers.story = {
	onstart: function(v) {
		var list = store.getTiddlerText(v,"").parseParams("open",null,false);
		invokeParamifier(list,"onstart");
		}
};

config.paramifiers.search = {
	onstart: function(v) {
		story.search(v,false,false);
		}
};

config.paramifiers.searchRegExp = {
	onstart: function(v) {
		story.prototype.search(v,false,true);
		}
};

config.paramifiers.tag = {
	onstart: function(v) {
		var tagged = store.getTaggedTiddlers(v,"title");
		for(var t=0; t<tagged.length; t++)
			story.displayTiddler("bottom",tagged[t].title,null,false,false);
		}
};

config.paramifiers.newTiddler = {
	onstart: function(v) {
		if(!readOnly)
			{
			story.displayTiddler(null,v,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(v,"text");
			}
		}
};

config.paramifiers.newJournal = {
	onstart: function(v) {
		if(!readOnly)
			{
			var now = new Date();
			var title = now.formatString(v.trim());
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(title,"text");
			}
		}
};

// ---------------------------------------------------------------------------------
// Formatter helpers
// ---------------------------------------------------------------------------------

function Formatter(formatters)
{
	this.formatters = [];
	var pattern = [];
	for(var n=0; n<formatters.length; n++)
		{
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
		}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	createElementAndWikify: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,this.element),this.termRegExp);
	},
	
	inlineCssHelper: function(w)
	{
		var styles = [];
		config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch)
			{
			var s,v;
			if(lookaheadMatch[1])
				{
				s = lookaheadMatch[1].unDash();
				v = lookaheadMatch[2];
				}
			else
				{
				s = lookaheadMatch[3].unDash();
				v = lookaheadMatch[4];
				}
			if (s=="bgcolor")
				s = "backgroundColor";
			styles.push({style: s, value: v});
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
			}
		return styles;
	},

	applyCssHelper: function(e,styles)
	{
		for(var t=0; t< styles.length; t++)
			{
			try
				{
				e.style[styles[t].style] = styles[t].value;
				}
			catch (ex)
				{
				}
			}
	},

	enclosedTextHelper: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			var text = lookaheadMatch[1];
			if(config.browser.isIE)
				text = text.replace(/\n/g,"\r");
			createTiddlyElement(w.output,this.element,null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			}
	},

	isExternalLink: function(link)
	{
		if(store.tiddlerExists(link) || store.isShadowTiddler(link))
			{
			//# Definitely not an external link
			return false;
			}
		var urlRegExp = new RegExp(config.textPrimitives.urlPattern,"mg");
		if(urlRegExp.exec(link))
			{
			// Definitely an external link
			return true;
			}
		if (link.indexOf(".")!=-1 || link.indexOf("\\")!=-1 || link.indexOf("http://informationr.net/")!=-1)
			{
			//# Link contains . / or \ so is probably an external link
			return true;
			}
		//# Otherwise assume it is not an external link
		return false;
	}

};

// ---------------------------------------------------------------------------------
// Standard formatters
// ---------------------------------------------------------------------------------

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {"c":"caption", "h":"thead", "":"tbody", "f":"tfoot"},

	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table");
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch)
			{
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == "k")
				{
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
				}
			else
				{
				if(nextRowType != currRowType)
					{
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
					}
				if(currRowType == "c")
					{
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute("align",rowCount == 0?"top":"bottom");
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
					}
				else
					{
					this.rowHandler(w,createTiddlyElement(rowContainer,"tr",null,(rowCount&1)?"oddRow":"evenRow"),prevColumns);
					rowCount++;
					}
				}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch && cellMatch.index == w.nextMatch)
			{
			if(cellMatch[1] == "~")
				{
				// Rowspan
				var last = prevColumns[col];
				if(last)
					{
					last.rowSpanCount++;
					last.element.setAttribute("rowspan",last.rowSpanCount);
					last.element.setAttribute("rowSpan",last.rowSpanCount); // Needed for IE
					last.element.valign = "center";
					}
				w.nextMatch = this.cellRegExp.lastIndex-1;
				}
			else if(cellMatch[1] == ">")
				{
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
				}
			else if(cellMatch[2])
				{
				// End of row
				if(prevCell && colSpanCount > 1)
					{
					prevCell.setAttribute("colspan",colSpanCount);
					prevCell.setAttribute("colSpan",colSpanCount); // Needed for IE
					}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
				}
			else
				{
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == " ")
					{
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
					}
				var cell;
				if(chr == "!")
					{
					cell = createTiddlyElement(e,"th");
					w.nextMatch++;
					}
				else
					cell = createTiddlyElement(e,"td");
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1, element:cell};
				if(colSpanCount > 1)
					{
					cell.setAttribute("colspan",colSpanCount);
					cell.setAttribute("colSpan",colSpanCount); // Needed for IE
					colSpanCount = 1;
					}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == " ") // spaceRight
					cell.align = spaceLeft ? "center" : "left";
				else if(spaceLeft)
					cell.align = "right";
				w.nextMatch--;
				}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
			}
	}
},

{
	name: "heading",
	match: "^!{1,5}",
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,"h" + w.matchLength),this.termRegExp);
	}
},

{
	name: "list",
	match: "^(?:(?:(?:\\*)|(?:#)|(?:;)|(?::))+)",
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var placeStack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch)
			{
			if(lookaheadMatch[1])
				{
				listType = "ul";
				itemType = "li";
				}
			else if(lookaheadMatch[2])
				{
				listType = "ol";
				itemType = "li";
				}
			else if(lookaheadMatch[3])
				{
				listType = "dl";
				itemType = "dt";
				}
			else if(lookaheadMatch[4])
				{
				listType = "dl";
				itemType = "dd";
				}
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			if(listLevel > currLevel)
				{
				for(var t=currLevel; t<listLevel; t++)
					placeStack.push(createTiddlyElement(placeStack[placeStack.length-1],listType));
				}
			else if(listLevel < currLevel)
				{
				for(var t=currLevel; t>listLevel; t--)
					placeStack.pop();
				}
			else if(listLevel == currLevel && listType != currType)
				{
				placeStack.pop();
				placeStack.push(createTiddlyElement(placeStack[placeStack.length-1],listType));
				}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(placeStack[placeStack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	termRegExp: /(^<<<(\n|$))/mg,
	element: "blockquote",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "quoteByLine",
	match: "^>+",
	lookaheadRegExp: /^>+/mg,
	termRegExp: /(\n)/mg,
	element: "blockquote",
	handler: function(w)
	{
		var placeStack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t;
		do {
			if(newLevel > currLevel)
				{
				for(t=currLevel; t<newLevel; t++)
					placeStack.push(createTiddlyElement(placeStack[placeStack.length-1],this.element));
				}
			else if(newLevel < currLevel)
				{
				for(t=currLevel; t>newLevel; t--)
					placeStack.pop();
				}
			currLevel = newLevel;
			w.subWikifyTerm(placeStack[placeStack.length-1],this.termRegExp);
			createTiddlyElement(placeStack[placeStack.length-1],"br");
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			var matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched)
				{
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
				}
		} while(matched);
	}
},

{
	name: "rule",
	match: "^----+$\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "monospacedByLine",
	match: "^\\{\\{\\{\\n",
	lookaheadRegExp: /^\{\{\{\n((?:^[^\n]*\n)+?)(^\}\}\}$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "monospacedByLineForCSS",
	match: "^/\\*[\\{]{3}\\*/\\n",
	lookaheadRegExp: /\/\*[\{]{3}\*\/\n*((?:^[^\n]*\n)+?)(\n*^\/\*[\}]{3}\*\/$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "monospacedByLineForPlugin",
	match: "^//\\{\\{\\{\\n",
	lookaheadRegExp: /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\/\/\}\}\}$\n?)/mg,
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "monospacedByLineForTemplate",
	match: "^<!--[\\{]{3}-->\\n",
	lookaheadRegExp: /<!--[\{]{3}-->\n*((?:^[^\n]*\n)+?)(\n*^<!--[\}]{3}-->$\n?)/mg, 
	element: "pre",
	handler: config.formatterHelpers.enclosedTextHelper
},

{
	name: "wikifyCommentForPlugin", 
	match: "^/\\*\\*\\*\\n",
	termRegExp: /(^\*\*\*\/\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(w.output,this.termRegExp);
	}
},

{
	name: "wikifyCommentForTemplate", 
	match: "^<!---\\n",
	termRegExp: /(^--->\n)/mg,
	handler: function(w) 
	{
		w.subWikifyTerm(w.output,this.termRegExp);
	}
},

{
	name: "macro",
	match: "<<",
	lookaheadRegExp: /<<([^>\s]+)(?:\s*)((?:[^>]|(?:>(?!>)))*)>>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1])
			{
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
			}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3])
				{
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] && config.formatterHelpers.isExternalLink(link))
						? createExternalLink(w.output,link)
						: createTiddlyLink(w.output,link,false,null,w.isStatic);
				}
			else
				{
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic);
				}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
	}
},

{
	name: "unWikiLink",
	match: config.textPrimitives.unWikiLink+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		w.outputText(w.output,w.matchStart+1,w.nextMatch);
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchStart > 0)
			{
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,"mg");
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1)
				{
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
				}
			}
		if(w.autoLinkWikiWords == true || store.isShadowTiddler(w.matchText))
			{
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic);
			w.outputText(link,w.matchStart,w.nextMatch);
			}
		else
			{
			w.outputText(w.output,w.matchStart,w.nextMatch);
			}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[[<>]?[Ii][Mm][Gg]\\[",
	lookaheadRegExp: /\[(<?)(>?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) // Simple bracketted link
			{
			var e = w.output;
			if(lookaheadMatch[5])
				{
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic);
				addClass(e,"imageLink");
				}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3])
				img.title = lookaheadMatch[3];
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookaheadRegExp: /<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			createTiddlyElement(w.output,"span").innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: "boldByChar",
	match: "''",
	termRegExp: /('')/mg,
	element: "strong",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "italicByChar",
	match: "//",
	termRegExp: /(\/\/)/mg,
	element: "em",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "underlineByChar",
	match: "__",
	termRegExp: /(__)/mg,
	element: "u",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "strikeByChar",
	match: "--(?!\\s|$)",
	termRegExp: /((?!\s)--|(?=\n\n))/mg,
	element: "strike",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "superscriptByChar",
	match: "\\^\\^",
	termRegExp: /(\^\^)/mg,
	element: "sup",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "subscriptByChar",
	match: "~~",
	termRegExp: /(~~)/mg,
	element: "sub",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "monospacedByChar",
	match: "\\{\\{\\{",
	lookaheadRegExp: /\{\{\{((?:.|\n)*?)\}\}\}/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
	}
},

{
	name: "styleByChar",
	match: "@@",
	termRegExp: /(@@)/mg,
	handler:  function(w)
	{
		var e = createTiddlyElement(w.output,"span");
		var styles = config.formatterHelpers.inlineCssHelper(w);
		if(styles.length == 0)
			e.className = "marked";
		else
			config.formatterHelpers.applyCssHelper(e,styles);
		w.subWikifyTerm(e,this.termRegExp);
	}
},

{
	name: "lineBreak",
	match: "\\n|<br ?/?>",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "rawText",
	match: "\\\"{3}|<nowiki>",
	lookaheadRegExp: /(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source)
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			{
			createTiddlyElement(w.output,"span",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			}
	}
},

{
	name: "mdash",
	match: "--",
	handler: function(w)
		{
		createTiddlyElement(w.output,"span").innerHTML = "&mdash;";
		}
},

{
	name: "htmlEntitiesEncoding",
	match: "(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",
	handler: function(w)
		{
		createTiddlyElement(w.output,"span").innerHTML = w.matchText;
		}
},

{
	name: "customClasses",
	match: "\\{\\{",
	termRegExp: /(\}\}\})/mg,
	lookaheadRegExp: /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch)
			{
			var e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			w.subWikifyTerm(e,this.termRegExp);
			}
	}
}

];

// ---------------------------------------------------------------------------------
// Wikifier
// ---------------------------------------------------------------------------------

function getParser(tiddler)
{
	var f = formatter;
	if(tiddler!=null)
		{
		for(var i in config.parsers)
			{
			if(tiddler.isTagged(config.parsers[i].formatTag))
				{
				f = config.parsers[i];
				break;
				}
			}
		}
	return f;
}

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source && source != "")
		{
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		wikifier.subWikifyUnterm(output);
		}
}

function wikifyStatic(source,highlightRegExp,tiddler)
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	var html = "";
	if(source && source != "")
		{
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		wikifier.isStatic = true;
		wikifier.subWikifyUnterm(e);
		html = e.innerHTML;
		e.parentNode.removeChild(e);
		}
	return html;
}

// Wikify a named tiddler to plain text
function wikifyPlain(title)
{
	if(store.tiddlerExists(title) || store.isShadowTiddler(title))
		{
		var wikifier = new Wikifier(store.getTiddlerText(title),formatter,null,store.getTiddler(title));
		return wikifier.wikifyPlain();
		}
	else
		return "";
}

// Highlight plain text into an element
function highlightify(source,output,highlightRegExp)
{
	if(source && source != "")
		{
		var wikifier = new Wikifier(source,formatter,highlightRegExp);
		wikifier.outputText(output,0,source.length);
		}
}

// Construct a wikifier object
// source - source string that's going to be wikified
// formatter - Formatter() object containing the list of formatters to be used
// highlightRegExp - regular expression of the text string to highlight
// tiddler - reference to the tiddler that's taken to be the container for this wikification
function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.autoLinkWikiWords = tiddler && tiddler.autoLinkWikiWords() == false ? false : true;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;
	this.isStatic = false;
	if(highlightRegExp)
		{
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
		}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	this.subWikify(e);
	var text = getPlainText(e);
	e.parentNode.removeChild(e);
	return text;
}

Wikifier.prototype.subWikify = function(output,terminator)
{
	// Handle the terminated and unterminated cases separately
	if (terminator)
		this.subWikifyTerm(output,new RegExp("(" + terminator + ")","mg"));
	else
		this.subWikifyUnterm(output);
}

Wikifier.prototype.subWikifyUnterm = function(output)
{
	// subWikify() can be indirectly recursive, so we need to save the old output pointer
	var oldOutput = this.output;
	this.output = output;
	// Get the first match
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	while(formatterMatch)
		{
		// Output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters for the handler
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		// Figure out which formatter matched and call its handler
		for(var t=1; t<formatterMatch.length; t++)
			{
			if(formatterMatch[t])
				{
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
				}
			}
		// Get the next match
		formatterMatch = this.formatter.formatterRegExp.exec(this.source);
		}
	// Output any text after the last match
	if(this.nextMatch < this.source.length)
		{
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
		}
	// Restore the output pointer
	this.output = oldOutput;
}

Wikifier.prototype.subWikifyTerm = function(output,terminatorRegExp)
{
	// subWikify() can be indirectly recursive, so we need to save the old output pointer
	var oldOutput = this.output;
	this.output = output;
	// Get the first matches for the formatter and terminator RegExps
	terminatorRegExp.lastIndex = this.nextMatch;
	var terminatorMatch = terminatorRegExp.exec(this.source);
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	while(terminatorMatch || formatterMatch)
		{
		// Check for a terminator match  before the next formatter match
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index))
			{
			// Output any text before the match
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			// Set the match parameters
			this.matchText = terminatorMatch[1];
			this.matchLength = terminatorMatch[1].length;
			this.matchStart = terminatorMatch.index;
			this.nextMatch = this.matchStart + this.matchLength;
			// Restore the output pointer
			this.output = oldOutput;
			return;
			}
		// It must be a formatter match; output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		// Figure out which formatter matched and call its handler
		for(var t=1; t<formatterMatch.length; t++)
			{
			if(formatterMatch[t])
				{
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
				}
			}
		// Get the next match
		terminatorRegExp.lastIndex = this.nextMatch;
		terminatorMatch = terminatorRegExp.exec(this.source);
		formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
		}
	// Output any text after the last match
	if(this.nextMatch < this.source.length)
		{
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
		}
	// Restore the output pointer
	this.output = oldOutput;
}

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	// Check for highlights
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos))
		{
		// Deal with any plain text before the highlight
		if(this.highlightMatch.index > startPos)
			{
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
			}
		// Deal with the highlight
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		var theHighlight = createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		// Nudge along to the next highlight if we're done with this one
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
		}
	// Do the unhighlighted text left over
	if(startPos < endPos)
		{
		createTiddlyText(place,this.source.substring(startPos,endPos));
		}
}

// ---------------------------------------------------------------------------------
// Macro definitions
// ---------------------------------------------------------------------------------

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text;
	if(params[0])
		text = now.formatString(params[0].trim());
	else
		text = now.toLocaleString();
	createTiddlyElement(place,"span",null,null,text);
}

config.macros.version.handler = function(place)
{
	createTiddlyElement(place,"span",null,null,version.major + "." + version.minor + "." + version.revision + (version.beta ? " (beta " + version.beta + ")" : ""));
}

config.macros.list.handler = function(place,macroName,params)
{
	var type = params[0] ? params[0] : "all";
	var theList = document.createElement("ul");
	place.appendChild(theList);
	if(this[type].prompt)
		createTiddlyElement(theList,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	for(var t = 0; t < results.length; t++)
		{
		var theListItem = document.createElement("li")
		theList.appendChild(theListItem);
		if(typeof results[t] == "string")
			createTiddlyLink(theListItem,results[t],true);
		else
			createTiddlyLink(theListItem,results[t].title,true);
		}
}

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
}

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
}

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
}

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
}

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags();
	var theDateList = createTiddlyElement(place,"ul");
	if(tags.length == 0)
		createTiddlyElement(theDateList,"li",null,"listTitle",this.noTags);
	for(var t=0; t<tags.length; t++)
		{
		var theListItem =createTiddlyElement(theDateList,"li");
		var theTag = createTiddlyButton(theListItem,tags[t][0] + " (" + tags[t][1] + ")",this.tooltip.format([tags[t][0]]),onClickTag);
		theTag.setAttribute("tag",tags[t][0]);
		}
}

config.macros.timeline.handler = function(place,macroName,params)
{
	var field = params[0] ? params[0] : "modified";
	var tiddlers = store.reverseLookup("tags","excludeLists",false,field);
	var lastDay = "";
	var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1])) : 0;
	for(var t=tiddlers.length-1; t>=last; t--)
		{
		var tiddler = tiddlers[t];
		var theDay = tiddler[field].convertToLocalYYYYMMDDHHMM().substr(0,8);
		if(theDay != lastDay)
			{
			var theDateList = document.createElement("ul");
			place.appendChild(theDateList);
			createTiddlyElement(theDateList,"li",null,"listTitle",tiddler[field].formatString(this.dateFormat));
			lastDay = theDay;
			}
		var theDateListItem = createTiddlyElement(theDateList,"li",null,"listLink");
		theDateListItem.appendChild(createTiddlyLink(place,tiddler.title,true));
		}
}

config.macros.search.handler = function(place,macroName,params)
{
	var searchTimeout = null;
	var btn = createTiddlyButton(place,this.label,this.prompt,this.onClick);
	var txt = createTiddlyElement(place,"input",null,"txtOptionInput");
	if(params[0])
		txt.value = params[0];
	txt.onkeyup = this.onKeyPress;
	txt.onfocus = this.onFocus;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",this.accessKey);
	txt.setAttribute("autocomplete","off");
	txt.setAttribute("lastSearchText","");
	if(config.browser.isSafari)
		{
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
		}
	else
		txt.setAttribute("type","text");
}

// Global because there's only ever one outstanding incremental search timer
config.macros.search.timeout = null;

config.macros.search.doSearch = function(txt)
{
	if(txt.value.length > 0)
		{
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		txt.setAttribute("lastSearchText",txt.value);
		}
}

config.macros.search.onClick = function(e)
{
	config.macros.search.doSearch(this.nextSibling);
	return false;
}

config.macros.search.onKeyPress = function(e)
{
	if(!e) var e = window.event;
	switch(e.keyCode)
		{
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
			config.macros.search.doSearch(this);
			break;
		case 27: // Escape
			this.value = "";
			clearMessage();
			break;
		}
	if(this.value.length > 2)
		{
		if(this.value != this.getAttribute("lastSearchText"))
			{
			if(config.macros.search.timeout)
				clearTimeout(config.macros.search.timeout);
			var txt = this;
			config.macros.search.timeout = setTimeout(function() {config.macros.search.doSearch(txt);},500);
			}
		}
	else
		{
		if(config.macros.search.timeout)
			clearTimeout(config.macros.search.timeout);
		}
}

config.macros.search.onFocus = function(e)
{
	this.select();
}

config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("name",null,true,false,true);
	var names = params[0]["name"];
	var tiddlerName = names[0];
	var className = names[1] ? names[1] : null;
	var args = params[0]["with"];
	var wrapper = createTiddlyElement(place,"span",null,className);
	if(!args)
		{
		wrapper.setAttribute("refresh","content");
		wrapper.setAttribute("tiddler",tiddlerName);
		}
	var text = store.getTiddlerText(tiddlerName);
	if(text)
		{
		var stack = config.macros.tiddler.tiddlerStack;
		if(stack.indexOf(tiddlerName) !== -1)
			return;
		stack.push(tiddlerName);
		try
			{
			var n = args ? Math.min(args.length,9) : 0;
			for(var i=0; i<n; i++) 
				{
				var placeholderRE = new RegExp("\\$" + (i + 1),"mg");
				text = text.replace(placeholderRE,args[i]);
				}
			config.macros.tiddler.renderText(wrapper,text,tiddlerName,params);
			}
		finally
			{
			stack.pop();
			}
		}
}

config.macros.tiddler.renderText = function(place,text,tiddlerName,params) 
{
	wikify(text,place,null,store.getTiddler(tiddlerName));
}

config.macros.tiddler.tiddlerStack = [];

config.macros.tag.handler = function(place,macroName,params)
{
	createTagButton(place,params[0]);
}

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var theList = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title && store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,"sep"," ");
	var lingo = config.views.wikified.tag;
	var prompt = tiddler.tags.length == 0 ? lingo.labelNoTags : lingo.labelTags;
	createTiddlyElement(theList,"li",null,"listTitle",prompt.format([tiddler.title]));
	for(var t=0; t<tiddler.tags.length; t++)
		{
		createTagButton(createTiddlyElement(theList,"li"),tiddler.tags[t],tiddler.title);
		if(t<tiddler.tags.length-1)
			createTiddlyText(theList,sep);
		}
}

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var theList = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title == "" && tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,"sep"," ");
	theList.setAttribute("title",this.tooltip.format([title]));
	var tagged = store.getTaggedTiddlers(title);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(theList,"li",null,"listTitle",prompt.format([title,tagged.length]));
	for(var t=0; t<tagged.length; t++)
		{
		createTiddlyLink(createTiddlyElement(theList,"li"),tagged[t].title,true);
		if(t<tagged.length-1)
			createTiddlyText(theList,sep);
		}
}

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
}

config.macros.closeAll.onClick = function(e)
{
	story.closeAllTiddlers();
	return false;
}

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
}

config.macros.permaview.onClick = function(e)
{
	story.permaView();
	return false;
}

config.macros.saveChanges.handler = function(place)
{
	if(!readOnly)
		createTiddlyButton(place,this.label,this.prompt,this.onClick,null,null,this.accessKey);
}

config.macros.saveChanges.onClick = function(e)
{
	saveChanges();
	return false;
}

config.macros.slider.onClickSlider = function(e)
{
	if(!e) var e = window.event;
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(anim && config.options.chkAnimate)
		anim.startAnimating(new Slider(n,!isOpen,e.shiftKey || e.altKey,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOptionCookie(cookie);
	return false;
}

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var cookie = cookie ? cookie : "";
	var btn = createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(null,"div",null,"sliderPanel");
	panel.setAttribute("cookie",cookie);
	panel.style.display = config.options[cookie] ? "block" : "none";
	place.appendChild(panel);
	return panel;
}

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	panel.setAttribute("refresh", "content");
	panel.setAttribute("tiddler", params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
}

config.macros.option.onChangeOption = function(e)
{
	var opt = this.getAttribute("option");
	var elementType,valueField;
	if(opt)
		{
		switch(opt.substr(0,3))
			{
			case "txt":
				elementType = "input";
				valueField = "value";
				break;
			case "chk":
				elementType = "input";
				valueField = "checked";
				break;
			}
		config.options[opt] = this[valueField];
		saveOptionCookie(opt);
		var nodes = document.getElementsByTagName(elementType);
		for(var t=0; t<nodes.length; t++)
			{
			var optNode = nodes[t].getAttribute("option");
			if(opt == optNode)
				nodes[t][valueField] = this[valueField];
			}
		}
	return(true);
}

config.macros.option.handler = function(place,macroName,params)
{
	var opt = params[0];
	if(config.options[opt] == undefined)
		return;
	var c;
	switch(opt.substr(0,3))
		{
		case "txt":
			c = document.createElement("input");
			c.onkeyup = this.onChangeOption;
			c.setAttribute("option",opt);
			c.className = "txtOptionInput";
			place.appendChild(c);
			c.value = config.options[opt];
			break;
		case "chk":
			c = document.createElement("input");
			c.setAttribute("type","checkbox");
			c.onclick = this.onChangeOption;
			c.setAttribute("option",opt);
			c.className = "chkOptionInput";
			place.appendChild(c);
			c.checked = config.options[opt];
			break;
		}
}



config.macros.newTiddler.createNewTiddlerButton = function(place,title,params,label,prompt,accessKey,newFocus,isJournal)
{
	var tags = [];
	for(var t=1; t<params.length; t++)
		if((params[t].name == "anon" && t != 1) || (params[t].name == "tag"))
			tags.push(params[t].value);
	label = getParam(params,"label",label);
	prompt = getParam(params,"prompt",prompt);
	accessKey = getParam(params,"accessKey",accessKey);
	newFocus = getParam(params,"focus",newFocus);
	var btn = createTiddlyButton(place,label,prompt,this.onClickNewTiddler,null,null,accessKey);
	btn.setAttribute("newTitle",title);
	btn.setAttribute("isJournal",isJournal);
	btn.setAttribute("params",tags.join("|"));
	btn.setAttribute("newFocus",newFocus);
	btn.setAttribute("newTemplate",getParam(params,"template",DEFAULT_EDIT_TEMPLATE));
	var text = getParam(params,"text");
	if(text !== undefined) 
		btn.setAttribute("newText",text);
	return btn;
}

config.macros.newTiddler.onClickNewTiddler = function()
{
	var title = this.getAttribute("newTitle");
	if(this.getAttribute("isJournal"))
		{
		var now = new Date();
		title = now.formatString(title.trim());
		}
	var params = this.getAttribute("params").split("|");
	var focus = this.getAttribute("newFocus");
	var template = this.getAttribute("newTemplate");
	story.displayTiddler(null,title,template);
	var text = this.getAttribute("newText");
	if(typeof text == "string")
		story.getTiddlerField(title,"text").value = text.format([title]);
	for(var t=0;t<params.length;t++)
		story.setTiddlerTag(title,params[t],+1);
	story.focusTiddler(title,focus);
	return false;
}

config.macros.newTiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(!readOnly)
		{
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : this.title;
		title = getParam(params,"title",title);
		this.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"title",false);
		}
}

config.macros.newJournal.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(!readOnly)
		{
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : "";
		title = getParam(params,"title",title);
		config.macros.newTiddler.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"text",true);
		}
}

config.macros.sparkline.handler = function(place,macroName,params)
{
	var data = [];
	var min = 0;
	var max = 0;
	for(var t=0; t<params.length; t++)
		{
		var v = parseInt(params[t]);
		if(v < min)
			min = v;
		if(v > max)
			max = v;
		data.push(v);
		}
	if(data.length < 1)
		return;
	var box = createTiddlyElement(place,"span",null,"sparkline",String.fromCharCode(160));
	box.title = data.join(",");
	var w = box.offsetWidth;
	var h = box.offsetHeight;
	box.style.paddingRight = (data.length * 2 - w) + "px";
	box.style.position = "relative";
	for(var d=0; d<data.length; d++)
		{
		var tick = document.createElement("img");
		tick.border = 0;
		tick.className = "sparktick";
		tick.style.position = "absolute";
		tick.src = "data:image/gif,GIF89a%01%00%01%00%91%FF%00%FF%FF%FF%00%00%00%C0%C0%C0%00%00%00!%F9%04%01%00%00%02%00%2C%00%00%00%00%01%00%01%00%40%02%02T%01%00%3B";
		tick.style.left = d*2 + "px";
		tick.style.width = "2px";
		var v = Math.floor(((data[d] - min)/(max-min)) * h);
		tick.style.top = (h-v) + "px";
		tick.style.height = v + "px";
		box.appendChild(tick);
		}
}

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,"div",null,cookie);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset");
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	for(var t=0; t<numTabs; t++)
		{
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
		}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
}

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
}

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null
	var nodes = tabset.childNodes;
	for(var t=0; t<nodes.length; t++)
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab)
			{
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
			}
		else
			nodes[t].className = "tab tabUnselected"
	if(theTab)
		{
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			tabset.parentNode.removeChild(tabset.nextSibling);
		var tabContent = createTiddlyElement(null,"div",null,"tabContents");
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie)
			{
			config.options[cookie] = tab;
			saveOptionCookie(cookie);
			}
		}
}

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier)
{
	var terminator = ">>";
	var panel;
	if(wikifier)
		panel = createTiddlyElement(place,"div",null,"gradient");
	else
		panel = place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	var t;
	if(wikifier)
		{
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		config.formatterHelpers.applyCssHelper(panel,styles);
		}
	var colours = [];
	for(t=1; t<params.length; t++)
		{
		var c = new RGB(params[t]);
		if(c)
			colours.push(c);
		}
	drawGradient(panel,params[0] != "vert",colours);
	if(wikifier)
		wikifier.subWikify(panel,terminator);
	if(document.all)
		{
		panel.style.height = "100%";
		panel.style.width = "100%";
		}
}

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0])
		{
		var m = config;
		var p = params[0].split(".");
		for(var t=0; t<p.length; t++)
			{
			if(p[t] in m)
				m = m[p[t]];
			else
				break;
			}
		createTiddlyText(place,m.toString().format(params.splice(1)));
		}
}

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0])
		{
		var value = store.getValue(tiddler,params[0]);
		if(value != undefined)
			switch(params[1])
				{
				case undefined:
					highlightify(value,place,highlightHack);
					break;
				case "link":
					createTiddlyLink(place,value,true);
					break;
				case "wikified":
					wikify(value,place,highlightHack,tiddler);
					break;
				case "date":
					value = Date.convertFromYYYYMMDDHHMM(value);
					if(params[2])
						createTiddlyText(place,value.formatString(params[2]));
					else
						createTiddlyText(place,value);
					break;
				}
		}
}

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	if((tiddler instanceof Tiddler) && field)
		{
		story.setDirty(tiddler.title,true);
		if(field != "text")
			{
				var e = createTiddlyElement(null,"input");
				if(tiddler.isReadOnly())
					e.setAttribute("readOnly","readOnly");
				e.setAttribute("edit",field);
				e.setAttribute("type","text");
				var v = store.getValue(tiddler,field);
				if(!v) 
					v = "";
				e.value = v;
				e.setAttribute("size","40");
				e.setAttribute("autocomplete","off");
				place.appendChild(e);
			}
		else
			{
				var wrapper1 = createTiddlyElement(null,"fieldset",null,"fieldsetFix");
				var wrapper2 = createTiddlyElement(wrapper1,"div");
				var e = createTiddlyElement(wrapper2,"textarea");
				if(tiddler.isReadOnly())
					e.setAttribute("readOnly","readOnly");
				var v = store.getValue(tiddler,field);
				if(!v) 
					v = "";
				e.value = v;
				var rows = 10;
				var lines = v.match(/\n/mg);
				var maxLines = Math.max(parseInt(config.options.txtMaxEditRows),5);
				if(lines != null && lines.length > rows)
					rows = lines.length + 5;
				rows = Math.min(rows,maxLines);
				e.setAttribute("rows",rows);
				e.setAttribute("edit",field);
				place.appendChild(wrapper1);
			}
		}
}

config.macros.tagChooser.onClick = function(e)
{
	if(!e) var e = window.event;
	var lingo = config.views.editor.tagChooser;
	var popup = Popup.create(this);
	var tags = store.getTags();
	if(tags.length == 0)
		createTiddlyText(createTiddlyElement(popup,"li"),lingo.popupNone);
	for(var t=0; t<tags.length; t++)
		{
		var theTag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),config.macros.tagChooser.onTagClick);
		theTag.setAttribute("tag",tags[t][0]);
		theTag.setAttribute("tiddler", this.getAttribute("tiddler"));
		}
	Popup.show(popup,false);
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return(false);
}

config.macros.tagChooser.onTagClick = function(e)
{
	if(!e) var e = window.event;
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(!readOnly)
		story.setTiddlerTag(title,tag,0);
	return(false);
}

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler)
		{
		var title = tiddler.title;
		var lingo = config.views.editor.tagChooser;
		var btn = createTiddlyButton(place,lingo.text,lingo.tooltip,this.onClick);
		btn.setAttribute("tiddler", title);
		}
}

// Create a toolbar command button
// place - parent DOM element
// command - reference to config.commands[] member -or- name of member
// tiddler - reference to tiddler that toolbar applies to
// theClass - the class to give the button
config.macros.toolbar.createCommand = function(place,commandName,tiddler,theClass)
{
	if(typeof commandName != "string")
		{
		var c = null;
		for(var t in config.commands)
			if(config.commands[t] == commandName)
				c = t;
		commandName = c;
		}
	if((tiddler instanceof Tiddler) && (typeof commandName == "string"))
		{
		var title = tiddler.title;
		var command = config.commands[commandName];
		var ro = tiddler.isReadOnly();
		var shadow = store.isShadowTiddler(title) && !store.tiddlerExists(title);
		var text = ro && command.readOnlyText ? command.readOnlyText : command.text;
		var tooltip = ro && command.readOnlyTooltip ? command.readOnlyTooltip : command.tooltip;
		if((!ro || (ro && !command.hideReadOnly)) && !(shadow && command.hideShadow))

			{
			var btn = createTiddlyButton(null,text,tooltip,this.onClickCommand);
			btn.setAttribute("commandName", commandName);
			btn.setAttribute("tiddler", title);
			if(theClass)
				addClass(btn,theClass);
			place.appendChild(btn);
			}
		}
}

config.macros.toolbar.onClickCommand = function(e)
{
	if(!e) var e = window.event;
	var command = config.commands[this.getAttribute("commandName")];
	return command.handler(e,this,this.getAttribute("tiddler"));
}

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,theClass,event)
{
	var children = place.getElementsByTagName("a")
	for(var t=0; t<children.length; t++)
		{
		var c = children[t];
		if(hasClass(c,theClass) && c.getAttribute && c.getAttribute("commandName"))
			{
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
			}
		}
}

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	for(var t=0; t<params.length; t++)
		{
		var c = params[t];
		var theClass = "";
		switch(c.substr(0,1))
			{
			case "+":
				theClass = "defaultCommand";
				c = c.substr(1);
				break;
			case "-":
				theClass = "cancelCommand";
				c = c.substr(1);
				break;
			}
		if(c in config.commands)
			this.createCommand(place,c,tiddler,theClass);
		}
}

config.macros.plugins.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var e = createTiddlyElement(place,"div");
	e.setAttribute("refresh","macro");
	e.setAttribute("macroName","plugins");
	e.setAttribute("params",paramString);
	this.refresh(e,paramString);
}

config.macros.plugins.refresh = function(place,params)
{
	var selectedRows = [];
	ListView.forEachSelector(place,function(e,rowName) {
			if(e.checked)
				selectedRows.push(e.getAttribute("rowName"));
		});
	removeChildren(place);
	params = params.parseParams("anon");
	var plugins = installedPlugins.slice(0);
	var t,tiddler,p;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(t=0; t<configTiddlers.length; t++)
		{
		tiddler = configTiddlers[t];
		if(plugins.findByField("title",tiddler.title) == null)
			{
			p = getPluginInfo(tiddler);
			p.executed = false;
			p.log.splice(0,0,this.skippedText);
			plugins.push(p);
			}
		}
	for(t=0; t<plugins.length; t++)
		{
		var p = plugins[t];
		p.forced = p.tiddler.isTagged("systemConfigForce");
		p.disabled = p.tiddler.isTagged("systemConfigDisable");
		p.Selected = selectedRows.indexOf(plugins[t].title) != -1;
		}
	if(plugins.length == 0)
		createTiddlyElement(place,"em",null,null,this.noPluginText);
	else
		ListView.create(place,plugins,this.listViewTemplate,this.onSelectCommand);
}

config.macros.plugins.onSelectCommand = function(command,rowNames)
{
	var t;
	switch(command)
		{
		case "remove":
			for(t=0; t<rowNames.length; t++)
				store.setTiddlerTag(rowNames[t],false,"systemConfig");
			break;
		case "delete":
			if(rowNames.length > 0 && confirm(config.macros.plugins.confirmDeleteText.format([rowNames.join(", ")])))
				{
				for(t=0; t<rowNames.length; t++)
					{
					store.removeTiddler(rowNames[t]);
					story.closeTiddler(rowNames[t],true,false);
					}
				}
			break;
		}
	if(config.options.chkAutoSave)
		saveChanges(true);
}

config.macros.refreshDisplay.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
}

config.macros.refreshDisplay.onClick = function(e)
{
	refreshAll();
	return false;
}

config.macros.importTiddlers.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(readOnly)
		{
		createTiddlyElement(place,"div",null,"marked",this.readOnlyWarning);
		return;
		}
	var importer = createTiddlyElement(null,"div",null,"importTiddler wizard");
	createTiddlyElement(importer,"h1",null,null,this.wizardTitle);
	createTiddlyElement(importer,"h2",null,"step1",this.step1);
	var step = createTiddlyElement(importer,"div",null,"wizardStep");
	createTiddlyText(step,this.step1prompt);
	var input = createTiddlyElement(null,"input",null,"txtOptionInput");
	input.type = "text";
	input.size = 50;
	step.appendChild(input);
	importer.inputBox = input;
	createTiddlyElement(step,"br");
	createTiddlyText(step,this.step1promptFile);
	var fileInput = createTiddlyElement(null,"input",null,"txtOptionInput");
	fileInput.type = "file";
	fileInput.size = 50;
	fileInput.onchange = this.onBrowseChange;
	fileInput.onkeyup = this.onBrowseChange;
	step.appendChild(fileInput);
	createTiddlyElement(step,"br");
	createTiddlyText(step,this.step1promptFeeds);
	var feeds = this.getFeeds([{caption: this.step1feedPrompt, name: ""}]);
	createTiddlyDropDown(step,this.onFeedChange,feeds);
	createTiddlyElement(step,"br");
	createTiddlyButton(step,this.fetchLabel,this.fetchPrompt,this.onFetch,null,null,null);
        place.appendChild(importer);
}

config.macros.importTiddlers.getFeeds = function(feeds)
{
	var tagged = store.getTaggedTiddlers("contentPublisher","title");
	for(var t=0; t<tagged.length; t++)
		feeds.push({caption: tagged[t].title, name: store.getTiddlerSlice(tagged[t].title,"URL")});
	return feeds;
}

config.macros.importTiddlers.onFeedChange = function(e)
{
	var importer = findRelated(this,"importTiddler","className","parentNode");
	importer.inputBox.value = this.value;
	this.selectedIndex = 0;
}

config.macros.importTiddlers.onBrowseChange = function(e)
{
	var importer = findRelated(this,"importTiddler","className","parentNode");
	importer.inputBox.value = "file://" + this.value;
}

config.macros.importTiddlers.onFetch = function(e)
{
	var importer = findRelated(this,"importTiddler","className","parentNode");
	var url = importer.inputBox.value;
	var cutoff = findRelated(importer.firstChild,"step2","className","nextSibling");
	while(cutoff)
		{
		var temp = cutoff.nextSibling;
		cutoff.parentNode.removeChild(cutoff);
		cutoff = temp;
		}
	createTiddlyElement(importer,"h2",null,"step2",config.macros.importTiddlers.step2);
	var step = createTiddlyElement(importer,"div",null,"wizardStep",config.macros.importTiddlers.step2Text.format([url]));
	loadRemoteFile(url,config.macros.importTiddlers.onLoad,importer);
}

config.macros.importTiddlers.onLoad = function(status,params,responseText,url,xhr)
{
	if(!status)
		{
		displayMessage(this.fetchError);
		return;
		}
	var importer = params;
	// Check that the tiddler we're in hasn't been closed - doesn't work on IE
//	var p = importer;
//	while(p.parentNode)
//		p = p.parentNode;
//	if(!(p instanceof HTMLDocument))
//		return;
	// Crack out the content - (should be refactored)
	var posOpeningDiv = responseText.indexOf(startSaveArea);
	var limitClosingDiv = responseText.indexOf("<!--POST-BODY-START--"+">");
	var posClosingDiv = responseText.lastIndexOf(endSaveArea,limitClosingDiv == -1 ? responseText.length : limitClosingDiv);
	if((posOpeningDiv == -1) || (posClosingDiv == -1))
		{
		alert(config.messages.invalidFileError.format([url]));
		return;
		}
	var content = "<html><body>" + responseText.substring(posOpeningDiv,posClosingDiv + endSaveArea.length) + "</body></html>";
	// Create the iframe
	var iframe = document.createElement("iframe");
	iframe.style.display = "none";
	importer.insertBefore(iframe,importer.firstChild);
	var doc = iframe.document;
	if(iframe.contentDocument)
		doc = iframe.contentDocument; // For NS6
	else if(iframe.contentWindow)
		doc = iframe.contentWindow.document; // For IE5.5 and IE6
	// Put the content in the iframe
	doc.open();
	doc.writeln(content);
	doc.close();
	// Load the content into a TiddlyWiki() object
	var storeArea = doc.getElementById("storeArea");
	var importStore = new TiddlyWiki();
	importStore.loadFromDiv(storeArea,"store");
	// Get rid of the iframe
	iframe.parentNode.removeChild(iframe);
	// Extract data for the listview
	var tiddlers = [];
	importStore.forEachTiddler(function(title,tiddler)
		{
		var t = {};
		t.title = title;
		t.modified = tiddler.modified;
		t.modifier = tiddler.modifier;
		t.text = tiddler.text.substr(0,50);
		t.tags = tiddler.tags;
		tiddlers.push(t);
		});
	// Display the listview
	createTiddlyElement(importer,"h2",null,"step3",config.macros.importTiddlers.step3);
	var step = createTiddlyElement(importer,"div",null,"wizardStep");
	ListView.create(step,tiddlers,config.macros.importTiddlers.listViewTemplate,config.macros.importTiddlers.onSelectCommand);
	// Save the importer
	importer.store = importStore;
}

config.macros.importTiddlers.onSelectCommand = function(listView,command,rowNames)
{
	var importer = findRelated(listView,"importTiddler","className","parentNode");
	switch(command)
		{
		case "import":
			config.macros.importTiddlers.doImport(importer,rowNames);
			break;
		}
	if(config.options.chkAutoSave)
		saveChanges(true);
}

config.macros.importTiddlers.doImport = function(importer,rowNames)
{
	var theStore = importer.store;
	var overwrite = new Array();
	var t;
	for(t=0; t<rowNames.length; t++)
		{
		if(store.tiddlerExists(rowNames[t]))
			overwrite.push(rowNames[t]);
	}
	if(overwrite.length > 0)
		if(!confirm(this.confirmOverwriteText.format([overwrite.join(", ")])))
			return;
	for(t=0; t<rowNames.length; t++)
		{
		var inbound = theStore.fetchTiddler(rowNames[t]);
		store.saveTiddler(inbound.title, inbound.title, inbound.text, inbound.modifier, inbound.modified, inbound.tags);
		store.fetchTiddler(inbound.title).created = inbound.created;
		store.notify(rowNames[t],false);
		}
	store.notifyAll();
	store.setDirty(true);
	createTiddlyElement(importer,"h2",null,"step4",this.step4.format([rowNames.length]));
	var step = createTiddlyElement(importer,"div",null,"wizardStep");
	for(t=0; t<rowNames.length; t++)
		{
		createTiddlyLink(step,rowNames[t],true);
		createTiddlyElement(step,"br");
		}
	createTiddlyElement(importer,"h2",null,"step5",this.step5);
}
// ---------------------------------------------------------------------------------
// Menu and toolbar commands
// ---------------------------------------------------------------------------------

config.commands.closeTiddler.handler = function(event,src,title)
{
	story.closeTiddler(title,true,event.shiftKey || event.altKey);
	return false;
}

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
}

config.commands.editTiddler.handler = function(event,src,title)
{
	clearMessage();
	story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
	story.focusTiddler(title,"text");
	return false;
}

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	if(newTitle)
	   story.displayTiddler(null,newTitle);
	return false;
}

config.commands.cancelTiddler.handler = function(event,src,title)
{
	if(story.hasChanges(title) && !readOnly)
		if(!confirm(this.warning.format([title])))
			return false;
	story.setDirty(title,false);
	story.displayTiddler(null,title);
	return false;
}

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true;
	if (config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title]));
	if (deleteIt)
		{
		store.removeTiddler(title);
		story.closeTiddler(title,true,event.shiftKey || event.altKey);
		if(config.options.chkAutoSave)
			saveChanges();
		}
	return false;
}

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
}

config.commands.references.handler = function(event,src,title)
{
	var popup = Popup.create(src);
	if(popup)
		{
		var references = store.getReferringTiddlers(title);
		var c = false;
		for(var r=0; r<references.length; r++)
			if(references[r].title != title && !references[r].isTagged("excludeLists"))
				{
				createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
				c = true;
				}
		if(!c)
			createTiddlyText(createTiddlyElement(popup,"li",null,"disabled"),this.popupNone);
		}
	Popup.show(popup,false);
	event.cancelBubble = true;
	if (event.stopPropagation) event.stopPropagation();
	return false;
}

config.commands.jump.handler = function(event,src,title)
{
	var popup = Popup.create(src);
	if(popup)
		{
		story.forEachTiddler(function(title,element) {
			createTiddlyLink(createTiddlyElement(popup,"li"),title,true);
			});
		}
	Popup.show(popup,false);
	event.cancelBubble = true;
	if (event.stopPropagation) event.stopPropagation();
	return false;
}

// ---------------------------------------------------------------------------------
// Tiddler() object
// ---------------------------------------------------------------------------------

function Tiddler()
{
	this.title = null;
	this.text = null;
	this.modifier = null;
	this.modified = new Date();
	this.created = new Date();
	this.links = [];
	this.linksUpdated = false;
	this.tags = [];
	return this;
}

Tiddler.prototype.getLinks = function()
{
	if(this.linksUpdated==false)
		this.changed();
	return this.links;
}

// Format the text for storage in an RSS item
Tiddler.prototype.saveToRss = function(url)
{
	var s = [];
	s.push("<item>");
	s.push("<title" + ">" + this.title.htmlEncode() + "</title" + ">");
	s.push("<description>" + wikifyStatic(this.text,null,this).htmlEncode() + "</description>");
	for(var t=0; t<this.tags.length; t++)
		s.push("<category>" + this.tags[t] + "</category>");
	s.push("<link>" + url + "#" + encodeURIComponent(String.encodeTiddlyLink(this.title)) + "</link>");
	s.push("<pubDate>" + this.modified.toGMTString() + "</pubDate>");
	s.push("</item>");
	return(s.join("\n"));
}

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created,fields)
{
	this.assign(title,text,modifier,modified,tags,created,fields);
	this.changed();
	return this;
}

// Change the text and other attributes of a tiddler without triggered a tiddler.changed() call
Tiddler.prototype.assign = function(title,text,modifier,modified,tags,created,fields)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(created != undefined)
		this.created = created;
	if(fields != undefined)
		this.fields = fields;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	return this;
}

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	return String.encodeTiddlyLinkList(this.tags);
}

// Test if a tiddler carries a tag
Tiddler.prototype.isTagged = function(tag)
{
	return this.tags.indexOf(tag) != -1;
}

// Static method to convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	return text ? text.unescapeLineBreaks() : "";
}

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.escapeLineBreaks();
}

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var t = this.autoLinkWikiWords() ? 0 : 1;
	var tiddlerLinkRegExp = t==0 ? config.textPrimitives.tiddlerAnyLinkRegExp : config.textPrimitives.tiddlerForcedLinkRegExp;
	tiddlerLinkRegExp.lastIndex = 0;
	var formatMatch = tiddlerLinkRegExp.exec(this.text);
	while(formatMatch)
		{
		if(t==0 && formatMatch[1] && formatMatch[1] != this.title) // wikiWordLink
			{
			if(formatMatch.index > 0)
				{
				var preRegExp = new RegExp(config.textPrimitives.unWikiLink+"|"+config.textPrimitives.anyLetter,"mg");
				preRegExp.lastIndex = formatMatch.index-1;
				var preMatch = preRegExp.exec(this.text);
				if(preMatch.index != formatMatch.index-1)
					this.links.pushUnique(formatMatch[1]);
				}
			else
				this.links.pushUnique(formatMatch[1]);
			}
		else if(formatMatch[2-t] && (store.tiddlerExists(formatMatch[3-t]) || store.isShadowTiddler(formatMatch[3-t]))) // titledBrackettedLink
			this.links.pushUnique(formatMatch[3-t]);
		else if(formatMatch[4-t] && formatMatch[4-t] != this.title) // brackettedLink
			this.links.pushUnique(formatMatch[4-t]);
		// Do not add link if match urlPattern (formatMatch[5-t])
		formatMatch = tiddlerLinkRegExp.exec(this.text);
		}
	this.linksUpdated = true;
	return;
}

Tiddler.prototype.getSubtitle = function()
{
	var theModifier = this.modifier;
	if(!theModifier)
		theModifier = config.messages.subtitleUnknown;
	var theModified = this.modified;
	if(theModified)
		theModified = theModified.toLocaleString();
	else
		theModified = config.messages.subtitleUnknown;
	return(config.messages.tiddlerLinkTooltip.format([this.title,theModifier,theModified]));
}

Tiddler.prototype.isReadOnly = function()
{
	return readOnly;
}

Tiddler.prototype.autoLinkWikiWords = function()
{
	return !(this.isTagged("systemConfig") || this.isTagged("excludeMissing"));
}

Tiddler.prototype.generateFingerprint = function()
{
	return "0x" + Crypto.hexSha1Str(this.text);
}

// ---------------------------------------------------------------------------------
// TiddlyWiki() object contains Tiddler()s
// ---------------------------------------------------------------------------------

function TiddlyWiki()
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	this.tiddlersUpdated = false;
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.slices = {}; // map tiddlerName->(map sliceName->sliceValue). Lazy.
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
		};
	this.fetchTiddler = function(title) {
		return tiddlers[title];
		};
	this.deleteTiddler = function(title) {
		delete this.slices[title];
		delete tiddlers[title];
		};
	this.addTiddler = function(tiddler) {
		delete this.slices[tiddler.title];
		tiddlers[tiddler.title] = tiddler;
		};
	this.forEachTiddler = function(callback) {
		for(var t in tiddlers)
			{
			var tiddler = tiddlers[t];
			if(tiddler instanceof Tiddler)
				callback.call(this,t,tiddler);
			}
		};
}

// Set the dirty flag
TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
}

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
}

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
}

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
}

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel)
		for(var t=0; t<this.namedNotifications.length; t++)
			{
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
			}
}

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel)
		for(var t=0; t<this.namedNotifications.length; t++)
			{
			var n = this.namedNotifications[t];
			if(n.name)
				n.notify(n.name);
			}
}

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	for (var i=0; i<this.namedNotifications.length; i++)
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	this.namedNotifications.push({name: title, notify: fn});
	return this;
}

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		{
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
		}
}

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	return (t != undefined);
}

TiddlyWiki.prototype.isShadowTiddler = function(title)
{
	return typeof config.shadowTiddlers[title] == "string";
}

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined)
		return t;
	else
		return null;
}

TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		return tiddler.text;
	if(!title)
		return defaultText;
	var pos = title.indexOf(config.textPrimitives.sliceSeparator);
	if(pos != -1)
		{
		var slice = this.getTiddlerSlice(title.substr(0,pos),title.substr(pos + config.textPrimitives.sliceSeparator.length));
		if(slice)
			return slice;
		}
	if(this.isShadowTiddler(title))
		return config.shadowTiddlers[title];
	if(defaultText != undefined)
		return defaultText;
	return null;
}

TiddlyWiki.prototype.slicesRE = /(?:[\'\/]*~?(\w+)[\'\/]*\:[\'\/]*\s*(.*?)\s*$)|(?:\|[\'\/]*~?(\w+)\:?[\'\/]*\|\s*(.*?)\s*\|)/gm

// @internal
TiddlyWiki.prototype.calcAllSlices = function(title) 
{
	var slices = {};
	var text = this.getTiddlerText(title,"");
	this.slicesRE.lastIndex = 0;
	do 
		{
			var m = this.slicesRE.exec(text);
			if (m) 
				{
					if (m[1])
						slices[m[1]] = m[2];
					else
						slices[m[3]] = m[4];
				}
		}
	while(m);
	return slices;
}

// Returns the slice of text of the given name
//#
//# A text slice is a substring in the tiddler's text that is defined
//# either like this
//#    aName:  textSlice
//# or
//#    |aName:| textSlice |
//# or
//#    |aName| textSlice |
//#
//# In the text the name (or name:) may be decorated with '' or //. I.e.
//# this would also a possible text slice:
//#
//#    |''aName:''| textSlice |
//#
//# @param name should only contain "word characters" (i.e. "a-ZA-Z_0-9")
//# @return [may be undefined] the (trimmed) text of the specified slice.
TiddlyWiki.prototype.getTiddlerSlice = function(title,sliceName)
{
	var slices = this.slices[title];
	if (!slices) {
		slices = this.calcAllSlices(title);
		this.slices[title] = slices;
	}
	return slices[sliceName];
}

// Build an hashmap of the specified named slices of a tiddler
TiddlyWiki.prototype.getTiddlerSlices = function(title,sliceNames)
{
	var r = {};
	for(var t=0; t<sliceNames.length; t++)
		{
		var slice = this.getTiddlerSlice(title,sliceNames[t]);
		if(slice)
			r[sliceNames[t]] = slice;
		}
	return r;
}

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,null);
	if(text == null)
		return defaultText;
	var textOut = [];
	var lastPos = 0;
	do {
		var match = bracketRegExp.exec(text);
		if(match)
			{
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1])
				{
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],"[[" + match[1] + "]]",depth-1));
				}
			lastPos = match.index + match[0].length;
			}
		else
			textOut.push(text.substr(lastPos));
	} while(match);
	return(textOut.join(""));
}

TiddlyWiki.prototype.setTiddlerTag = function(title,status,tag)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		{
		var t = tiddler.tags.indexOf(tag);
		if(t != -1)
			tiddler.tags.splice(t,1);
		if(status)
			tiddler.tags.push(tag);
		tiddler.changed();
		this.notify(title,true);
		this.setDirty(true);
		}
}

TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags,fields)
{
	var tiddler = this.fetchTiddler(title);
	var created;
	if(tiddler)
		{
		created = tiddler.created; // Preserve created date
		this.deleteTiddler(title);
		}
	else
		{
		tiddler = new Tiddler();
		created = modified;
		}
	tiddler.set(newTitle,newBody,modifier,modified,tags,created,fields);
	this.addTiddler(tiddler);
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
}

TiddlyWiki.prototype.createTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler)
		{
		tiddler = new Tiddler();
		tiddler.title = title;
		this.addTiddler(tiddler);
		this.setDirty(true);
		}
	return tiddler;
}

// Load contents of a tiddlywiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(src,idPrefix,noUpdate)
{
	this.idPrefix = idPrefix;
	var storeElem = (typeof src == "string") ? document.getElementById(src) : src;
	var tiddlers = this.getLoader().loadTiddlers(this,storeElem.childNodes);
	this.setDirty(false);
	if(!noUpdate)
		{
		for(var i = 0;i<tiddlers.length; i++)
			tiddlers[i].changed();
		}
}

TiddlyWiki.prototype.updateTiddlers = function()
{
	this.tiddlersUpdated = true;
	this.forEachTiddler(function(title,tiddler) {
		tiddler.changed();
		});
}

// Return all tiddlers formatted as an HTML string
TiddlyWiki.prototype.allTiddlersAsHtml = function()
{
	return store.getSaver().externalize(store);
}

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag)
{
	var candidates = this.reverseLookup("tags",excludeTag,false);
	var results = [];
	for(var t=0; t<candidates.length; t++)
		{
		if((candidates[t].title.search(searchRegExp) != -1) || (candidates[t].text.search(searchRegExp) != -1))
			results.push(candidates[t]);
		}
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
}

// Return an array of all the tags in use. Each member of the array is another array where [0] is the name of the tag and [1] is the number of occurances
TiddlyWiki.prototype.getTags = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		for(var g=0; g<tiddler.tags.length; g++)
			{
			var tag = tiddler.tags[g];
			var f = false;
			for(var c=0; c<results.length; c++)
				if(results[c][0] == tag)
					{
					f = true;
					results[c][1]++;
					}
			if(!f)
				results.push([tag,1]);
			}
		});
	results.sort(function(a,b) {return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	return results;
}

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
}

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	return this.reverseLookup("links",title,true,sortField);
}

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		for(var lookup=0; lookup<tiddler[lookupField].length; lookup++)
			if(tiddler[lookupField][lookup] == lookupValue)
				f = lookupMatch;
		if(f)
			results.push(tiddler);
		});
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
}

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field,excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
			results.push(tiddler);
		});
	if(field)
		results.sort(function(a,b) {return a[field] < b[field] ? -1 : (a[field] == b[field] ? 0 : +1);});
	return results;
}

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function(sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		for(var n=0; n<tiddler.links.length;n++)
			{
			var link = tiddler.links[n];
			if(this.fetchTiddler(link) == null && !this.isShadowTiddler(link))
				results.pushUnique(link);
			}
		});
	results.sort();
	return results;
}

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0 && !tiddler.isTagged("excludeLists"))
			results.push(title);
		});
	results.sort();
	return results;
}

// Return an array of names of all the shadow tiddlers
TiddlyWiki.prototype.getShadowed = function()
{
	var results = [];
	for(var t in config.shadowTiddlers)
		if(typeof config.shadowTiddlers[t] == "string")
			results.push(t);
	results.sort();
	return results;
}

// Resolves a Tiddler reference or tiddler title into a Tiddler object, or null if it doesn't exist
TiddlyWiki.prototype.resolveTiddler = function(tiddler) 
{
	var t = (typeof tiddler == 'string') ? this.getTiddler(tiddler) : tiddler;
	return t instanceof Tiddler ? t : null;
}

TiddlyWiki.prototype.getLoader = function() 
{
	if (!this.loader) 
		this.loader = new TW21Loader();
	return this.loader;
}
 
TiddlyWiki.prototype.getSaver = function() 
{
	if (!this.saver) 
		this.saver = new TW21Saver();
	return this.saver;
}

// Returns true if path is a valid field name (path),
// i.e. a sequence of identifiers, separated by '.'
TiddlyWiki.isValidFieldName = function (name) {
	var match = /[a-zA-Z_]\w*(\.[a-zA-Z_]\w*)*/.exec(name);
	return match && (match[0] == name);
}

// Throws an exception when name is not a valid field name.
TiddlyWiki.checkFieldName = function(name) {
	if (!TiddlyWiki.isValidFieldName(name))
		throw config.messages.invalidFieldName.format([name]);
}

function StringFieldAccess(n, readOnly) {
	this.set = readOnly 
		? function(t,v) {if (v != t[n]) throw config.messages.fieldCannotBeChanged.format([n]);}
		: function(t,v) {if (v != t[n]) {t[n] = v; return true;}};
	this.get = function(t) {return t[n];};
}

function DateFieldAccess(n) {
	this.set = function(t,v) {
			var d = v instanceof Date ? v : Date.convertFromYYYYMMDDHHMM(v); 
			if (d != t[n]) {
				t[n] = d; return true;
			}
		};
	this.get = function(t)   {return t[n].convertToYYYYMMDDHHMM();}
}

function LinksFieldAccess(n) {
	this.set = function(t,v) {
			var s = (typeof v == "string") ? v.readBracketedList() : v; 
			if (s.toString() != t[n].toString()) {
				t[n] = s; return true;
			}
		};
	this.get = function(t)   {return String.encodeTiddlyLinkList(t[n]);}
}

TiddlyWiki.standardFieldAccess = {
	// The set functions return true when setting the data has changed the value.
	
	"title":    new StringFieldAccess("title", true),
	// Handle the "tiddler" field name as the title
	"tiddler":  new StringFieldAccess("title", true),
	
	"text":     new StringFieldAccess("text"),
	"modifier": new StringFieldAccess("modifier"),
	"modified": new DateFieldAccess("modified"),
	"created":  new DateFieldAccess("created"),
	"tags":     new LinksFieldAccess("tags")
};

TiddlyWiki.isStandardField = function(name) {
	return TiddlyWiki.standardFieldAccess[name] != undefined;
}

// Sets the value of the given field of the tiddler to the value. 
// Setting an ExtendedField's value to null or undefined removes the field. 
// Setting a namespace to undefined removes all fields of that namespace.
// The fieldName is case-insensitive.
// All values will be converted to a string value.
TiddlyWiki.prototype.setValue = function(tiddler, fieldName, value) {
	TiddlyWiki.checkFieldName(fieldName);
	var t = this.resolveTiddler(tiddler);
	if (!t)
		return;
		
	fieldName = fieldName.toLowerCase();

	var isRemove = (value === undefined) || (value === null);

	if (!t.fields) 
		t.fields = {};
		
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if (accessor) {
		if (isRemove)
			// don't remove StandardFields
			return;
		var h = TiddlyWiki.standardFieldAccess[fieldName];
		if (!h.set(t, value))
			return;

	} else {
		var oldValue = t.fields[fieldName];
		
		if (isRemove) {
			if (oldValue !== undefined) {
				// deletes a single field
				delete t.fields[fieldName];
			} else {
				// no concrete value is defined for the fieldName
				// so we guess this is a namespace path.
				
				// delete all fields in a namespace
				var re = new RegExp('^'+fieldName+'\\.');
				var dirty = false;
				for (var n in t.fields) {
					if (n.match(re)) {
						delete t.fields[n];
						dirty = true;
					}
				}
				if (!dirty)
					return
			}
				
		} else {
			// the "normal" set case. value is defined (not null/undefined)
			// For convenience provide a nicer conversion Date->String
 			value = value instanceof Date 
				? value.convertToYYYYMMDDHHMMSSMMM() 
				: String(value);
			if (oldValue == value) 
				return;
			t.fields[fieldName] = value;
		}
	}
	
	// When we are here the tiddler/store really was changed.
	this.notify(t.title,true);
	if (!fieldName.match(/^temp\./))
		this.setDirty(true);
}

// Returns the value of the given field of the tiddler. 
// The fieldName is case-insensitive.
// Will only return String values (or undefined).
TiddlyWiki.prototype.getValue = function(tiddler, fieldName) {
	var t = this.resolveTiddler(tiddler);
	if (!t)
		return undefined;

	fieldName = fieldName.toLowerCase();

	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if (accessor) {
		return accessor.get(t);
	}
	
	return t.fields ? t.fields[fieldName] : undefined;
}

// Calls the callback function for every field in the tiddler.
//
// When callback function returns a non-false value the iteration stops 
// and that value is returned. 
//
// The order of the fields is not defined.
// 
// @param callback a function(tiddler, fieldName, value). 
// 
TiddlyWiki.prototype.forEachField = function(tiddler, callback, onlyExtendedFields) {
	var t = this.resolveTiddler(tiddler);
	if (!t)
		return undefined;
	
	if (t.fields) {
		for (var n in t.fields) {
			var result = callback(t, n, t.fields[n]);
			if (result)
				return result;
		}
	}
	
	if (onlyExtendedFields)
		return undefined;

	for (var n in TiddlyWiki.standardFieldAccess) {
		if (n == "tiddler")
			// even though the "title" field can also be referenced through the name "tiddler"
			// we only visit this field once.
			continue;
			
		var result = callback(t, n, TiddlyWiki.standardFieldAccess[n].get(t));
		if (result)
			return result;
	}

	return undefined;
};
// ---------------------------------------------------------------------------------
// Story functions
// ---------------------------------------------------------------------------------

// A story is a HTML div containing a sequence of tiddlers that can be manipulated
// container - id of containing element
// idPrefix - string prefix prepended to title to make ids for tiddlers in this story
function Story(container,idPrefix)
{
	this.container = container;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
}

// Iterate through all the tiddlers in a story
// fn - callback function to be called for each tiddler. Arguments are:
//		tiddler - reference to Tiddler object
//		element - reference to tiddler display element
Story.prototype.forEachTiddler = function(fn)
{
	var place = document.getElementById(this.container);
	if(!place)
		return;
	var e = place.firstChild;
	while(e)
		{
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		fn.call(this,title,e);
		e = n;
		}
}

// Display several tiddlers given their titles in an array. Parameters same as displayTiddler(), except:
// titles - array of string titles
Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,slowly)
{
	for(var t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,slowly);
}

// Display a given tiddler with a given template. If the tiddler is already displayed but with a different
// template, it is switched to the specified template
// srcElement - reference to element from which this one is being opened -or-
//              special positions "top", "bottom"
// title - title of tiddler to display
// template - the name of the tiddler containing the template -or-
//			  one of the constants DEFAULT_VIEW_TEMPLATE and DEFAULT_EDIT_TEMPLATE -or-
//			  null or undefined to indicate the current template if there is one, DEFAULT_VIEW_TEMPLATE if not
// animate - whether to perform animations
// slowly - whether to perform animations in slomo
Story.prototype.displayTiddler = function(srcElement,title,template,animate,slowly)
{
	var place = document.getElementById(this.container);
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem)
		this.refreshTiddler(title,template);
	else
		{
		var before = this.positionTiddler(srcElement);
		tiddlerElem = this.createTiddler(place,before,title,template);
		}
	if(srcElement && typeof srcElement !== "string")
		{
		if(anim && config.options.chkAnimate && (animate == undefined || animate == true))
			anim.startAnimating(new Cascade(title,srcElement,tiddlerElem,slowly),new Scroller(tiddlerElem,slowly));
		else
			window.scrollTo(0,ensureVisible(tiddlerElem));
		}
}

// Figure out the appropriate position for a newly opened tiddler
// srcElement - reference to the element containing the link to the tiddler -or-
//              special positions "top", "bottom"
// returns - reference to the tiddler that the new one should appear before (null for the bottom of the story)
Story.prototype.positionTiddler = function(srcElement)
{
	var place = document.getElementById(this.container);
	var before;
	if(typeof srcElement == "string")
		{
		switch(srcElement)
			{
			case "top":
				before = place.firstChild;
				break;
			case "bottom":
				before = null;
				break;
			}
		}
	else
		{
		var after = this.findContainingTiddler(srcElement);
		if(after == null)
			before = place.firstChild;
		else if(after.nextSibling)
			before = after.nextSibling;
		else
			before = null;
		}
	return before;
}

// Create a tiddler frame at the appropriate place in a story column
// place - reference to parent element
// before - null, or reference to element before which to insert new tiddler
// title - title of new tiddler
// template - the name of the tiddler containing the template or one of the constants DEFAULT_VIEW_TEMPLATE and DEFAULT_EDIT_TEMPLATE
Story.prototype.createTiddler = function(place,before,title,template)
{
	var tiddlerElem = createTiddlyElement(null,"div",this.idPrefix + title,"tiddler");
	tiddlerElem.setAttribute("refresh","tiddler");
	place.insertBefore(tiddlerElem,before);
	this.refreshTiddler(title,template);
	return tiddlerElem;
}

// Overridable for choosing the name of the template to apply for a tiddler
Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
}

// Overridable for extracting the text of a template from a tiddler
Story.prototype.getTemplateForTiddler = function(title,template,tiddler)
{
	return store.getRecursiveTiddlerText(template,null,10);
}

// Apply a template to an existing tiddler if it is not already displayed using that template
// title - title of tiddler to update
// template - the name of the tiddler containing the template or one of the constants DEFAULT_VIEW_TEMPLATE and DEFAULT_EDIT_TEMPLATE
// force - if true, forces the refresh even if the template hasn't changedd
Story.prototype.refreshTiddler = function(title,template,force)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem)
		{
		if(tiddlerElem.getAttribute("dirty") == "true" && !force)
			return tiddlerElem;
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = tiddlerElem.getAttribute("template");
		if((template != currTemplate) || force)
			{
			var tiddler = store.getTiddler(title);
			if(!tiddler)
				{
				tiddler = new Tiddler();
				if(store.isShadowTiddler(title))
					tiddler.set(title,store.getTiddlerText(title),config.views.wikified.shadowModifier,version.date,[],version.date);
				else
					{
					var text = template=="EditTemplate"
								? config.views.editor.defaultText.format([title])
								: config.views.wikified.defaultText.format([title]);
					tiddler.set(title,text,config.views.wikified.defaultModifier,version.date,[],version.date);
					}
				}
			tiddlerElem.setAttribute("tags",tiddler.tags.join(" "));
			tiddlerElem.setAttribute("tiddler",title);
			tiddlerElem.setAttribute("template",template);
			var me = this;
			tiddlerElem.onmouseover = this.onTiddlerMouseOver;
			tiddlerElem.onmouseout = this.onTiddlerMouseOut;
			tiddlerElem.ondblclick = this.onTiddlerDblClick;
			tiddlerElem[window.event?"onkeydown":"onkeypress"] = this.onTiddlerKeyPress;
			var html = this.getTemplateForTiddler(title,template,tiddler);
			tiddlerElem.innerHTML = html;
			applyHtmlMacros(tiddlerElem,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				addClass(tiddlerElem,"isTag");
			else
				removeClass(tiddlerElem,"isTag");
			if(!store.tiddlerExists(title))
				{
				if(store.isShadowTiddler(title))
					addClass(tiddlerElem,"shadow");
				else
					addClass(tiddlerElem,"missing");
				}
			else
				{
				removeClass(tiddlerElem,"shadow");
				removeClass(tiddlerElem,"missing");
				}
			}
		}
	return tiddlerElem;
}

// Refresh all tiddlers in the Story
Story.prototype.refreshAllTiddlers = function() 
{
	var place = document.getElementById(this.container);
	var e = place.firstChild;
	if(!e)
		return;
	this.refreshTiddler(e.getAttribute("tiddler"),e.getAttribute("template"),true);
	while((e = e.nextSibling) != null) 
		this.refreshTiddler(e.getAttribute("tiddler"),e.getAttribute("template"),true);
}

// Default tiddler onmouseover/out event handlers
Story.prototype.onTiddlerMouseOver = function(e)
{
	if(window.addClass instanceof Function)
		addClass(this,"selected");
}

Story.prototype.onTiddlerMouseOut = function(e)
{
	if(window.removeClass instanceof Function)
		removeClass(this,"selected");
}

// Default tiddler ondblclick event handler
Story.prototype.onTiddlerDblClick = function(e)
{
	if(!e) var e = window.event;
	var theTarget = resolveTarget(e);
	if(theTarget && theTarget.nodeName.toLowerCase() != "input" && theTarget.nodeName.toLowerCase() != "textarea")
		{
		if(document.selection && document.selection.empty)
			document.selection.empty();
		config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
		e.cancelBubble = true;
		if (e.stopPropagation) e.stopPropagation();
		return true;
		}
	else
		return false;
}

Story.prototype.onTiddlerKeyPress = function(e)
{
	if(!e) var e = window.event;
	clearMessage();
	var consume = false; 
	var title = this.getAttribute("tiddler");
	var target = resolveTarget(e);
	switch(e.keyCode)
		{
		case 9: // Tab
			if(config.options.chkInsertTabs && target.tagName.toLowerCase() == "textarea")
				{
				replaceSelection(target,String.fromCharCode(9));
				consume = true; 
				}
			if(config.isOpera)
				{
				target.onblur = function()
					{
					this.focus();
					this.onblur = null;
					}
				}
			break;
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
		case 77: // Ctrl-Enter is "M" on some platforms
			if(e.ctrlKey)
				{
				blurElement(this);
				config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
				consume = true;
				}
			break; 
		case 27: // Escape
			blurElement(this);
			config.macros.toolbar.invokeCommand(this,"cancelCommand",e);
			consume = true;
			break;
		}
	e.cancelBubble = consume;
	if(consume)
		{
		if(e.stopPropagation) e.stopPropagation(); // Stop Propagation
		e.returnValue = true; // Cancel The Event in IE
		if(e.preventDefault ) e.preventDefault(); // Cancel The Event in Moz
		}
	return(!consume);
};

// Returns the specified field (input or textarea element) in a tiddler, otherwise the first edit field it finds
// or null if it found no edit field at all
Story.prototype.getTiddlerField = function(title,field)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	var e = null;
	if(tiddlerElem != null)
		{
		var children = tiddlerElem.getElementsByTagName("*");
		for (var t=0; t<children.length; t++)
			{
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea")
				{
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
				}
			}
		}
	return e;
}

// Focus a specified tiddler. Attempts to focus the specified field, otherwise the first edit field it finds
Story.prototype.focusTiddler = function(title,field)
{
	var e = this.getTiddlerField(title,field);
	if(e)
		{
		e.focus();
		e.select();
		}
}

// Ensures that a specified tiddler does not have the focus
Story.prototype.blurTiddler = function(title)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null && tiddlerElem.focus && tiddlerElem.blur)
		{
		tiddlerElem.focus();
		tiddlerElem.blur();
		}
}

// Adds a specified value to the edit controls (if any) of a particular
// array-formatted field of a particular tiddler (eg "tags")
//  title - name of tiddler
//  tag - value of field, without any [[brackets]]
//  mode - +1 to add the tag, -1 to remove it, 0 to toggle it
//  field - name of field (eg "tags")
Story.prototype.setTiddlerField = function(title,tag,mode,field)
{
	var c = story.getTiddlerField(title,field);

	var tags = c.value.readBracketedList();
	tags.setItem(tag,mode);
	c.value = String.encodeTiddlyLinkList(tags);
}

// The same as setTiddlerField but preset to the "tags" field
Story.prototype.setTiddlerTag = function(title,tag,mode)
{
	Story.prototype.setTiddlerField(title,tag,mode,"tags");
}

// Close a specified tiddler
// title - name of tiddler to close
// animate - whether to perform animations
// slowly - whether to perform animations in slomo
Story.prototype.closeTiddler = function(title,animate,slowly)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null)
		{
		clearMessage();
		this.scrubTiddler(tiddlerElem);
		if(anim && config.options.chkAnimate && animate)
			anim.startAnimating(new Slider(tiddlerElem,false,slowly,"all"));
		else
			tiddlerElem.parentNode.removeChild(tiddlerElem);
		}
}

// Scrub IDs from a tiddler. This is so that the 'ghost' of a tiddler while it is being closed
// does not interfere with things
// tiddler - reference to the tiddler element
Story.prototype.scrubTiddler = function(tiddlerElem)
{
	tiddlerElem.id = null;
}

// Set the 'dirty' flag of a tiddler
// title - title of tiddler to change
// dirty - new boolean status of flag
Story.prototype.setDirty = function(title,dirty)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null)
		tiddlerElem.setAttribute("dirty",dirty ? "true" : "false");
}

// Is a particular tiddler dirty (with unsaved changes)?
Story.prototype.isDirty = function(title)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null)
		return tiddlerElem.getAttribute("dirty") == "true";
	return null;
}

// Determine whether any open tiddler are dirty
Story.prototype.areAnyDirty = function()
{
	var r = false;
	this.forEachTiddler(function(title,element) {
		if(this.isDirty(title))
			r = true;
		});
	return r;
}

// Close all tiddlers in the story
Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
		});
	window.scrollTo(0,0);
}

// Check if there are any tiddlers in the story
Story.prototype.isEmpty = function()
{
	var place = document.getElementById(this.container);
	return(place && place.firstChild == null);
}

// Perform a search and display the result
// text - text to search for
// useCaseSensitive - true for case sensitive matching
// useRegExp - true to interpret text as a RegExp
Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ?	 text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	var titles = [];
	for(var t=matches.length-1; t>=0; t--)
		titles.push(matches[t].title);
	this.displayTiddlers(null,titles);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([titles.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
}

// Determine if the specified element is within a tiddler in this story
// e - reference to an element
// returns: reference to a tiddler element or null if none
Story.prototype.findContainingTiddler = function(e)
{
	while(e && !hasClass(e,"tiddler"))
		e = e.parentNode;
	return(e);
}

// Gather any saveable fields from a tiddler element
// e - reference to an element to scan recursively
// fields - object to contain gathered field values
Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute)
		{
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");;
		if(e.hasChildNodes())
			{
			var c = e.childNodes;
			for(var t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields)
			}
		}
}

// Determine whether a tiddler has any edit fields, and if so if their values have been changed
// title - name of tiddler
Story.prototype.hasChanges = function(title)
{
	var e = document.getElementById(this.idPrefix + title);
	if(e != null)
		{
		var fields = {};
		this.gatherSaveFields(e,fields);
		var tiddler = store.fetchTiddler(title);
		if (!tiddler)
			return false;
		for(var n in fields)
			if (store.getValue(title,n) != fields[n])
				return true;
		}
	return false;
}

// Save any open edit fields of a tiddler and updates the display as necessary
// title - name of tiddler
// minorUpdate - true if the modified date shouldn't be updated
// returns: title of saved tiddler, or null if not saved
Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddlerElem = document.getElementById(this.idPrefix + title);
	if(tiddlerElem != null)
		{
		var fields = {};
		this.gatherSaveFields(tiddlerElem,fields);
		var newTitle = fields.title ? fields.title : title;
		if(store.tiddlerExists(newTitle) && newTitle != title)
			{
			if(confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				this.closeTiddler(newTitle,false,false);
			else
				return null;
			}
		tiddlerElem.id = this.idPrefix + newTitle;
		tiddlerElem.setAttribute("tiddler",newTitle);
		tiddlerElem.setAttribute("template",DEFAULT_VIEW_TEMPLATE);
		tiddlerElem.setAttribute("dirty","false");
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		var newDate = new Date();
		store.saveTiddler(title,newTitle,fields.text,config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags);
		for (var n in fields) 
			if (!TiddlyWiki.isStandardField(n))
				store.setValue(newTitle,n,fields[n]);
		if(config.options.chkAutoSave)
			saveChanges();
		return newTitle;
		}
	return null;
}

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
		});
	var t = encodeURIComponent(links.join(" "));
	if(t == "")
		t = "#";
	if(window.location.hash != t)
		window.location.hash = t;
}

// ---------------------------------------------------------------------------------
// Message area
// ---------------------------------------------------------------------------------

function getMessageDiv()
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		return null;
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),
			config.messages.messageClose.text,
			config.messages.messageClose.tooltip,
			clearMessage);
	msgArea.style.display = "block";
	return createTiddlyElement(msgArea,"div");
}

function displayMessage(text,linkText)
{
	var e = getMessageDiv();
	if(!e)
		{
		alert(text);
		return;
		}
	if(linkText)
		{
		var link = createTiddlyElement(e,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
		}
	else
		e.appendChild(document.createTextNode(text));
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	if(msgArea)
		{
		removeChildren(msgArea);
		msgArea.style.display = "none";
		}
	return false;
}

// ---------------------------------------------------------------------------------
// Refresh mechanism
// ---------------------------------------------------------------------------------

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		return true;
		},
	
	tiddler: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var template = e.getAttribute("template");
		if(changeList && changeList.indexOf(title) != -1 && !story.isDirty(title))
			story.refreshTiddler(title,template,true);
		else
			refreshElements(e,changeList);
		return true;
		},

	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		if(force != null || changeList == null || changeList.indexOf(title) != -1)
			{
			removeChildren(e);
			wikify(store.getTiddlerText(title,title),e);
			return true;
			}
		else
			return false;
		},

	macro: function(e,changeList)
		{
		var macro = e.getAttribute("macroName");
		var params = e.getAttribute("params");
		if(macro)
			macro = config.macros[macro];
		if(macro && macro.refresh)
			macro.refresh(e,params);
		return true;
		}
};

function refreshElements(root,changeList)
{
	var nodes = root.childNodes;
	for(var c=0; c<nodes.length; c++)
		{
		var e = nodes[c],type;
		if(e.getAttribute)
			type = e.getAttribute("refresh");
		else
			type = null;
		var refresher = config.refreshers[type];
		var refreshed = false;
		if(refresher != undefined)
			refreshed = refresher(e,changeList);
		if(e.hasChildNodes() && !refreshed)
			refreshElements(e,changeList);
		}
}

function applyHtmlMacros(root,tiddler)
{
	var e = root.firstChild;
	while(e)
		{
		var nextChild = e.nextSibling;
		if(e.getAttribute)
			{
			var macro = e.getAttribute("macro");
			if(macro)
				{
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1)
					{
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
					}
				invokeMacro(e,macro,params,null,tiddler);
				}
			}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
		}
}

function refreshPageTemplate(title)
{
	var stash = createTiddlyElement(document.body,"div");
	stash.style.display = "none";
	var display = document.getElementById("tiddlerDisplay");
	var nodes,t;
	if(display)
		{
		nodes = display.childNodes;
		for(t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
		}
	var wrapper = document.getElementById("contentWrapper");
	if(!title)
		title = "PageTemplate";
	var html = store.getRecursiveTiddlerText(title,null,10);
	wrapper.innerHTML = html;
	applyHtmlMacros(wrapper);
	refreshElements(wrapper);
	display = document.getElementById("tiddlerDisplay");
	removeChildren(display);
	if(!display)
		display = createTiddlyElement(wrapper,"div","tiddlerDisplay");
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	stash.parentNode.removeChild(stash);
}

function refreshDisplay(hint)
{
	var e = document.getElementById("contentWrapper");
	if(typeof hint == "string")
		hint = [hint];
	refreshElements(e,hint);
}

function refreshPageTitle()
{
	document.title = wikifyPlain("SiteTitle") + " - " + wikifyPlain("SiteSubtitle");
}

function refreshStyles(title)
{
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title);
}

function refreshColorPalette(title)
{
	if(!startingUp)
		refreshAll();
}

function refreshAll()
{
	refreshPageTemplate();
	refreshDisplay();
	refreshStyles("StyleSheetLayout");
	refreshStyles("StyleSheetColors");
	refreshStyles("StyleSheet");
	refreshStyles("StyleSheetPrint");
}

// ---------------------------------------------------------------------------------
// Options cookie stuff
// ---------------------------------------------------------------------------------

function loadOptionsCookie()
{
	if(safeMode)
		return;
	var cookies = document.cookie.split(";");
	for(var c=0; c<cookies.length; c++)
		{
		var p = cookies[c].indexOf("=");
		if(p != -1)
			{
			var name = cookies[c].substr(0,p).trim();
			var value = cookies[c].substr(p+1).trim();
			switch(name.substr(0,3))
				{
				case "txt":
					config.options[name] = unescape(value);
					break;
				case "chk":
					config.options[name] = value == "true";
					break;
				}
			}
		}
}

function saveOptionCookie(name)
{
	if(safeMode)
		return;
	var c = name + "=";
	switch(name.substr(0,3))
		{
		case "txt":
			c += escape(config.options[name].toString());
			break;
		case "chk":
			c += config.options[name] ? "true" : "false";
			break;
		}
	c += "; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/";
	document.cookie = c;
}

// ---------------------------------------------------------------------------------
// Saving
// ---------------------------------------------------------------------------------

var saveUsingSafari = false;

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var endSaveArea = '</d' + 'iv>';

// If there are unsaved changes, force the user to confirm before exitting
function confirmExit()
{
	hadConfirmExit = true;
	if((store && store.isDirty && store.isDirty()) || (story && story.areAnyDirty && story.areAnyDirty()))
		return config.messages.confirmExit;
}

// Give the user a chance to save changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty() && window.hadConfirmExit === false)
		{
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
		}
}

function updateMarkupBlock(s,blockName,tiddlerName)
{
	return s.replaceChunk(
			"<!--%0-START-->".format([blockName]),
			"<!--%0-END-->".format([blockName]),
			"\n" + store.getRecursiveTiddlerText(tiddlerName,"") + "\n");
}

// Save this tiddlywiki with the pending changes
function saveChanges(onlyIfDirty)
{
	if(onlyIfDirty && !store.isDirty())
		return;
	clearMessage();
	// Get the URL of the document
	var originalPath = document.location.toString();
	// Check we were loaded from a file URL
	if(originalPath.substr(0,5) != "file:")
		{
		alert(config.messages.notFileUrlError);
		if(store.tiddlerExists(config.messages.saveInstructions))
			story.displayTiddler(null,config.messages.saveInstructions);
		return;
		}
	var localPath = getLocalPath(originalPath);
	// Load the original file
	var original = loadFile(localPath);
	if(original == null)
		{
		alert(config.messages.cantSaveError);
		if(store.tiddlerExists(config.messages.saveInstructions))
			story.displayTiddler(null,config.messages.saveInstructions);
		return;
		}
	// Locate the storeArea div's
	var posOpeningDiv = original.indexOf(startSaveArea);
	var limitClosingDiv = original.indexOf("<!--POST-BODY-START--"+">");
	var posClosingDiv = original.lastIndexOf(endSaveArea,limitClosingDiv == -1 ? original.length : limitClosingDiv);
	if((posOpeningDiv == -1) || (posClosingDiv == -1))
		{
		alert(config.messages.invalidFileError.format([localPath]));
		return;
		}
	// Save the backup
	if(config.options.chkSaveBackups)
		{
		var backupPath = getBackupPath(localPath);
		var backup = saveFile(backupPath,original);
		if(backup)
			displayMessage(config.messages.backupSaved,"file://" + backupPath);
		else
			alert(config.messages.backupFailed);
		}
	// Save Rss
	if(config.options.chkGenerateAnRssFeed)
		{
		var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
		var rssSave = saveFile(rssPath,convertUnicodeToUTF8(generateRss()));
		if(rssSave)
			displayMessage(config.messages.rssSaved,"file://" + rssPath);
		else
			alert(config.messages.rssFailed);
		}
	// Save empty template
	if(config.options.chkSaveEmptyTemplate)
		{
		var emptyPath,p;
		if((p = localPath.lastIndexOf("http://informationr.net/")) != -1)
			emptyPath = localPath.substr(0,p) + "/empty.html";
		else if((p = localPath.lastIndexOf("\\")) != -1)
			emptyPath = localPath.substr(0,p) + "\\empty.html";
		else
			emptyPath = localPath + ".empty.html";
		var empty = original.substr(0,posOpeningDiv + startSaveArea.length) + original.substr(posClosingDiv);
		var emptySave = saveFile(emptyPath,empty);
		if(emptySave)
			displayMessage(config.messages.emptySaved,"file://" + emptyPath);
		else
			alert(config.messages.emptyFailed);
		}
	var save;
	try 
		{
		// Save new file
		var revised = original.substr(0,posOpeningDiv + startSaveArea.length) + "\n" +
					convertUnicodeToUTF8(store.allTiddlersAsHtml()) + "\n" +
					original.substr(posClosingDiv);
		var newSiteTitle = convertUnicodeToUTF8((wikifyPlain("SiteTitle") + " - " + wikifyPlain("SiteSubtitle")).htmlEncode());
		revised = revised.replaceChunk("<title"+">","</title"+">"," " + newSiteTitle + " ");
		revised = updateMarkupBlock(revised,"PRE-HEAD","MarkupPreHead");
		revised = updateMarkupBlock(revised,"POST-HEAD","MarkupPostHead");
		revised = updateMarkupBlock(revised,"PRE-BODY","MarkupPreBody");
		revised = updateMarkupBlock(revised,"POST-BODY","MarkupPostBody");
		save = saveFile(localPath,revised);
		}
	catch (e) 
		{
		showException(e);
		}
	if(save)
		{
		displayMessage(config.messages.mainSaved,"file://" + localPath);
		store.setDirty(false);
		}
	else
		alert(config.messages.mainFailed);
}

function getLocalPath(originalPath)
{
	// Remove any location or query part of the URL
	var argPos = originalPath.indexOf("?");
	if(argPos != -1)
		originalPath = originalPath.substr(0,argPos);
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert file://localhost/ to file:///
	if(originalPath.indexOf("file:////localhost/") == 0)
		originalPath = "file://" + originalPath.substr(16);
	// Convert to a native file format assuming
	// "file:///x:/path/path/path..." - pc local file --> "x:\path\path\path..."
	// "file://///server/share/path/path/path..." - FireFox pc network file --> "\\server\share\path\path\path..."
	// "file:///path/path/path..." - mac/unix local file --> "/path/path/path..."
	// "file://server/share/path/path/path..." - pc network file --> "\\server\share\path\path\path..."
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("http://informationr.net/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("http://informationr.net/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("http://informationr.net/","g"),"\\");
	return localPath;
}

function getBackupPath(localPath)
{
	var backSlash = true;
	var dirPathPos = localPath.lastIndexOf("\\");
	if(dirPathPos == -1)
		{
		dirPathPos = localPath.lastIndexOf("http://informationr.net/");
		backSlash = false;
		}
	var backupFolder = config.options.txtBackupFolder;
	if(!backupFolder || backupFolder == "")
		backupFolder = ".";
	var backupPath = localPath.substr(0,dirPathPos) + (backSlash ? "\\" : "/") + backupFolder + localPath.substr(dirPathPos);
	backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + "." + (new Date()).convertToYYYYMMDDHHMMSSMMM() + ".html";
	return backupPath;
}

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl");
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title" + ">" + wikifyPlain("SiteTitle").htmlEncode() + "</title" + ">");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlain("SiteSubtitle").htmlEncode() + "</description>");
	s.push("<language>en-us</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + version.major + "." + version.minor + "." + version.revision + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified","excludeLists");
	var n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for (var t=tiddlers.length-1; t>=n; t--)
		s.push(tiddlers[t].saveToRss(u));
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}


// UTF-8 encoding rules:
// 0x0000 - 0x007F:	0xxxxxxx
// 0x0080 - 0x07FF:	110xxxxx 10xxxxxx
// 0x0800 - 0xFFFF:	1110xxxx 10xxxxxx 10xxxxxx

function convertUTF8ToUnicode(u)
{
	if(window.netscape == undefined)
		return manualConvertUTF8ToUnicode(u);
	else
		return mozConvertUTF8ToUnicode(u);
}

function manualConvertUTF8ToUnicode(utf)
{
	var uni = utf;
	var src = 0;
	var dst = 0;
	var b1, b2, b3;
	var c;
	while(src < utf.length)
		{
		b1 = utf.charCodeAt(src++);
		if(b1 < 0x80)
			dst++;
		else if(b1 < 0xE0)
			{
			b2 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
			}
		else
			{
			b2 = utf.charCodeAt(src++);
			b3 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
			}
	}
	return(uni);
}

function mozConvertUTF8ToUnicode(u)
{
	try
		{
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
		}
	catch(e)
		{
		return manualConvertUTF8ToUnicode(u);
		} // fallback
	var s = converter.ConvertToUnicode(u);
	var fin = converter.Finish();
	return (fin.length > 0) ? s+fin : s;
}

function convertUnicodeToUTF8(s)
{
	if(window.netscape == undefined)
		return manualConvertUnicodeToUTF8(s);
	else
		return mozConvertUnicodeToUTF8(s);
}

function manualConvertUnicodeToUTF8(s)
{
	var re = /[^\u0000-\u007F]/g ;
	return s.replace(re, function($0) {return("&#" + $0.charCodeAt(0).toString() + ";");})
}

function mozConvertUnicodeToUTF8(s)
{
	try
		{
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
		}
	catch(e)
		{
		return manualConvertUnicodeToUTF8(s);
		} // fallback
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	if(fin.length > 0)
		return u + fin;
	else
		return u;
}

function saveFile(fileUrl, content)
{
	var r = null;
	if((r == null) || (r == false))
		r = mozillaSaveFile(fileUrl, content);
	if((r == null) || (r == false))
		r = ieSaveFile(fileUrl, content);
	if((r == null) || (r == false))
		r = javaSaveFile(fileUrl, content);
	return(r);
}

function loadFile(fileUrl)
{
	var r = null;
	if((r == null) || (r == false))
		r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = javaLoadFile(fileUrl);
	return(r);
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath, content)
{
	try
		{
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		}
	catch(e)
		{
		//alert("Exception while attempting to save\n\n" + e.toString());
		return(null);
		}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return(true);
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try
		{
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
		}
	catch(e)
		{
		//alert("Exception while attempting to load\n\n" + e.toString());
		return(null);
		}
	return(content);
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath, content)
{
	if(window.Components)
		try
			{
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if (!file.exists())
				file.create(0, 0664);
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file, 0x20 | 0x02, 00004,null);
			out.write(content, content.length);
			out.flush();
			out.close();
			return(true);
			}
		catch(e)
			{
			//alert("Exception while attempting to save\n\n" + e);
			return(false);
			}
	return(null);
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components)
		try
			{
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if (!file.exists())
				return(null);
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file, 0x01, 00004, null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			return(sInputStream.read(sInputStream.available()));
			}
		catch(e)
			{
			//alert("Exception while attempting to load\n\n" + e);
			return(false);
			}
	return(null);
}

function javaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	if(i > 0)
		return url.substring(i-1);
	return url;
}

function javaSaveFile(filePath, content)
{
	try
		{
		if(document.applets["TiddlySaver"])
			return document.applets["TiddlySaver"].saveFile(javaUrlToFilename(filePath),"UTF-8",content);
		}
	catch(e)
		{
		}
	try
		{
		var s = new java.io.PrintStream(new java.io.FileOutputStream(javaUrlToFilename(filePath)));
		s.print(content);
		s.close();
		}
	catch(e)
		{
		return null;
		}
	return true;
}

function javaLoadFile(filePath)
{
	try
		{
	if(document.applets["TiddlySaver"])
		return String(document.applets["TiddlySaver"].loadFile(javaUrlToFilename(filePath),"UTF-8"));
		}
	catch(e)
		{
		}
	var content = [];
	try
		{
		var r = new java.io.BufferedReader(new java.io.FileReader(javaUrlToFilename(filePath)));
		var line;
		while ((line = r.readLine()) != null)
			content.push(new String(line));
		r.close();
		}
	catch(e)
		{
		return null;
		}
	return content.join("\n");
}


// ---------------------------------------------------------------------------------
// Remote HTTP requests
// ---------------------------------------------------------------------------------

// Load a file over http
//   url - the source url
//   callback - function to call when there's a response
//   params - parameter object that gets passed to the callback for storing it's state
// Return value is the underlying XMLHttpRequest object, or 'null' if there was an error
// Callback function is called like this:
//   callback(status,params,responseText,xhr)
//     status - true if OK, false if error
//     params - the parameter object provided to loadRemoteFile()
//     responseText - the text of the file
//     xhr - the underlying XMLHttpRequest object
function loadRemoteFile(url,callback,params)
{
	// Get an xhr object
	var x;
	try
		{
		x = new XMLHttpRequest(); // Modern
		}
	catch(e)
		{
		try
			{
			x = new ActiveXObject("Msxml2.XMLHTTP"); // IE 6
			}
		catch (e)
			{
			return null;
			}
		}
	// Install callback
	x.onreadystatechange = function()
		{
		if (x.readyState == 4)
			{
			if ((x.status == 0 || x.status == 200) && callback)
				{
				callback(true,params,x.responseText,url,x);
			}
			else
				callback(false,params,null,url,x);
			}
		}
	// Send request
	if(window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1)
		window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
	try
		{
		url = url + (url.indexOf("?") < 0 ? "?" : "&") + "nocache=" + Math.random();
		x.open("GET",url,true);
		if (x.overrideMimeType)
			x.overrideMimeType("text/html");
		x.send(null);
		}
	catch (e)
		{
		alert("Error in send " + e);
		return null;
		}
	return x;
}
// ---------------------------------------------------------------------------------
// TiddlyWiki-specific utility functions
// ---------------------------------------------------------------------------------

function createTiddlyButton(theParent,theText,theTooltip,theAction,theClass,theId,theAccessKey)
{
	var theButton = document.createElement("a");
	if(theAction)
		{
		theButton.onclick = theAction;
		theButton.setAttribute("href","javascript:;");
		}
	if(theTooltip)
		theButton.setAttribute("title",theTooltip);
	if(theText)
		theButton.appendChild(document.createTextNode(theText));
	if(theClass)
		theButton.className = theClass;
	else
		theButton.className = "button";
	if(theId)
		theButton.id = theId;
	if(theParent)
		theParent.appendChild(theButton);
	if(theAccessKey)
		theButton.setAttribute("accessKey",theAccessKey);
	return(theButton);
}

function createTiddlyLink(place,title,includeText,theClass,isStatic)
{
	var text = includeText ? title : null;
	var i = getTiddlyLinkInfo(title,theClass)
	var btn;
	if(isStatic)
		btn = createExternalLink(place,"#" + title);
	else
		btn = createTiddlyButton(place,text,i.subTitle,onClickTiddlerLink,i.classes);
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	return(btn);
}

function refreshTiddlyLink(e,title)
{
	var i = getTiddlyLinkInfo(title,e.className);
	e.className = i.classes;
	e.title = i.subTitle;
}

function getTiddlyLinkInfo(title,currClasses)
{
	var classes = currClasses ? currClasses.split(" ") : [];
	classes.pushUnique("tiddlyLink");
	var tiddler = store.fetchTiddler(title);
	var subTitle;
	if(tiddler)
		{
		subTitle = tiddler.getSubtitle();
		classes.pushUnique("tiddlyLinkExisting");
		classes.remove("tiddlyLinkNonExisting");
		classes.remove("shadow");
		}
	else
		{
		classes.remove("tiddlyLinkExisting");
		classes.pushUnique("tiddlyLinkNonExisting");
		if(store.isShadowTiddler(title))
			{
			subTitle = config.messages.shadowedTiddlerToolTip.format([title]);
			classes.pushUnique("shadow");
			}
		else
			{
			subTitle = config.messages.undefinedTiddlerToolTip.format([title]);
			classes.remove("shadow");
			}
		}
	return {classes: classes.join(" "), subTitle: subTitle};
}

function createExternalLink(place,url)
{
	var theLink = document.createElement("a");
	theLink.className = "externalLink";
	theLink.href = url;
	theLink.title = config.messages.externalLinkTooltip.format([url]);
	if(config.options.chkOpenInNewWindow)
		theLink.target = "_blank";
	place.appendChild(theLink);
	return(theLink);
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(e)
{
	if (!e) var e = window.event;
	var theTarget = resolveTarget(e);
	var theLink = theTarget;
	var title = null;
	do {
		title = theLink.getAttribute("tiddlyLink");
		theLink = theLink.parentNode;
	} while(title == null && theLink != null);
	if(title)
		{
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		var opening;
		if(toggling && document.getElementById("tiddler" + title))
			story.closeTiddler(title,true,e.shiftKey || e.altKey);
		else
			story.displayTiddler(theTarget,title,null,true,e.shiftKey || e.altKey);
		}
	clearMessage();
	return(false);
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler)
{
	var theTag = createTiddlyButton(place,tag,config.views.wikified.tag.tooltip.format([tag]),onClickTag);
	theTag.setAttribute("tag",tag);
	if(excludeTiddler)
		theTag.setAttribute("tiddler",excludeTiddler);
	return(theTag);
}

// Event handler for clicking on a tiddler tag
function onClickTag(e)
{
	if (!e) var e = window.event;
	var theTarget = resolveTarget(e);
	var popup = Popup.create(this);
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag)
		{
		var tagged = store.getTaggedTiddlers(tag);
		var titles = [];
		var li,r;
		for(r=0;r<tagged.length;r++)
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		var lingo = config.views.wikified.tag;
		if(titles.length > 0)
			{
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
			for(r=0; r<titles.length; r++)
				{
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
				}
			}
		else
			createTiddlyText(createTiddlyElement(popup,"li",null,"disabled"),lingo.popupNone.format([tag]));
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
		}
	Popup.show(popup,false);
	e.cancelBubble = true;
	if (e.stopPropagation) e.stopPropagation();
	return(false);
}

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(e)
{
	if (!e) var e = window.event;
	var tag = this.getAttribute("tag");
	var tagged = store.getTaggedTiddlers(tag);
	var titles = [];
	for(var t=0; t<tagged.length; t++)
		titles.push(tagged[t].title);
	story.displayTiddlers(this,titles);
	return(false);
}

function onClickError(e)
{
	if (!e) var e = window.event;
	var popup = Popup.create(this);
	var lines = this.getAttribute("errorText").split("\n");
	for(var t=0; t<lines.length; t++)
		createTiddlyElement(popup,"li",null,null,lines[t]);
	Popup.show(popup,false);
	e.cancelBubble = true;
	if (e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyDropDown(place,onchange,options)
{
	var sel = createTiddlyElement(place,"select");
	sel.onchange = onchange;
	for(var t=0; t<options.length; t++)
		{
		var e = createTiddlyElement(sel,"option",null,null,options[t].caption);
		e.value = options[t].name;
		}
}

function createTiddlyError(place,title,text)
{
	var btn = createTiddlyButton(place,title,null,onClickError,"errorButton");
	if (text) btn.setAttribute("errorText",text);
}

function merge(dst,src,preserveExisting)
{
	for (p in src)
		if (!preserveExisting || dst[p] === undefined)
			dst[p] = src[p];
	return dst;
}

// Returns a string containing the description of an exception, optionally prepended by a message
function exceptionText(e, message)
{
	var s = e.description ? e.description : e.toString();
	return message ? "%0:\n%1".format([message, s]) : s;
}

// Displays an alert of an exception description with optional message
function showException(e, message)
{
	alert(exceptionText(e, message));
}

// ---------------------------------------------------------------------------------
// Animation engine
// ---------------------------------------------------------------------------------

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID = 0; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() // Variable number of arguments
{
	for(var t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0)
		{
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},5);
		}
	this.running += arguments.length;
}

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length)
		{
		var animation = me.animations[a];
		if(animation.tick())
			a++;
		else
			{
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
			}
		}
}

// Map a 0..1 value to 0..1, but slow down at the start and end
Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
}

// ---------------------------------------------------------------------------------
// Cascade animation
// ---------------------------------------------------------------------------------

function Cascade(text,startElement,targetElement,slowly)
{
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	this.elements = [];
	this.startElement = startElement;
	this.startLeft = findPosX(this.startElement);
	this.startTop = findPosY(this.startElement);
	this.startWidth = Math.min(this.startElement.offsetWidth,winWidth);
	this.startHeight = Math.min(this.startElement.offsetHeight,winHeight);
	this.targetElement = targetElement;
	targetElement.style.position = "relative";
	targetElement.style.zIndex = 2;
	this.targetLeft = findPosX(this.targetElement);
	this.targetTop = findPosY(this.targetElement);
	this.targetWidth = Math.min(this.targetElement.offsetWidth,winWidth);
	this.targetHeight = Math.min(this.targetElement.offsetHeight,winHeight);
	this.progress = -1;
	this.steps = slowly ? config.cascadeSlow : config.cascadeFast;
	this.text = text;
	this.tick();
	return this;
}

Cascade.prototype.tick = function()
{
	this.progress++;
	if(this.progress >= this.steps)
		{
		while(this.elements.length > 0)
			this.removeTail();
		this.targetElement.style.position = "static";
		this.targetElement.style.zIndex = "";
		return false;
		}
	else
		{
		if(this.elements.length > 0 && this.progress > config.cascadeDepth)
			this.removeTail();
		if(this.progress < (this.steps - config.cascadeDepth))
			{
			var f = Animator.slowInSlowOut(this.progress/(this.steps - config.cascadeDepth - 1));
			var e = createTiddlyElement(document.body,"div",null,"cascade",this.text);
			e.style.zIndex = 1;
			e.style.left = this.startLeft + (this.targetLeft-this.startLeft) * f + "px";
			e.style.top = this.startTop + (this.targetTop-this.startTop) * f + "px";
			e.style.width = this.startWidth + (this.targetWidth-this.startWidth) * f + "px";
			e.style.height = this.startHeight + (this.targetHeight-this.startHeight) * f + "px";
			e.style.display = "block";
			this.elements.push(e);
			}
		return true;
		}
}

Cascade.prototype.removeTail = function()
{
	var e = this.elements[0];
	e.parentNode.removeChild(e);
	this.elements.shift();
}

// ---------------------------------------------------------------------------------
// Scroller animation
// ---------------------------------------------------------------------------------

function Scroller(targetElement,slowly)
{
	this.targetElement = targetElement;
	this.startScroll = findScrollY();
	this.targetScroll = ensureVisible(targetElement);
	this.progress = 0;
	this.step = slowly ? config.animSlow : config.animFast;
	return this;
}

Scroller.prototype.tick = function()
{
	this.progress += this.step;
	if(this.progress > 1)
		{
		window.scrollTo(0,this.targetScroll);
		return false;
		}
	else
		{
		var f = Animator.slowInSlowOut(this.progress);
		window.scrollTo(0,this.startScroll + (this.targetScroll-this.startScroll) * f);
		return true;
		}
}

// ---------------------------------------------------------------------------------
// Slider animation
// ---------------------------------------------------------------------------------

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,slowly,deleteMode)
{
	this.element = element;
	element.style.display = "block";
	this.deleteMode = deleteMode;
	this.element.style.height = "auto";
	this.realHeight = element.offsetHeight;
	this.opening = opening;
	this.step = slowly ? config.animSlow : config.animFast;
	if(opening)
		{
		this.progress = 0;
		element.style.height = "0px";
		element.style.display = "block";
		}
	else
		{
		this.progress = 1;
		this.step = -this.step;
		}
	element.style.overflow = "hidden";
	return this;
}

Slider.prototype.stop = function()
{
	if(this.opening)
		{
		this.element.style.height = "auto";
		this.element.style.opacity = 1;
		this.element.style.filter = "alpha(opacity:100)";
		}
	else
		{
		switch(this.deleteMode)
			{
			case "none":
				this.element.style.display = "none";
				break;
			case "all":
				this.element.parentNode.removeChild(this.element);
				break;
			case "children":
				removeChildren(this.element);
				break;
			}
		}
}

Slider.prototype.tick = function()
{
	this.progress += this.step;
	if(this.progress < 0 || this.progress > 1)
		{
		this.stop();
		return false;
		}
	else
		{
		var f = Animator.slowInSlowOut(this.progress);
		var h = this.realHeight * f;
		this.element.style.height = h + "px";
		this.element.style.opacity = f;
		this.element.style.filter = "alpha(opacity:" + f * 100 +")";
		return true;
		}
}

// ---------------------------------------------------------------------------------
// Popup menu
// ---------------------------------------------------------------------------------

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root)
{
	Popup.remove();
	var popup = createTiddlyElement(document.body,"ol","popup","popup");
	Popup.stack.push({root: root, popup: popup});
	return popup;
}

Popup.onDocumentClick = function(e)
{
	if (!e) var e = window.event;
	var target = resolveTarget(e);
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
}

Popup.show = function(unused,slowly)
{
	var curr = Popup.stack[Popup.stack.length-1];
	var rootLeft = findPosX(curr.root);
	var rootTop = findPosY(curr.root);
	var rootHeight = curr.root.offsetHeight;
	var popupLeft = rootLeft;
	var popupTop = rootTop + rootHeight;
	var popupWidth = curr.popup.offsetWidth;
	var winWidth = findWindowWidth();
	if(popupLeft + popupWidth > winWidth)
		popupLeft = winWidth - popupWidth;
	curr.popup.style.left = popupLeft + "px";
	curr.popup.style.top = popupTop + "px";
	curr.popup.style.display = "block";
	addClass(curr.root,"highlight");
	if(anim && config.options.chkAnimate)
		anim.startAnimating(new Scroller(curr.popup,slowly));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
}

Popup.remove = function()
{
	if(Popup.stack.length > 0)
		{
		Popup.removeFrom(0);
		}
}

Popup.removeFrom = function(from)
{
	for(var t=Popup.stack.length-1; t>=from; t--)
		{
		var p = Popup.stack[t];
		removeClass(p.root,"highlight");
		p.popup.parentNode.removeChild(p.popup);
		}
	Popup.stack = Popup.stack.slice(0,from);
}

// ---------------------------------------------------------------------------------
// ListView gadget
// ---------------------------------------------------------------------------------

var ListView = {};

// Create a listview
//   place - where in the DOM tree to insert the listview
//   listObject - array of objects to be included in the listview
//   listTemplate - template for the listview
//   callback - callback for a command being selected
//   className - optional classname for the <table> element
ListView.create = function(place,listObject,listTemplate,callback,className)
{
	var table = createTiddlyElement(place,"table",null,className ? className : "listView");
	var thead = createTiddlyElement(table,"thead");
	var r = createTiddlyElement(thead,"tr");
	for(var t=0; t<listTemplate.columns.length; t++)
		{
		var columnTemplate = listTemplate.columns[t];
		var c = createTiddlyElement(r,"th");
		var colType = ListView.columnTypes[columnTemplate.type];
		if(colType && colType.createHeader)
			colType.createHeader(c,columnTemplate,t);
		}
	var tbody = createTiddlyElement(table,"tbody");
	for(var rc=0; rc<listObject.length; rc++)
		{
		rowObject = listObject[rc];
		r = createTiddlyElement(tbody,"tr");
		for(var c=0; c<listTemplate.rowClasses.length; c++)
			{
			if(rowObject[listTemplate.rowClasses[c].field])
				addClass(r,listTemplate.rowClasses[c].className);
			}
		rowObject.rowElement = rowObject;
		rowObject.colElements = {};
		for(var cc=0; cc<listTemplate.columns.length; cc++)
			{
			var c = createTiddlyElement(r,"td");
			var columnTemplate = listTemplate.columns[cc];
			var field = columnTemplate.field;
			var colType = ListView.columnTypes[columnTemplate.type];
			if(colType && colType.createItem)
				colType.createItem(c,rowObject,field,columnTemplate,cc,rc);
			rowObject.colElements[field] = c;
			}
		}
	if(callback && listTemplate.actions)
		createTiddlyDropDown(place,ListView.getCommandHandler(callback),listTemplate.actions);
	if(callback && listTemplate.buttons)
		{
		for(t=0; t<listTemplate.buttons.length; t++)
			{
			var a = listTemplate.buttons[t];
			if(a && a.name != "")
				createTiddlyButton(place,a.caption,null,ListView.getCommandHandler(callback,a.name,a.allowEmptySelection));
			}
		}
	return table;
}

ListView.getCommandHandler = function(callback,name,allowEmptySelection)
{
	return function(e)
		{
		var view = findRelated(this,"TABLE",null,"previousSibling");
		var tiddlers = [];
		ListView.forEachSelector(view,function(e,rowName) {
					if(e.checked)
						tiddlers.push(rowName);
					});
		if(tiddlers.length == 0 && !allowEmptySelection)
			alert(config.messages.nothingSelected);
		else
			{
			if(this.nodeName.toLowerCase() == "select")
				{
				callback(view,this.value,tiddlers);
				this.selectedIndex = 0;
				}
			else
				callback(view,name,tiddlers);
			}
		};
}

// Invoke a callback for each selector checkbox in the listview
//   view - <table> element of listView
//   callback(checkboxElement,rowName)
//     where
//       checkboxElement - DOM element of checkbox
//       rowName - name of this row as assigned by the column template
//   result: true if at least one selector was checked
ListView.forEachSelector = function(view,callback)
{
	var checkboxes = view.getElementsByTagName("input");
	var hadOne = false;
	for(var t=0; t<checkboxes.length; t++)
		{
		var cb = checkboxes[t];
		if(cb.getAttribute("type") == "checkbox")
			{
			var rn = cb.getAttribute("rowName");
			if(rn)
				{
				callback(cb,rn);
				hadOne = true;
				}
			}
		}
	return hadOne;
}

ListView.columnTypes = {};

ListView.columnTypes.String = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyText(place,columnTemplate.title);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v);
		}
};

ListView.columnTypes.Date = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v.formatString(columnTemplate.dateFormat));
		}
};

ListView.columnTypes.StringList = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				{
				for(var t=0; t<v.length; t++)
					{
					createTiddlyText(place,v[t]);
					createTiddlyElement(place,"br");
					}
				}
		}
};

ListView.columnTypes.Selector = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyCheckbox(place,null,false,this.onHeaderChange);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],null);
			e.setAttribute("rowName",listObject[columnTemplate.rowName]);
		},
	onHeaderChange: function(e)
		{
			var state = this.checked;
			var view = findRelated(this,"TABLE");
			if(!view)
				return;
			ListView.forEachSelector(view,function(e,rowName) {
								e.checked = state;
							});
		}
};

ListView.columnTypes.Tags = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var tags = listObject[field];
			createTiddlyText(place,String.encodeTiddlyLinkList(tags));
		}
};

ListView.columnTypes.Boolean = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			if(listObject[field] == true)
				createTiddlyText(place,columnTemplate.trueText);
			if(listObject[field] == false)
				createTiddlyText(place,columnTemplate.falseText);
		}
};

ListView.columnTypes.TagCheckbox = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],this.onChange);
			e.setAttribute("tiddler",listObject.title);
			e.setAttribute("tag",columnTemplate.tag);
		},
	onChange : function(e)
		{
			var tag = this.getAttribute("tag");
			var tiddler = this.getAttribute("tiddler");
			store.setTiddlerTag(tiddler,this.checked,tag);
		}
};

ListView.columnTypes.TiddlerLink = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				{
				var link = createTiddlyLink(place,listObject[columnTemplate.tiddlerLink],false,null);
				createTiddlyText(link,listObject[field]);
				}
		}
};
// ---------------------------------------------------------------------------------
// Augmented methods for the JavaScript Number(), Array(), String() and Date() objects
// ---------------------------------------------------------------------------------

// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	var c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return c;
}

// Add indexOf function if browser does not support it
if(!Array.indexOf) {
Array.prototype.indexOf = function(item,from)
{
	if(!from)
		from = 0;
	for(var i=from; i<this.length; i++)
		if(this[i] === item)
			return i;
	return -1;
}}

// Find an entry in a given field of the members of an array
Array.prototype.findByField = function(field,value)
{
	for(var t=0; t<this.length; t++)
		if(this[t][field] == value)
			return t;
	return null;
}

// Return whether an entry exists in an array
Array.prototype.contains = function(item)
{
	return this.indexOf(item) != -1;
};

// Adds, removes or toggles a particular value within an array
//  value - value to add
//  mode - +1 to add value, -1 to remove value, 0 to toggle it
Array.prototype.setItem = function(value,mode)
{
	var p = this.indexOf(value);
	if(mode == 0)
		mode = (p == -1) ? +1 : -1;
	if(mode == +1)
		{
		if(p == -1)
			this.push(value);
		}
	else if(mode == -1)
		{
		if(p != -1)
			this.splice(p,1);
		}
}

// Return whether one of a list of values exists in an array
Array.prototype.containsAny = function(items)
{
	for(var i=0; i<items.length; i++)
		if (this.indexOf(items[i]) != -1)
			return true;
	return false;
};

// Return whether all of a list of values exists in an array
Array.prototype.containsAll = function(items)
{
	for (var i = 0; i<items.length; i++)
		if (this.indexOf(items[i]) == -1)
			return false;
	return true;
};

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique != undefined && unique == false)
		this.push(item);
	else
		{
		if(this.indexOf(item) == -1)
			this.push(item);
		}
}

Array.prototype.remove = function(item)
{
	var p = this.indexOf(item);
	if(p != -1)
		this.splice(p,1);
}

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	if(n < this.length)
		return this.slice(this.length-n);
	else
		return this;
}

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
}

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var s = this.split("-");
	if(s.length > 1)
		for(var t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	return s.join("");
}

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(substrings)
{
	var subRegExp = /(?:%(\d+))/mg;
	var currPos = 0;
	var r = [];
	do {
		var match = subRegExp.exec(this);
		if(match && match[1])
			{
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1])]);
			currPos = subRegExp.lastIndex;
			}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
}

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	var s = "\\^$*+?()=!|,{}[].";
	var c = this;
	for(var t=0; t<s.length; t++)
		c = c.replace(new RegExp("\\" + s.substr(t,1),"g"),"\\" + s.substr(t,1));
	return c;
}

// Convert "\" to "\s", newlines to "\n" (and remove carriage returns)
String.prototype.escapeLineBreaks = function()
{
	return this.replace(/\\/mg,"\\s").replace(/\n/mg,"\\n").replace(/\r/mg,"");
}

// Convert "\n" to newlines, "\b" to " ", "\s" to "\" (and remove carriage returns)
String.prototype.unescapeLineBreaks = function()
{
	return this.replace(/\\n/mg,"\n").replace(/\\b/mg," ").replace(/\\s/mg,"\\").replace(/\r/mg,"");
}

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	return(this.replace(/&/mg,"&amp;").replace(/</mg,"&lt;").replace(/>/mg,"&gt;").replace(/\"/mg,"&quot;"));
}

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	return(this.replace(/&amp;/mg,"&").replace(/&lt;/mg,"<").replace(/&gt;/mg,">").replace(/&quot;/mg,"\""));
}

// Parse a space-separated string of name:value parameters where:
//   - the name or the value can be optional (in which case separate defaults are used instead)
//     - in case of ambiguity, a lone word is taken to be a value
//     - if 'cascadeDefaults' is set to true, then the defaults are modified by updated by each specified name or value
//     - name prefixes are not allowed if the 'noNames' parameter is true
//   - if both the name and value are present they must be separated by a colon
//   - the name and the value may both be quoted with single- or double-quotes, double-square brackets
//   - names or values quoted with {{double-curly braces}} are evaluated as a JavaScript expression
//     - as long as the 'allowEval' parameter is true
// The result is an array of objects:
//   result[0] = object with a member for each parameter name, value of that member being an array of values
//   result[1..n] = one object for each parameter, with 'name' and 'value' members
String.prototype.parseParams = function(defaultName,defaultValue,allowEval,noNames,cascadeDefaults)
{
	var parseToken = function(match,p)
		{
		var n;
		if(match[p]) // Double quoted
			n = match[p];
		else if(match[p+1]) // Single quoted
			n = match[p+1];
		else if(match[p+2]) // Double-square-bracket quoted
			n = match[p+2];
		else if(match[p+3]) // Double-brace quoted
			try
				{
				n = match[p+3];
				if(allowEval)
					n = window.eval(n);
				}
			catch(e)
				{
				throw "Unable to evaluate {{" + match[p+3] + "}}: " + exceptionText(e);
				}
		else if(match[p+4]) // Unquoted
			n = match[p+4];
		else if(match[p+5]) // empty quote
			n = "";
		return n;
		};
	var r = [{}];
	var dblQuote = "(?:\"((?:(?:\\\\\")|[^\"])+)\")";
	var sngQuote = "(?:'((?:(?:\\\\\')|[^'])+)')";
	var dblSquare = "(?:\\[\\[((?:\\s|\\S)*?)\\]\\])";
	var dblBrace = "(?:\\{\\{((?:\\s|\\S)*?)\\}\\})";
	var unQuoted = noNames ? "([^\"'\\s]\\S*)" : "([^\"':\\s][^\\s:]*)";
	var emptyQuote = "((?:\"\")|(?:''))";
	var skipSpace = "(?:\\s*)";
	var token = "(?:" + dblQuote + "|" + sngQuote + "|" + dblSquare + "|" + dblBrace + "|" + unQuoted + "|" + emptyQuote + ")";
	var re = noNames
		? new RegExp(token,"mg")
		: new RegExp(skipSpace + token + skipSpace + "(?:(\\:)" + skipSpace + token + ")?","mg");
	var params = [];
	do {
		var match = re.exec(this);
		if(match)
			{
			var n = parseToken(match,1);
			if(noNames)
				r.push({name: "", value: n});
			else
				{
				var v = parseToken(match,8);
				if(v == null && defaultName)
					{
					v = n;
					n = defaultName;
					}
				else if(v == null && defaultValue)
					v = defaultValue;
				r.push({name: n, value: v});
				if(cascadeDefaults)
					{
					defaultName = n;
					defaultValue = v;
					}
				}
			}
	} while(match);
	// Summarise parameters into first element
	for(var t=1; t<r.length; t++)
		{
		if(r[0][r[t].name])
			r[0][r[t].name].push(r[t].value);
		else
			r[0][r[t].name] = [r[t].value];
		}
	return r;
}

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '',
// [[]], {{ }} or left unquoted (and therefore space-separated). Double-braces {{}} results in
// an *evaluated* parameter: e.g. {{config.options.txtUserName}} results in the current user's name.
String.prototype.readMacroParams = function()
{
	var p = this.parseParams("list",null,true,true);
	var n = [];
	for(var t=1; t<p.length; t++)
		n.push(p[t].value);
	return n;
}

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var p = this.parseParams("list",null,false,true);
	var n = [];
	for(var t=1; t<p.length; t++)
		n.pushUnique(p[t].value,unique);
	return n;
}

// Returns array with start and end index of chunk between given start and end marker, or undefined.
String.prototype.getChunkRange = function(start,end) 
{
	var s = this.indexOf(start);
	if(s != -1)
		{
		s += start.length;
		var e = this.indexOf(end,s);
		if(e != -1)
			return [s, e];
		}
}

// Replace a chunk of a string given start and end markers
String.prototype.replaceChunk = function(start,end,sub)
{
	var r = this.getChunkRange(start,end);
	return r 
		? this.substring(0,r[0]) + sub + this.substring(r[1])
		: this;
}

// Returns a chunk of a string between start and end markers, or undefined
String.prototype.getChunk = function(start,end)
{
	var r = this.getChunkRange(start,end);
	if (r)
		return this.substring(r[0],r[1]);
}


// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	if(title.indexOf(" ") == -1)
		return(title);
	else
		return("[[" + title + "]]");
}

// Static method to encodeTiddlyLink for every item in an array and join them with spaces
String.encodeTiddlyLinkList = function(list)
{
	if(list)
		{
		var results = [];
		for(var t=0; t<list.length; t++)
			results.push(String.encodeTiddlyLink(list[t]));
		return results.join(" ");
		}
	else
		return "";
}

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return(s);
}

String.prototype.startsWith = function(prefix) 
{
	return !prefix || this.substring(0,prefix.length) == prefix;
}

// Returns the first value of the given named parameter.
//#
//# @param params
//#         as returned by parseParams or null/undefined
//# @return [may be null/undefined]
//#
function getParam(params, name, defaultValue) {
	if (!params)
		return defaultValue;
	var p = params[0][name];
	return p ? p[0] : defaultValue;
}

// Returns the first value of the given boolean named parameter.
//#
//# @param params
//#         as returned by parseParams or null/undefined
//#
function getFlag(params, name, defaultValue) {
	return !!getParam(params, name, defaultValue);
} 
	
// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	var t = template.replace(/0hh12/g,String.zeroPad(this.getHours12(),2));
	t = t.replace(/hh12/g,this.getHours12());
	t = t.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	t = t.replace(/hh/g,this.getHours());
	t = t.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	t = t.replace(/mm/g,this.getMinutes());
	t = t.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	t = t.replace(/ss/g,this.getSeconds());
	t = t.replace(/[ap]m/g,this.getAmPm().toLowerCase());
	t = t.replace(/[AP]M/g,this.getAmPm().toUpperCase());
	t = t.replace(/wYYYY/g,this.getYearForWeekNo());
	t = t.replace(/wYY/g,String.zeroPad(this.getYearForWeekNo()-2000,2));
	t = t.replace(/YYYY/g,this.getFullYear());
	t = t.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	t = t.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	t = t.replace(/mmm/g,config.messages.dates.shortMonths[this.getMonth()]);
	t = t.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	t = t.replace(/MM/g,this.getMonth()+1);
	t = t.replace(/0WW/g,String.zeroPad(this.getWeek(),2));
	t = t.replace(/WW/g,this.getWeek());
	t = t.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	t = t.replace(/ddd/g,config.messages.dates.shortDays[this.getDay()]);
	t = t.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	t = t.replace(/DDth/g,this.getDate()+this.daySuffix());
	t = t.replace(/DD/g,this.getDate());
	return t;
}

Date.prototype.getWeek = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if (d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo
	var n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000); 
	return Math.floor(n/7)+1;
}

Date.prototype.getYearForWeekNo = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if (d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week
	return dt.getFullYear();
}

Date.prototype.getHours12 = function()
{
	var h = this.getHours();
	return h > 12 ? h-12 : ( h > 0 ? h : 12 );
}

Date.prototype.getAmPm = function()
{
	return this.getHours() >= 12 ? "pm" : "am";
}

Date.prototype.daySuffix = function()
{
	var num = this.getDate();
	if (num >= 11 && num <= 13) return "th";
	else if (num.toString().substr(-1)=="1") return "st";
	else if (num.toString().substr(-1)=="2") return "nd";
	else if (num.toString().substr(-1)=="3") return "rd";
	return "th";
}

// Convert a date to local YYYYMMDDHHMM string format
Date.prototype.convertToLocalYYYYMMDDHHMM = function()
{
	return(String.zeroPad(this.getFullYear(),4) + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2));
}

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return(String.zeroPad(this.getUTCFullYear(),4) + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2));
}

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return(String.zeroPad(this.getUTCFullYear(),4) + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + "." + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2) + String.zeroPad(this.getUTCSeconds(),2) + String.zeroPad(this.getUTCMilliseconds(),4));
}

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	var theDate = new Date(Date.UTC(parseInt(d.substr(0,4),10),
							parseInt(d.substr(4,2),10)-1,
							parseInt(d.substr(6,2),10),
							parseInt(d.substr(8,2),10),
							parseInt(d.substr(10,2),10),0,0));
	return(theDate);
}

// ---------------------------------------------------------------------------------
// Crypto functions and associated conversion routines
// ---------------------------------------------------------------------------------

// Crypto "namespace"
function Crypto() {}

// Convert a string to an array of big-endian 32-bit words
Crypto.strToBe32s = function(str)
{
	var be = Array();
	var len = Math.floor(str.length/4);
	var i, j;
	for(i=0, j=0; i<len; i++, j+=4)
		{
		be[i] = ((str.charCodeAt(j)&0xff) << 24)|((str.charCodeAt(j+1)&0xff) << 16)|((str.charCodeAt(j+2)&0xff) << 8)|(str.charCodeAt(j+3)&0xff);
		}
	while (j<str.length)
		{
		be[j>>2] |= (str.charCodeAt(j)&0xff)<<(24-(j*8)%32);
		j++;
		}
	return be;
}

// Convert an array of big-endian 32-bit words to a string
Crypto.be32sToStr = function(be)
{
	var str = "";
	for(var i=0;i<be.length*32;i+=8)
		str += String.fromCharCode((be[i>>5]>>>(24-i%32)) & 0xff);
	return str;
}

// Convert an array of big-endian 32-bit words to a hex string
Crypto.be32sToHex = function(be)
{
	var hex = "0123456789ABCDEF";
	var str = "";
	for(var i=0;i<be.length*4;i++)
		str += hex.charAt((be[i>>2]>>((3-i%4)*8+4))&0xF) + hex.charAt((be[i>>2]>>((3-i%4)*8))&0xF);
	return str;
}

// Return, in hex, the SHA-1 hash of a string
Crypto.hexSha1Str = function(str)
{
	return Crypto.be32sToHex(Crypto.sha1Str(str));
}

// Return the SHA-1 hash of a string
Crypto.sha1Str = function(str)
{
	return Crypto.sha1(Crypto.strToBe32s(str),str.length);
}

// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
Crypto.sha1 = function(x,blen)
{
	// Add 32-bit integers, wrapping at 32 bits
	//# Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
	add32 = function(a,b)
	{
		var lsw = (a&0xFFFF)+(b&0xFFFF);
		var msw = (a>>16)+(b>>16)+(lsw>>16);
		return (msw<<16)|(lsw&0xFFFF);
	};
	// Add five 32-bit integers, wrapping at 32 bits
	//# Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
	add32x5 = function(a,b,c,d,e)
	{
		var lsw = (a&0xFFFF)+(b&0xFFFF)+(c&0xFFFF)+(d&0xFFFF)+(e&0xFFFF);
		var msw = (a>>16)+(b>>16)+(c>>16)+(d>>16)+(e>>16)+(lsw>>16);
		return (msw<<16)|(lsw&0xFFFF);
	};
	// Bitwise rotate left a 32-bit integer by 1 bit
	rol32 = function(n)
	{
		return (n>>>31)|(n<<1);
	};

	var len = blen*8;
	// Append padding so length in bits is 448 mod 512
	x[len>>5] |= 0x80 << (24-len%32);
	// Append length
	x[((len+64>>9)<<4)+15] = len;
	var w = Array(80);

	var k1 = 0x5A827999;
	var k2 = 0x6ED9EBA1;
	var k3 = 0x8F1BBCDC;
	var k4 = 0xCA62C1D6;

	var h0 = 0x67452301;
	var h1 = 0xEFCDAB89;
	var h2 = 0x98BADCFE;
	var h3 = 0x10325476;
	var h4 = 0xC3D2E1F0;

	for(var i=0;i<x.length;i+=16)
		{
		var j,t;
		var a = h0;
		var b = h1;
		var c = h2;
		var d = h3;
		var e = h4;
		for(j = 0;j<16;j++)
			{
			w[j] = x[i+j];
			t = add32x5(e,(a>>>27)|(a<<5),d^(b&(c^d)),w[j],k1);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
			}
		for(j=16;j<20;j++)
			{
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),d^(b&(c^d)),w[j],k1);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
			}
		for(j=20;j<40;j++)
			{
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),b^c^d,w[j],k2);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
			}
		for(j=40;j<60;j++)
			{
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),(b&c)|(d&(b|c)),w[j],k3);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
			}
		for(j=60;j<80;j++)
			{
			w[j] = rol32(w[j-3]^w[j-8]^w[j-14]^w[j-16]);
			t = add32x5(e,(a>>>27)|(a<<5),b^c^d,w[j],k4);
			e=d; d=c; c=(b>>>2)|(b<<30); b=a; a = t;
			}

		h0 = add32(h0,a);
		h1 = add32(h1,b);
		h2 = add32(h2,c);
		h3 = add32(h3,d);
		h4 = add32(h4,e);
		}
	return Array(h0,h1,h2,h3,h4);
}

// ---------------------------------------------------------------------------------
// RGB colour object
// ---------------------------------------------------------------------------------

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string")
		{
		if(r.substr(0,1) == "#")
			{
			if(r.length == 7)
				{
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
				}
			else
				{
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
				}
			}
		else
			{
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/ ;
			var c = r.match(rgbPattern);
			if (c)
				{
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
				}
			}
		}
	else
		{
		this.r = r;
		this.g = g;
		this.b = b;
		}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
}

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	var r = this.r.clamp(0,1);
	var g = this.g.clamp(0,1);
	var b = this.b.clamp(0,1);
	return("#" + ("0" + Math.floor(r * 255).toString(16)).right(2) +
				 ("0" + Math.floor(g * 255).toString(16)).right(2) +
				 ("0" + Math.floor(b * 255).toString(16)).right(2));
}

// ---------------------------------------------------------------------------------
// DOM utilities - many derived from www.quirksmode.org
// ---------------------------------------------------------------------------------

function drawGradient(place,horiz,colours)
{
	for(var t=0; t<= 100; t+=2)
		{
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var f = t/100;
		var p = f*(colours.length-1);
		bar.style.backgroundColor = colours[Math.floor(p)].mix(colours[Math.ceil(p)],p-Math.floor(p)).toString();
		}
}

function createTiddlyText(theParent,theText)
{
	return theParent.appendChild(document.createTextNode(theText));
}

function createTiddlyCheckbox(theParent,caption,checked,onChange)
{
	var cb = document.createElement("input");
	cb.setAttribute("type","checkbox");
	cb.onclick = onChange;
	theParent.appendChild(cb);
	cb.checked = checked;
	cb.className = "chkOptionInput";
	if(caption)
		wikify(caption,theParent);
	return cb;
}

function createTiddlyElement(theParent,theElement,theID,theClass,theText)
{
	var e = document.createElement(theElement);
	if(theClass != null)
		e.className = theClass;
	if(theID != null)
		e.setAttribute("id",theID);
	if(theText != null)
		e.appendChild(document.createTextNode(theText));
	if(theParent != null)
		theParent.appendChild(e);
	return(e);
}

// Add an event handler
// Thanks to John Resig, via QuirksMode
function addEvent(obj,type,fn)
{
	if(obj.attachEvent)
		{
		obj['e'+type+fn] = fn;
		obj[type+fn] = function(){obj['e'+type+fn](window.event);}
		obj.attachEvent('on'+type,obj[type+fn]);
		}
	else
		obj.addEventListener(type,fn,false);
}

// Remove  an event handler
// Thanks to John Resig, via QuirksMode
function removeEvent(obj,type,fn)
{
	if(obj.detachEvent)
		{
		obj.detachEvent('on'+type,obj[type+fn]);
		obj[type+fn] = null;
		}
	else
		obj.removeEventListener(type,fn,false);
}

function addClass(e,theClass)
{
	var currClass = e.className.split(" ");
	if(currClass.indexOf(theClass) == -1)
		e.className += " " + theClass;
}

function removeClass(e,theClass)
{
	var currClass = e.className.split(" ");
	var i = currClass.indexOf(theClass);
	while(i != -1)
		{
		currClass.splice(i,1);
		i = currClass.indexOf(theClass);
		}
	e.className = currClass.join(" ");
}

function hasClass(e,theClass)
{
	if(e.className)
		{
		if(e.className.split(" ").indexOf(theClass) != -1)
			return true;
		}
	return false;
}

// Find the closest relative with a given property value (property defaults to tagName, relative defaults to parentNode)
function findRelated(e,value,name,relative)
{
	name = name ? name : "tagName";
	relative = relative ? relative : "parentNode";
	if(name == "className")
		{
		while(e && !hasClass(e,value))
			{
			e = e[relative];
			}
		}
	else
		{
		while(e && e[name] != value)
			{
			e = e[relative];
			}
		}
	return e;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if (e.target)
		obj = e.target;
	else if (e.srcElement)
		obj = e.srcElement;
	if (obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return(obj);
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	var text = "";
	if(e.innerText)
		text = e.innerText;
	else if(e.textContent)
		text = e.textContent;
	return text;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop)
		return(posTop);
	else if(posBot > winBot)
		{
		if(e.offsetHeight < winHeight)
			return(posTop - (winHeight - e.offsetHeight));
		else
			return(posTop);
		}
	else
		return(winTop);
}

// Get the current width of the display window
function findWindowWidth()
{
	return(window.innerWidth ? window.innerWidth : document.documentElement.clientWidth);
}

// Get the current height of the display window
function findWindowHeight()
{
	return(window.innerHeight ? window.innerHeight : document.documentElement.clientHeight);
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return(window.scrollX ? window.scrollX : document.documentElement.scrollLeft);
}

// Get the current vertical page scroll position
function findScrollY()
{
	return(window.scrollY ? window.scrollY : document.documentElement.scrollTop);
}

function findPosX(obj)
{
	var curleft = 0;
	while (obj.offsetParent)
		{
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
		}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while (obj.offsetParent)
		{
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
		}
	return curtop;
}

// Blur a particular element
function blurElement(e)
{
	if(e != null && e.focus && e.blur)
		{
		e.focus();
		e.blur();
		}
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Remove all children of a node
function removeChildren(e)
{
	while(e.hasChildNodes())
		e.removeChild(e.firstChild);
}

// Add a stylesheet, replacing any previous custom stylesheet
function setStylesheet(s,id)
{
	if(!id)
		id = "customStyleSheet";
	var n = document.getElementById(id);
	if(document.createStyleSheet) // Test for IE's non-standard createStyleSheet method
		{
		if(n)
			n.parentNode.removeChild(n);
		// This failed without the &nbsp;
		document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style id='" + id + "'>" + s + "</style>");
		}
	else
		{
		if(n)
			n.replaceChild(document.createTextNode(s),n.firstChild);
		else
			{
			var n = document.createElement("style");
			n.type = "text/css";
			n.id = id;
			n.appendChild(document.createTextNode(s));
			document.getElementsByTagName("head")[0].appendChild(n);
			}
		}
}

// Replace the current selection of a textarea or text input and scroll it into view

function replaceSelection(e,text)
{
	if (e.setSelectionRange)
		{
		var oldpos = e.selectionStart + 1;
		e.value = e.value.substr(0,e.selectionStart) + text + e.value.substr(e.selectionStart);
		e.setSelectionRange( oldpos, oldpos);
		var linecount = e.value.split('\n').length;
		var thisline = e.value.substr(0,e.selectionStart).split('\n').length-1;
		e.scrollTop = Math.floor((thisline-e.rows/2)*e.scrollHeight/linecount);
		}
	else if (document.selection)
		{
		var range = document.selection.createRange();
		if (range.parentElement() == e)
			{
			var isCollapsed = range.text == "";
			range.text = text;
			 if (!isCollapsed)
				{
				range.moveStart('character', -text.length);
				range.select();
				}
			}
		}
}

// Returns the text of the given (text) node, possibly merging subsequent text nodes
function getNodeText(e)
{
	var t = ""; 
	while (e && e.nodeName == "#text")
		{
		t += e.nodeValue;
		e = e.nextSibling;
		}
	return t;
}
//# -------------------------
//# LoaderBase: A (abstract) storage loader that loads the tiddlers from a list of HTML elements.
//# The format of the elements is defined by subclasses of this loader through the internalizeTiddler implementation.
//# Subclasses must implement:
//# 			function getTitle(store, e)
//#
//# store must implement:
//# 			function createTiddler(title).
//#

function LoaderBase()
{
}

LoaderBase.prototype.loadTiddler = function(store,e,tiddlers)
{
	var title = this.getTitle(store, e);
	if (title)
		{
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store, tiddler, title, e);
		tiddlers.push(tiddler);
		}
}

LoaderBase.prototype.loadTiddlers = function(store,nodes)
{
	var tiddlers = [];
	for (var t = 0; t < nodes.length; t++)
		{
		try
			{
			this.loadTiddler(store, nodes[t], tiddlers);
			}
		catch(e)
			{
			showException(e, config.messages.tiddlerLoadError.format([this.getTitle(store, nodes[t])]));
			}
		}
	return tiddlers;
}
	
//# -------------------------
//# SaverBase: a (abstract) storage saver that externalizes all tiddlers into a string, 
//# with every tiddler individually externalized (using this.externalizeTiddler) and joined with newlines 
//# Subclasses must implement:
//# 			function externalizeTiddler(store, tiddler)
//#
//# store must implement:
//# 			function getTiddlers(sortByFieldName)
//#

function SaverBase()
{
}

SaverBase.prototype.externalize = function(store) 
{
	var results = [];
	var tiddlers = store.getTiddlers("title");
	for (var t = 0; t < tiddlers.length; t++)
		results.push(this.externalizeTiddler(store, tiddlers[t]));
	return results.join("\n");
}
//--------------------------------
// TW21Loader (inherits from LoaderBase)

function TW21Loader() {};

TW21Loader.prototype = new LoaderBase();

TW21Loader.prototype.getTitle = function(store, e) {
	var title = null;
	if(e.getAttribute)
		title = e.getAttribute("tiddler");
	if(!title && e.id) {	
		var lenPrefix = store.idPrefix.length;
		if (e.id.substr(0,lenPrefix) == store.idPrefix)
			title = e.id.substr(lenPrefix);
	}
	return title;
}

TW21Loader.prototype.internalizeTiddler = function(store, tiddler, title, data) {
	var text = getNodeText(data.firstChild).unescapeLineBreaks();
	var modifier = data.getAttribute("modifier");
	var modified = Date.convertFromYYYYMMDDHHMM(data.getAttribute("modified"));
	var c = data.getAttribute("created");
	var created = c ? Date.convertFromYYYYMMDDHHMM(c) : modified;
	var tags = data.getAttribute("tags");
	var fields = {};
	var attrs = data.attributes;
	for(var i = attrs.length-1; i >= 0; i--) {
		var name = attrs[i].name;
		if (attrs[i].specified && !TiddlyWiki.isStandardField(name)) {
			fields[name] = attrs[i].value.unescapeLineBreaks();
		}
	}
	tiddler.assign(title,text,modifier,modified,tags,created, fields);
	return tiddler;
};

//--------------------------------
// TW21Saver (inherits from SaverBase)

function TW21Saver() {};

TW21Saver.prototype = new SaverBase();

TW21Saver.prototype.externalizeTiddler = function(store, tiddler) 
{
	try {
		var extendedFieldAttributes = "";
		store.forEachField(tiddler, 
			function(tiddler, fieldName, value) {
				// don't store stuff from the temp namespace
				if (!fieldName.match(/^temp\./))
					extendedFieldAttributes += ' %0="%1"'.format([fieldName, value.escapeLineBreaks().htmlEncode()]);
			}, true);
		return '<div tiddler="%0" modifier="%1" modified="%2" created="%3" tags="%4"%6>%5</div>'.format([
				tiddler.title.htmlEncode(),
				tiddler.modifier.htmlEncode(),
				tiddler.modified.convertToYYYYMMDDHHMM(),
				tiddler.created.convertToYYYYMMDDHHMM(),
				tiddler.getTags().htmlEncode(),
				tiddler.escapeLineBreaks().htmlEncode(),
				extendedFieldAttributes
			]);
	} catch (e) {
		throw exceptionText(e, config.messages.tiddlerSaveError.format([tiddler.title]));
	}
}

// ---------------------------------------------------------------------------------
// Deprecated code
// ---------------------------------------------------------------------------------

// @Deprecated: Use createElementAndWikify and this.termRegExp instead
config.formatterHelpers.charFormatHelper = function(w)
{
	w.subWikify(createTiddlyElement(w.output,this.element),this.terminator);
}

// @Deprecated: Use enclosedTextHelper and this.lookaheadRegExp instead
config.formatterHelpers.monospacedByLineHelper = function(w)
{
	var lookaheadRegExp = new RegExp(this.lookahead,"mg");
	lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = lookaheadRegExp.exec(w.source);
	if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
		{
		var text = lookaheadMatch[1];
		if(config.browser.isIE)
			text = text.replace(/\n/g,"\r");
		createTiddlyElement(w.output,"pre",null,null,text);
		w.nextMatch = lookaheadRegExp.lastIndex;
		}
}

// @Deprecated: Use <br> or <br /> instead of <<br>>
config.macros.br.handler = function(place)
{
	createTiddlyElement(place,"br");
}

// Find an entry in an array. Returns the array index or null
// @Deprecated: Use indexOf instead
Array.prototype.find = function(item)
{
	var i = this.indexOf(item);
	return i == -1 ? null : i;
}

// Load a tiddler from an HTML DIV. The caller should make sure to later call Tiddler.changed()
// @Deprecated: Use store.getLoader().internalizeTiddler instead
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	return store.getLoader().internalizeTiddler(store,this,title,divRef);
}

// Format the text for storage in an HTML DIV
// @Deprecated Use store.getSaver().externalizeTiddler instead.
Tiddler.prototype.saveToDiv = function()
{
	return store.getSaver().externalizeTiddler(store,this);
}

// @Deprecated: Use store.allTiddlersAsHtml() instead
function allTiddlersAsHtml()
{
	return store.allTiddlersAsHtml();
}

// @Deprecated: Use refreshPageTemplate instead
function applyPageTemplate(title)
{
	refreshPageTemplate(title);
}

// @Deprecated: Use story.displayTiddlers instead
function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,slowly)
{
	story.displayTiddlers(srcElement,titles,template,animate,slowly);
}

// @Deprecated: Use story.displayTiddler instead
function displayTiddler(srcElement,title,template,unused1,unused2,animate,slowly)
{
	story.displayTiddler(srcElement,title,template,animate,slowly);
}

// @Deprecated: Use functions on right hand side directly instead
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// @Deprecated: Use right hand side directly instead
var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");
// ---------------------------------------------------------------------------------
// End of scripts
// ---------------------------------------------------------------------------------
//]]>
</script>
<style type="text/css">

#saveTest {
	display: none;
}

.zoomer {
	display: none;
}

#messageArea {
	display: none;
}

#copyright {
	display: none;
}

.popup {
	position: absolute;
}

#storeArea {
	display: none;
	margin: 4em 10em 3em;
}

#storeArea div {
 padding: 0.5em;
 margin: 1em 0em 0em 0em;
 border-color: #f0f0f0 #606060 #404040 #d0d0d0; 
 border-style: solid; 
 border-width: 2px;
 overflow: auto;
}

#javascriptWarning {
	width: 100%;
	text-align: center;
	font-weight: bold;
	background-color: #dd1100;
	color: #fff;
	padding:1em 0em; 
}

</style>
<!--POST-HEAD-START-->

<!--POST-HEAD-END-->
</head>
<body onload="main();" onunload="if(window.checkUnsavedChanges) checkUnsavedChanges();">
<!--PRE-BODY-START-->

<!--PRE-BODY-END-->
	<script type="text/javascript">
//<![CDATA[
if (useJavaSaver)
	document.write("<applet style='position:absolute;left:-1px' name='TiddlySaver' code='TiddlySaver.class' archive='TiddlySaver.jar' width='1' height='1'></applet>");
//]]>
	</script>
	<div id="copyright">
	Welcome to TiddlyWiki by Jeremy Ruston, Copyright &copy; 2006 Osmosoft Limited
	</div>
	<noscript>
		<div id="javascriptWarning">This page requires JavaScript to function properly</div>
	</noscript>
	<div id="saveTest"></div>
	<div id="contentWrapper"></div>
	<div id="contentStash"></div>
	<div id="storeArea">
<div tiddler="A framework for understanding culture and its relationship to information behaviour" modifier="Tom Wilson" modified="200704240922" created="200704090942" tags="culture [[information seeking behaviour]] [[Tawanese aborigines]] Yeh">[[A framework for understanding culture and its relationship to information behaviour: Taiwanese aborigines' information behaviour|http://informationr.net/ir/12-2/paper303.html]]\n\n~Nei-Ching Yeh: Department of Information and Communications, Shih Hsin University, Taiwan\n\n''Abstract''\n\n    //''Introduction''//. This article proposes a model of culture and its relationship to information behaviour based on two empirical studies of Taiwanese aborigines' information behaviour.\n    //''Method''//. The research approach is ethnographic and the material was collected through observations, conversations, questionnaires, interviews and relevant documents. In 2003-2004, the author lived with two Taiwan aboriginal tribes, the Yami tribe and the Tsau tribe and conducted forty-two theme-based interviews.\n    //''Analysis''//. Data were analysed with the help of software for qualitative analysis (~NVivo), where all sentences from both interviews and field notes were coded. The conceptual framework used is the sociology of knowledge.\n    //''Results''//. The model of culture and its relationship to information behaviour can show us how to think about the relationship between culture and human information behaviour. This model also identifies elements of the model, which are habitus, tradition and prejudice and suggests how we can apply the concepts of information fullness and emptiness to view the relationship between culture and human information behaviour.\n    //''Conclusions''//. Theoretically, this research puts forward a new model of information behaviour and focuses on the role and the importance of culture when thinking about and studying human information behaviour. Methodologically, this study demonstrates how an ethnographic research method can contribute to exploring the influence that culture has on human life and the details of the human life world and information behaviour.\n\n</div>
<div tiddler="A model of scientific communication as a global distributed information system" modifier="Tom Wilson" modified="200704240927" created="200704090956" tags="[[scientific communication]] [[scholarly publication]] [[open access]] Bjork">[[A model of scientific communication as a global distributed information system|http://Informationr.net/ir/12-2/paper307.html]]\n\n~Bo-Christer Björk: Department of Management and Organisation, Swedish School of Economics and Business Administration, Helsinki, Finland\n\n''Abstract''\n\n    //''Introduction''//. A formal graphical model of the scientific communication process is presented in this paper.\n    //''Purpose''//. The purpose of the model is to act as a road map for policy discussions and research concerning the process. In comparison to earlier models found in the literature this model is more detailed, hierarchical and includes more modelling constructs (activities, inputs, outputs, controls, mechanisms).\n    //''Methodology''//. The modelling methodology used is ~IDEF0, a process modelling method, which previously has mainly been used for business process reengineering in the manufacturing industry. The current version of the model consists of thirty-three diagrams, with 113 different activities and over 200 different inputs, outputs, controls and mechanisms.\n    //''Scope''//. The scope of the model is the whole communication value chain, from initial research to the assimilation of research results to improve every-day life. The model treats both informal and formal communication, as well as the publishing of data, but the major focus is on modelling the publishing and indexing of traditional peer reviewed journal articles, as well as the activities of readers to find out about them and access them. The new business models and parallel functions enabled by the Internet, such as open access journals and e-print repositories, are also in focus. \n\n</div>
<div tiddler="A naïve ontology for concepts of time and space" modifier="Tom Wilson" modified="200704240921" created="200704090936" tags="ontologies interfaces [[digital documents]] Miwa Kando">[[A naïve ontology for concepts of time and space for searching and learning|http://informationr.net/ir/12-2/paper296.html]]\n\nMakiko Miwa: National Institute of Multimedia Education, Chiba, Japan\nNoriko Kando: National Institute of Informatics, Tokyo, Japan\n\n''Abstract''\n\n    //''Introduction''//. In this paper, we propose a new approach for developing naïve ontology as the basis for optimal information access interfaces for multimedia digital documents intended for novice users.\n    //''Method''//. We try to elicit the knowledge structure of domain novices and patterns of its modification in their searching and learning processes by eye-tracker and showing eye-movements in the post-search interviews.\n    //''Analysis''//. Recorded interview data were fully transcribed and coded using Atlas.ti and analysed following a bottom-up strategy of the constant-comparative technique.\n    //''Results''//. We developed a taxonomy of knowledge modification which includes (1) adding, (2) correcting, (3) limiting, (4) relating, (5) specifying and (6) transforming.\n    //''Conclusion''//.The taxonomy may be expanded and elaborated as the project progress and findings are expected to be incorporated into the design of the naïve ontology. The study results provided theoretical implications on knowledge building, methodological implications on data collection using eye-tracker and showing eye-movements in the post-search interviews and useful information on the design of information access interface for novices users. </div>
<div tiddler="A social dynamics of the development of community network: problems raised by a case of community network development." modifier="Tom Wilson" modified="200704240932" created="200704091924" tags="[[community networks]] [[social construction of technology]] [[constructive technology assessment]] telemedicine Shin">''[[A social dynamics analysis of the problems raised in the development of a community network: a case study of ~A-Net|http://informationr.net/ir/12-3/paper317.html]]''\n\nDong Hee Shin: //College of Information Sciences and Technology, Pennsylvania State University, P.O. Box 7009, Tulpehocken Road, Reading, PA 19610-6009, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. This study investigates the processes involved in the development of a broadband community network in the Northeast USA. A community network project was studied by tracing the developmental processes from network design to the stabilisation of information infrastructure.\n''//Method//''. A case study was conducted on the broadband community network. Qualitative data were collected primarily through in-depth interviews, drawing on the retrospective data of diverse stakeholders: strategic policy groups, user groups, technical groups and functional groups. Archival documents from various sources were also collected and analysed to triangulate research findings.\n''//Analysis//''. Qualitative analyses were carried out on the data, which related to ninety-six interviews, 279 archival documents, and twenty-nine survey responses. The data were analyzed with thematic analysis using the Atlas.ti program.\n''//Results//''. The political economy of the development process has biased the development toward private interests and away from the public benefit, and toward lucrative services and intra-organizational connectivity and away from community-oriented uses.\n''//Conclusion//''. This study provides a conceptual base for understanding contemporary and future community networks by illustrating the applicability of the Social Construction of Technology Theory. It suggests that Constructive Technology Assessment would be valuable to include technology users in the technology design process. </div>
<div tiddler="A study of interpersonal information seeking" modifier="Tom Wilson" modified="200704240923" created="200704090944" tags="[[information seeking]] uncertainty [[interpersonal interaction]] Yoon">[[A study of interpersonal information seeking: the role of topic and comment in the articulation of certainty and uncertainty of information need|http://informationr.net/ir/12-2/paper304.html]]\n\nKyunghye Yoon: Computer Science Department, State University of New York at Oswego, Oswego, NY, USA\n\n''Abstract''\n\n    //''Introduction''//. This paper presents the findings of, and discusses, the qualitative analysis of users' information seeking articulation in interpersonal interactions. The discussion is focused on the role of the uncertainty and certainty and the topic and comment in communicating the user's cognitive uncertainty and certainty in the quest for salient information seeking interaction effectiveness.\n    //''Method''//. The study used transcripts of information seeking interaction between information user and a source person and the user's description of the event from a debriefing interview.\n    //''Analysis''//. Qualitative analysis was carried out using the sequence of the uncertainty and certainty and the topic and comment in the user's utterances during the interaction in order to explore the use of these elements. Descriptive statistics were used to describe the sample and the distribution of responses to each question. Sex differences on key questions were analysed using the Chi-squared test.\n    //''Results''//. The findings suggested some patterns in the employment of uncertainty and certainty and the topic and comment. Users initiated the need description with uncertainty and then provided certainty to describe the need in detail. Both topic and comment were used in every stage of information seeking interaction, based on which the source person provided information.\n    //''Conclusions''//. The study confirmed that the user's certainty and uncertainty are important for describing the user's information need and that both topic and comment are essential to communicate the need. \n\n</div>
<div tiddler="About Information Research" modifier="Tom Wilson" modified="200705081456" created="200704061901" tags="">Information Research is a freely available, international, scholarly journal, dedicated to making accessible the results of research across a wide range of information-related disciplines. It is privately published by Professor T.D. Wilson, Professor Emeritus of the University of Sheffield, with in-kind support from Lund University Libraries, Lund, Sweden and from the Swedish School of Library and Information Science.\n\nThe journal is indexed by\n\n        * Google Scholar\n        * INSPEC: Engineering Village\n        * Library, Information Science &amp; Technology Abstracts\n        * LISA: Library and Information Science Abstracts\n\nIt is also indexed for ISI's Web of Knowledge , for listing in:\n\n        * Social Science Citation Index\n        * Current Contents/Social and Behavioral Sciences\n        * ISI Alerting Services\n        * Social Scisearch\n        * Journal Citation Reports/Social Sciences Edition\n\nThe journal is listed in the catalogues and directories of resources of several hundred university and college libraries around the world and in the major Internet searching tools such as the Yahoo! directory.\n\nInformation Research in normally to be found at http://InformationR.net/ir/  This Wiki provides the abstracts of papers.\n\nIf you are interested in submitting a paper, go to the [[Instructions for Authors|http://Informationr.net/ir/author2.html]] at the site, where you will find instructions on using the journal management system.</div>
<div tiddler="Activity Theory in information systems research and practice" modifier="Tom Wilson" modified="200704240930" created="200704091906" tags="[[activity theory]] [[work development]] [[information systems development]] [[design method]] [[information systems]] Mursu Luukkonen Toivanen Korpela">''[[Activity Theory in information systems research and practice: theoretical underpinnings for an information systems development model|http://informationr.net/ir/12-3/paper311.html]]''\n\nAnja Mursu, Irmeli Luukkonen, Marika Toivanen  and Mikko Korpela: //University of Kuopio, Department of Computer Science and Information Technology Centre, Kuopio, Finland//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. The purpose of information systems is to facilitate work activities: here we consider how Activity Theory can be applied in information systems development. Method. The requirements for an analytical model for emancipatory, work-oriented information systems research and practice are specified. Previous research work in Activity Theory is then elaborated to satisfy these requirements in parallel with practical applications.\n''//Elaboration//''. Activity Analysis and Development (~ActAD) which sees work activity as a systemic entity, its constituent elements and networks of activities, is introduced and the information systems viewpoint is applied throughout the elaboration. Information systems development is modelled as an activity, applying the ~ActAD framework.\n''//Results//''. Our contribution is a participatory development model called the Activity Driven ISD Model, aimed at developing work and information systems in parallel, in three phases: understanding the present state of an activity; describing the goal state of the activity; and planning for the transformation to the goal state. \n''//Conclusion.//'' The ~ActAD framework and the Activity Driven ISD Model meet six of the seven criteria set. The seventh requirement will be satisfied after the finalisation of the model. The experiences in our pilot studies concerning its applicability to the practitioners have been encouraging.</div>
<div tiddler="Activity systems, information sharing and the development of organizational knowledge in two Finnish firms" modifier="Tom Wilson" modified="200704240929" created="200704091903" tags="[[information sharing]] [[activity theory]] Finland Widen-Wulff Davenport">''[[Activity systems, information sharing and the development of organizational knowledge in two Finnish firms: an exploratory study using Activity Theory|http://Informationr.net/ir/12-3/paper310.html]]''\n\nGunilla ~Widén-Wulff: //Information Studies, Åbo Akademi University, Tavastgatan 13, 20500 Åbo, Finland//\nElisabeth Davenport: //School of Computing, Napier University, 10 Colinton Road, Edinburgh ~EH10 5DT, Scotland//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. In this paper, we discuss the link between information sharing and organizational knowledge production in two very different organizations; a company that handles insurance claims and a small, entrepreneurial hi-tech company. We suggest that this link has not been adequately addressed by studies of information behaviour, though a number of recent papers have proposed that human information behaviour research should appropriate methods from workplace studies and computer-supported cooperative work to provide a richer account of organizational information and knowledge work.\n''//Method//''. Two case studies of sharing practices in Finnish firms were carried out. \n''//Analysis//''. The version of activity theory that has been developed by Engeström and other Finnish researchers was used to analyse the data. This has provided highly specific accounts of information sharing as a constituent of the varied processes that contribute to the development of organizational knowledge. \n''//Results//''. The overall analysis has allowed us to explain how and why organizational information sharing happens in terms that go beyond the cognitive and descriptive accounts of our earlier studies. \n''//Conclusions//''. Information behaviour is a repertoire of actions and operations and judgements about timing and ethics that are brought into play across work cycles and routines. From this perspective, the duality of organizational knowledge becomes clear: it is both individual and collective judgements about how to behave, and the incremental outcome of these judgements, embedded in decisions that support the objects of activity systems. </div>
<div tiddler="An evidence perspective on topical relevance types and its implications for exploratory and task-based retrieval" modifier="Tom Wilson" modified="200704240913" created="200704061937" tags="relevance [[information retrieval]] [[topical relevance]] reasoning [[task performance]] Huang Soergel">[[An evidence perspective on topical relevance types and its implications for exploratory and task-based retrieval|http://Informationr.net/ir/12-1/paper281.html]]\n\nXiaoli Huang and Dagobert Soergel: //College of Information Studies, University of Maryland, College Park, MD 20742, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' The concept of relevance lies at the heart of intellectual access and information retrieval, indeed of reasoning and communication in general; in turn, topical relevance lies at the heart of relevance. The common view of topical relevance is limited to topic matching, resulting in information retrieval systems' failure to detect more complex topical connections which are needed to respond to diversified user situations and tasks.\n    ''//Method.//'' Based on the role a piece of information plays in the overall structure of an argument, we have identified four topical relevance types: Direct, Indirect (circumstantial), Context, and Comparison. In the process of creating a speech retrieval test collection, graduate history students made 27,000 topical relevance assessments between Holocaust survivor interview segments and real user topics, using the four relevance types, each on a scale of 0 - 4. They recorded justifications for their assessments and kept detailed Topic Notes.\n    ''//Analysis.//'' We analysed these relevance assessments using a grounded theory approach to arrive at a finer classification of topical relevance types.\n    ''//Results.//'' For example, indirect relevance(a piece of information is connected to the topic indirectly through inference, circumstantial evidence) was refined to Generic Indirect Relevance, Backward Inference (abduction), Forward Inference (deduction), and Inference from Cases (induction), with each subtype being further illustrated and explicated by examples.\n    ''//Conclusion.//'' Each of these refined types of topical relevance plays a special role in reasoning, making a conclusive argument, or performing a task. Incorporating them into information retrieval systems allows users more flexibility and a better focus on their tasks. They can also be used in teaching reasoning skills.</div>
<div tiddler="Barriers to information seeking in school libraries" modifier="Tom Wilson" modified="200704240921" created="200704090934" tags="[[information seeking behaviour]] students [[school libraries]] Meyers Nathan Saxton">[[Barriers to information seeking in school libraries: conflicts in perceptions and practice|http://informationr.net/ir/12-2/paper295.html]]\n\nEric M. Meyers, Lisa P Nathan and Matthew L. Saxton\nThe Information School, University of Washington, Roosevelt Commons Building, 4311 11th Avenue NE, Seattle, Washington 98105-4608, USA.\n\n''Abstract''\n\n    //''Introduction''//. This paper investigates barriers to adolescent information seeking in high school libraries within the framework of Kuhlthau's model of intermediation.\n    //''Method''//: In-depth interviews and corroborating observations were conducted at six high schools in the Pacific Northwest over a sixteen-month period.\n    //''Analysis''//. The data suggest inconsistencies between teacher-librarians' self-perceptions of their role and their daily interactions with students. Harris and Dewdney's principles of information seeking are employed as an analytic framework to provide a structure for categorizing and examining these inconsistencies.\n    //''Results''//. The identified barriers to student information seeking include a lack of collaboration, students' lack of autonomy, limited access to resources, devaluation of interpersonal sharing for academic purposes, lack of affective support, and failure to validate students'; previous experience in seeking information.\n    //''Conclusions''//. These findings suggest future direction for pre- and in-service education of teacher-librarians to prepare them to recognize how the unique barriers within school contexts can constrain both their mediational behaviour and students' information seeking opportunities. \n\n\n</div>
<div tiddler="Beyond communication: research as communicating." modifier="Tom Wilson" modified="200704240910" created="200704061924" tags="academics [[communities of practice]] [[information culture]] communication [[interdisciplinary research]] [[scholarly communication]] sense-making [[user studies]] [[information sharing]] Dervin Reinhard Shen">[[Beyond communication: research as communicating.|http://InformationR.net/ir/12-1/paper287.html]] Making user and audience studies matter—paper 2\n\nBrenda Dervin, ~CarrieLynn D. Reinhard and Fei C. Shen: //School of Communication, Ohio State University, 154 N. Oval Mall, Columbus, Ohio, USA, 43210//\n\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    Introduction. This is the written version of the keynote address (Making user studies matter: Thank you Mister Feynman and Monsieur Foucault) delivered by senior author Dervin. The paper is linked to the Invited Paper in this issue and like that paper, reports on a project involving a dialogue between researchers and practitioners in library and information science, human computer interaction and communication focusing on gaps in our understandings of users and audiences as well as in our efforts to collaborate with each other to conduct and apply research to the design and implementation of information, library, communication, and media systems.\n    Argument. Our main conclusion in Paper 1 was that the traditional modes used for communication in social science research are not doing the job for user and audience studies. We set out five propositions relating to this conclusion: (1) the traditional modes of communicating in the research enterprise are not working; (2) Do the social sciences matter? Some serious and fundamental attacks; (3) a call to focus on the special problematics of the social sciences: agency, structure, power and the good; (4) eschewing scientific recipes and scholarly creeds and bringing back the joys of adventuring and muddling; (5) the paradox of communicating—freedom is another word for nothing left to lose.\n    Conclusion. We argue for shared dialogue in communicating across the three fields studied here: this will introduce uncertainty, but, rather than relying upon 'authority', the individual will be encouraged through the exploration of that uncertainty, to make their own sense of the offerings of others. \n\n</div>
<div tiddler="Building a foundation to study distributed information behaviour" modifier="Tom Wilson" modified="200704240930" created="200704091910" tags="[[information needs]] [[information seeking behaviour]] [[information use]] [[distributed practice]] [[safety critical operations]] [[activity theory]] [[human factors]] [[von Thaden]]">''[[Building a foundation to study distributed information behaviour|http://informationr.net/ir/12-3/paper312.html]]''\n\nTerry L. von Thaden: //University of Illinois at ~Urbana-Champaign, Human Factors Division, 1 Airport Road, Savoy, IL, 61874, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. The purpose of this research is to assess information behaviour as it pertains to operational teams in dynamic safety critical operations. \n''//Method//''. In this paper, I describe some of the problems faced by crews on modern flight decks and suggest a framework modelled on Information Science, Human Factors, and Activity Theory research to assess the distribution of information actions, namely information identification, gathering and use, by teams of users in a dynamic, safety critical environment. \n''//Analysis//''. By analysing the information behaviour of crews who have accidents and those who do not, researchers may be able to ascertain how they make use of (or fail to make use of) essential, safety critical information in their information environment. The ultimate goal of this research is to differentiate the information behaviour associated with the distinct outcomes.\n''//Results//''. This research affords the possibility to discern differences in distributed information behaviour illustrating that crews who err to the point of an accident appear to practice different distributed information behaviour than those who do not. This foundation serves to operationalise team sense-making through illustrating the social practice of information structuring within the activity of the work environment.\n''//Conclusions//''. The distributed information behaviour framework provides a useful structure to study the patterning and organization of information distributed over space and time, to reach a common goal. This framework may allow researchers and investigators alike to identify critical information activity in the negotiation of meaning in high reliability safety critical work, eventually informing safer practice. This framework is applicable to other domains.</div>
<div tiddler="Conceptualizing the personal outcomes of information" modifier="Tom Wilson" modified="200704240919" created="200704062248" tags="[[outcomes of information use]] [[information use]] Kari">[[Conceptualizing the personal outcomes of information|http://InformationR.net/ir/12-2/paper292.html]]\n\nJarkko Kari\nUniversity of Tampere Centre for Advanced Study, Tampere, Finland\n\n@@color(maroon):''Abstract''@@\n\n    //''Introduction''//. This paper conceptualizes the outcomes of information as an analytical construct that synthesizes different understandings of information use. The article focuses on the perspective of the individual person.\n    //''Method''//. The discussion is primarily based on peer-reviewed articles and monographs in the whole field of information science. The items were normally selected from the Library and Information Science Abstracts database by the keywords outcomes, uses and effects of information.\n    //''Analysis''//. Outcome of information is first defined as anything that ensues from the individual's assimilation of a message. The outcomes are then analysed hierarchically by dividing them into categories which are further divided into subcategories, until a concrete enough level is reached.\n    //''Results''//. The main types of information outcome are information use and effect of information, and their most prominent common dimension is apparently mental vs. physical outcomes. As a result of the scrutiny, a taxonomy of information outcomes is presented in a conceptual model.\n    //''Conclusion''//. The model is also a conceptual map of the research area, and indicates a certain imbalance in our knowledge of information outcomes. The model is detailed enough to enable a deductive mode of inquiry, but inductive approaches ought also to be cultivated.</div>
<div tiddler="DefaultTiddlers" modifier="Tom Wilson" modified="200704100901" created="200704092148" tags="">[[About Information Research]]</div>
<div tiddler="Diffusion and usage patterns of Internet services in the European Union" modifier="Tom Wilson" modified="200704240927" created="200704090952" tags="Internet [[European Union]] diffusion innovation [[Ortega Egea]] [[Recio Menéndez]] [[Román González]]">[[Diffusion and usage patterns of Internet services in the European Union|http://informationr.net/ir/12-2/paper302.html]]\n\nJosé Manuel Ortega Egea, Manuel Recio Menéndez and María Victoria Román González: Deptartmento. de Dirección y Gestión de Empresas, Universidad de Almería, Carretera de Sacramento S/N, La Cañada de San Urbano, 04120 Almería, Spain\n\n''Abstract''\n\n    //''Introduction''//. This paper offers an investigation of European citizens' adoption and use of Internet-related technologies. European citizens are classified according to their Internet usage patterns. Next, the demographic and behavioural profiles of the identified groups are thoroughly examined, which clarifies citizens' Internet-related behaviour and how external variables are related to Internet uses.\n    //''Method''//. Telephone survey, using a random method, in order to guarantee the representativity of each national sample for its universe. Citizens from all European countries (~EU-15) were surveyed about their Internet usage patterns.\n    //''Analysis''//. ~Two-Step Cluster Analysis has been applied, to identify the different groups of European Internet users. Discriminant and Correspondence Analysis have been respectively applied to assess the internal and external validity of the identified segments. The statistical package SPSS v11.5 was employed for the empirical analyses.\n    //''Results''//. Four segments of European Internet users have been identified: Laggards, Confused and Adverse, Advanced Users, Followers and ~Non-Internet Users. The behavioural and demographic profiles of the previously identified segments are examined. Next, the internal and external validity of the clusters is assessed.\n    //''Conclusion''//. The identified Internet user segments show clear differences with regard to country, sex, occupation, education and location. These results confirm the existence of~socio-demographic entry barriers to the use of digital services. Such barriers may to the development and widening of a digital divide among European citizens. </div>
<div tiddler="Editorial-12-1" modifier="Tom Wilson" modified="200704111651" created="200704091844" tags="editorial">''@@bgcolor(#ff0000):color(#ffffff):Introduction@@''\n\nI'm having something of a busy time currently: helping to put together one research project, involved in two more, writing my own conference contributions and helping with other papers, and then editing this ISIC Proceedings issue (which is a full-time job in itself). I also attended a conference in Bratislava recently, which will probably lead to a couple of papers appearing in the journal in due course and I'm off to another one in São Paulo in November. I sometimes think that retirement would be a good idea!\n\nThe more observant may have noticed that there is an EBSCO logo on the top page: this signifies that, in future, the journal content will be available through their database services, in addition to continuing to be available openly. This will lead to (presumably) very small sums of money trickling into the accounts of Lund University Libraries to help support the journal. So, if you are an institutional user, you'll be doing us a favour by using the EBSCO service when you want to read and download a paper—they'll be available as pdf files and that will probably please some readers.\n\nOne interesting point about the EBSCO deal is that it works on the basis of an 'assumed subscription rate' for the journal: we arrived at $469.00 for Information Research. Some time ago I carried out a user survey (which is due to be repeated soon) and I recall that the most commonly suggested subscription rates were $50 or $100 - perhaps readers will now be aware of what value they are getting out of the journal!\nIn this issue\n\nWe had the first batch of ISIC papers in the last issue and now we have another batch. The last tranche will follow in the January issue. The papers cover a wide variety of information related issues from the information environment of abused children to services for rail passengers and a model of information use for online learning. The passenger information service paper is of interest to me because it covers a problem that is not usually dealt with in the information behaviour literature and a user group outside the over-used arena of educational institutions and tribes.\n\nWe also publish, by invitation, a paper by Dervin and Reinhard, which supports Dervin's Keynote Address at the conference. This reports on a major investigation in the problems and issues perceived by researchers and practitioners about the field of user studies - or audience studies as the equivalent is known in the communication and media studies field. The paper has a very lengthy appendix and one of the advantages of electronic-only publication is that something like this can actually be published. It would be very difficult for a print journal to handle something of this size—unless it constituted an entire special issue!\n\nThere are two additional, refereed papers: one deals with the comparison of time-lines of the coverage of the 7th July terrorist attacks in London by the BBC, the Daily Telegraph newspaper and Wikinews, while the other by Vakkari and Talja presents a study of the use of e-journals to support academic tasks, with particular reference to the use of the Finnish National Electronic Library.\n\nAll in all, a pretty diverse bunch of papers, with something to interest just about everyone.\n\n''@@bgcolor(#ff0000):color(#ffffff):Google Analytics@@''\n\n\nI have started to use Google Analytics on all of the pages on the ~InformationR.net site. This service provides detailed statistics on the use of the site and, although it is intended mainly for e-commerce sites, it is also interesting from the point of view of an OA service. The analytics have only been used since the 8th September, but the data make a pretty pattern:\n\n\n[img[http://informationr.net/ir/12-1/editor121.jpg]]\n\n\n''Google Analytics for ~InformationR.net''\n\nAs you can see, the site has had more than 18,000 visits and more than 46,000 page views in the course of just about a month. The distribution of use over the different parts of the site is also useful to know. As you can see from the pie-chart, the top page of the journal has about one third of the total hits, followed by about 15% on the World list of departments... and 6% for the 'Webography' of research methods sites. This was largely news to me, since I had no means, previously, of comparing the demand for different parts of the site. What it points to is that a sensible way of subsidising the journal will be to charge for entries in the directory. After all, departments are paying for entry into various print directories of courses, so why not for this?\n\n[img[http://informationr.net/ir/12-1/editor121_fig2.jpg]]\n\nDistribution of use over pages\n\n''@@bgcolor(#ff0000):color(#ffffff):Endnote@@''\n\nReaders of the journal will be aware that reviews carry links to Amazon.com and Amazon.co.uk and that, if you buy a book the journal gets a small percentage of the selling price. However, a small percentage is also given if you use the link to get to Amazon and then buy something else. So, you can help to support Information Research by using one of the links whenever you want to buy anything from Amazon. Instead of having the Amazon url in your bookmarks, why not put a link to one of the review Webpages and click on that to get you to Amazon. If everyone did this we could get, ooh, I don't know, up to a $100 a year :-)\nProfessor Tom Wilson, Publisher/~Editor-in-Chief</div>
<div tiddler="Editorial-12-2" modifier="Tom Wilson" modified="200704111651" created="200704091845" tags="editorial">''@@bgcolor(#ff0000):color(#ffffff):Introduction@@''\n\nManaging an electronic journal is a non-trivial task and, although I have Associate Editors who help greatly in the process of evaluating submissions, the main work of getting the issues out is down to me. With the loss of my volunteer proof-reader, Rae&amp;ndash;Ann Hughes, the checking is an additional load. It is something of a relief, therefore, to know that Lund University Libraries (our host institution for the server) is implementing the journal management package, Open Journal Systems. Together with the Associate Editors, I am in the process of testing the system and hope, shortly, that all submissions will be handled through OJS.\n\nThis said, there is still room for more volunteers to help with the production of the journal: ideally, a proof-reader who knows British English and an XHTML code editor would be very useful. So, if you have a little time on your hands (a vain hope in these days of overwork!), or if you are recently retired and interested in helping the open access movement, do contact me.\n\nAnd, speaking of volunteers, thanks to Elena Maceviciute for her link checking this issue - a bigger task than usual, and to Pedro Dias and Jose Vicente Rodriguez for the Spanish abstracts; again, a much bigger task than previously.\nIn this issue\n\nThe main work of this issue has been in preparing the final batch of papers from the Information Seeking in Context Conference, which was held in Sydney last year. As usual, the range is very wide, from the information needs of Iranian engineers, to the information behaviour of Taiwanese aborigines—evidence that the information behaviour field is dynamic and growing. Very few of the authors, however, explore the implications of their work for information practice, and I hope that the 2008 conference (to be held in Vilnius, Lithuania) will address this issue.\n\nWe also have five other peer-reviewed papers and another open access case study. The five papers cover very different topics: professional education in Brazil, Internet services in the countries of the European Union, students' use of the Internet for their Finnish Masters' theses, the impact of the Terrorist bombings in Madrid on the 11th March, 2004, on newspaper documentation centres (in Spanish) and a workflow model for scholarly communication. This last one is very long for a paper and the author has provided a link to a .pdf file so that you may print it out more easily. The case study deals with Medical Education Online, which was established (like Information Researh) by an individual, enthused by the idea of open access publishing.\n\nPartly because of the ISIC papers, we have a good geographic spread of papers in this issue: USA - 4, Finland - 3, Japan - 2, Spain - 2, Brazil - 1, Canada - 1, Iran - 1, Singapore - 1, Taiwan - 1, UK - 1.\n\n''@@bgcolor(#ff0000):color(#ffffff):Google Analytics@@''\n\nAs I noted in the previous issue, I now use Google Analytics to monitor the use of the journal and (at the time of writing) I now have four months of data. The data show that the top page of the journal has had 35,323 'unique views' and 66,145 'page views' in this time - which I assume means that each visitor comes back to the top page ('home' on the navigation bar) at least once after the initial click. Extrapolating that for 2006 as a whole suggests that the top page has had 105,969 unique views and 198,435 page views. I've also been using ~OneStat.com since last April and it shows 32,517 page views for the top page in eight months - extrapolating gives us 48,775 for the year, which is significantly fewer than suggested by Google Analytics, so I'm not quite sure what's going on there :-). However, in 2005 we had 47,117 hits, so usage continues to increase. One thing is certain: the papers in Information Research are getting a lot of exposure!\n\n''@@bgcolor(#ff0000):color(#ffffff):The Editorial Board@@''\n\nI am making changes to the Editorial Board, with a view to stabilizing membership by the beginning of the next volume. Membership is for a period of three years, renewable, and some members are now due to retire, so with this issue, we welcome three new members of the Editorial Board: Jim Jansen, Victor Kaptelinin and Bonnie Nardi. Jim strengthens our representation of the Web research community, while Bonnie and Victor, apart from helping review papers for the activity theory issue due in April, strengthen the information systems area. Welcome folks!\n\nThe journal's publication schedule will also be changing, partly to bring the volume year into line with the calendar year and partly to avoid holiday periods as far as possible. So, this year, the final two issues of Volume 12 will be published in April and October and Volume 13 will have its four issues in March, June, September and December of 2008, with subsequent volumes having the same publication pattern. This way, I might actually have some holiday time at Christmas!\n\nGiven how far the month is advanced, it may seem a little late, but... a very Happy New Year!\n\nTom Wilson</div>
<div tiddler="Editorial-12-3" modifier="Tom Wilson" modified="200704111652" created="200704111648" tags="editorial">''@@bgcolor(#ff0000):color(#ffffff):Introduction@@''\n\nMy call in the Editorial for the last issue for help with copy-editing the papers for the journal resulted in three volunteers: Eli Guinnee, Lauren Goodchild and Peta Wellstead - located, interestingly, respectively, in the USA, the UK and Australia. They have all tested their skills on one or two papers and have been a big help with this issue. Our long-term copy-editor, ~RaeAnn Hughes, has also re-surfaced after a long illness and will be back on the team for the next issue.\n\nAnd, while we are on volunteers, thanks to Elena Maceviciute for link-checking and to Pedro Dias and Jose Vicente Rodriguez for the Spanish abstracts.\n\nWe have also started using Open Journal Systems for all submissions and I hope that this will prevent the occasional item from slipping through the net and failing to be reviewed. It seems to be working well, with only one or two minor problems. If you wish to submit a paper, go to the site, register as an Author and then follow the instructions for submitting a paper. The general rules for the preparation of papers are on that site, as well as at the Instructions for Authors location.\n\n''@@bgcolor(#ff0000):color(#ffffff):In this issue@@''\n\nThis issue is an almost 50:50 split between papers on activity theory for the thematic issue and those on a variety of topics, which have been submitted in the normal way. The activity theory papers are the subject of another editorial by Guest Editor, Dr. Mark Spasser, so I shall refrain from comment here, except to that Mark for his work on behalf of the journal and also to remark upon one of the items, which is not a paper, but a full-length book—a first for the journal.\n\nThe book, Human activity, by Benny Karpatschof, is not seeing its first publication; it was published originally, in a small edition, by the Dansk Psykologisk Forlag and its publication here was suggested by Prof. Birger Hørland of the Royal School in Copenhagen and Birger also provides a review of the book in our book review section. The book was provided as a set of .pdf files and, apart from the top page, they remain in that form since conversion to xhtml would be a major task.\n\nThe 'non-thematic' papers in the issue cover a wide range of topics, as usual: one is in Portuguese (our first in this language) and one is in Spanish. The Portuguese paper deals with stemming algorithms for the Portuguese language and comes from Brazil. The authors conclude that Portuguese has not had a great deal of attention from this point of view and, perhaps, needs further algorithms to be developed. The Spanish paper is on information literacy in public libraries; this is a somewhat under-developed area and the authors argue that information literacy programmes in public libraries should be a priority if life-long learning is to be a reality.\n\nThe English language papers are equally diverse, covering factors that affect the implementation of information technology in the financial services industry; the dynamics of community network development in the north-east USA, and the information seeking behaviour of Jewish scholars in Israeli universities.\n\nThe Reviews section includes a review of the second edition of Donald Case's now standard work on Looking for information, now covering more than 1,000 sources on the subject of information seeking behaviour, as well as reviews of a wide range of books of interest to the 'information' field. We also have a review of a piece of Web-ware (again, a first for the journal), ~TiddlyWiki, which is a very easy to use tool, requiring the download of only a single Web page, which then serves as the template for your own wiki. I've used this to create a database of the abstracts and editorials in the current volume of the journal as a demo of what can be done.\n\nAs announced in the last issue, we now have a longish pause before the final issue of Volume 12 in October, with the first issue of Volume 13 coming in March, 2008.\n\n--------------------------------------------------------------------------------\n\nProfessor Tom Wilson, Publisher/~Editor-in-Chief\nApril 2007\n</div>
<div tiddler="El efecto de las noticias de alto impacto en los servicios de documentación" modifier="Tom Wilson" modified="200704240926" created="200704090949" tags="news terrorism [[documentation services]] Spain [[Giménez Toledo]] [[Torrado Morales]]">[[El efecto de las noticias de alto impacto en los servicios de documentación: el caso del atentado terrorista del 11 de marzo de 2004 en Madrid en la prensa española|http://informationr.net/ir/12-2/paper300.html]]\n\nElea Giménez Toledo: Centro de Información y Documantacióón ~Científica-CINDOC, Pinar, 25, 28006 Madrid, Spain\nSusana Torrado Morales: Facultad de Comunicación y Documentación, Universidad de Murcia, 30003 - Murcia, Spain.\n\n''Abstract''\n\n//''Introduction''//. The response to crisis situations of media documentation centres is analysed in relation to the terrorist attack on Madrid on 11 March, 2004. The goal of this presentation is to assess the impact of the event on the Documentation Centres of the media.\n//''Methodology''//. Interviews were carried out in the Documentation Centres using a schedule of open questions previously defined by the people in charge of the documentation services of three main Spanish newspapers: El Pais, El Mundo and Abc. The interviews were supplemented by the analysis of the news published around the date of the attack, and those which were published a year later in some special editions.\n//''Results''//. The main consequences for the Documentation Centres were: an increase in the number of queries, and a conscientious search for potentially useful sources. Work methods became closer to editorial tasks and documentary tasks were changed, including saving national and international news on the event, the production of chronologies and some audio-visual materials. The third consequence was the development of information products such as data bases, compilation documents and graphics). These changes were accompanied by the development of a taxonomy of terrorism and similar topics.\n//''Conclusions''//. At crisis periods, the mass media have to adapt their work routines to the circumstances and facts imposed by new situations, although it alters their normal daily tasks.</div>
<div tiddler="Everyday inclusive Web design: an activity perspective" modifier="Tom Wilson" modified="200704240929" created="200704091858" tags="[[access to information]] [[activity theory]] [[blind and sight-impaired persons]] [[electronic publishing]] [[information skills]] [[information society]] [[online communities]] [[Web page design]] Kane">''[[Everyday inclusive Web design: an activity perspective|http://Informationr.net/ir/12-3/paper309.html]]''\n\nShaun K. Kane: //Information School, University of Washington, Seattle, Washington, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. Website accessibility is a problem that affects millions of people with disabilities (Paciello 2000). While most current accessibility initiatives target government or commercial sites, a growing segment of online content is being created by non-professionals. This content is often inaccessible to users with disabilities. Everyday inclusive Web design is a design perspective that promotes the creation of accessible content by everyday end-users. \n''//Method//''. The design activities of end-users and system designers are modeled using activity theory. Activity models and scenarios are used to describe and analyze design activity.\n''//Analysis//''. Professional system designers and end-users each engage in design activities within social software systems. These activities are not independent, but rather interact with one another to produce the final site content.\n''//Results//''. The activities of both system designers and end-users are mediated by historical practices and by the affordances of the available tools. Accessibility of user-created content may be limited by the ambiguous role of end-user designers, by the invisible impact of inaccessible designs and by the lack of appropriate tools to support end-user accessible design practices. \n''//Conclusions//''. Accessibility of social software systems depends on the cooperative work of system designers and end-users. The underlying structure of social software systems may be altered to increase users' awareness of accessibility issues and to encourage accessible design practices.</div>
<div tiddler="From activity to learning: using cultural historical activity theory to model school library programmes and practices" modifier="Tom Wilson" modified="200704240930" created="200704091913" tags="[[school libraries]] [[activity theory]] [[developmental work research]] Meyers">''[[From activity to learning: using cultural historical activity theory to model school library programmes and practices|http://Informationr.net/ir/12-3/paper313.html]]''\n\nEric M. Meyers: //The Information School, The University of Washington, Box 352840, Suite 370 Mary Gates Hall, Seattle, WA 98195-2840//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//'': changes in educational policy and practice demand that we examine school library programmes from a new perspective. As a model that takes a developmental view of minds in context, Cultural Historical Activity Theory is particularly well suited to the study of school libraries and the learning that occurs therein. This paper focuses on the activity theoretic concepts of ‘contradictions’ and ‘expansive learning’ as they relate to the development of best practices.\n''//Method//'': Developmental Work Research was applied as a guiding methodology in an intervention study of six high school libraries in Washington State, USA. Library activity is illustrated from multiple perspectives using a triangulated, qualitative approach.\n''//Analysis//'': contradictions and tensions in the general school library activity system are identified, and an intervention was designed to facilitiate the development of expansive instruments. A case example illustrates a second level of analysis and specific points of intervention.\n''//Results//'': analysis reveals that the tensions and contradictions provide opportunities for expansive learning on the part of the teacher-Librarians. The research team can use practitioners' zones of proximal development to guide the alignment of library programme goals and practices.\n''//Conclusions//'': some limitations and future promise of the framework and its application are discussed. The proposed activity theory toolkit suggest a new way of exploring the practices of teacher-librarians, incorporating research evidence, professional expertise and reflective decision making.</div>
<div tiddler="Guest Editorial" modifier="Tom Wilson" modified="200704101335" created="200704091853" tags="">''@@bgcolor(#ff0000):color(#ffffff):Introduction@@''\n\nActivity Theory is a philosophical framework for studying different forms of praxis as developmental processes, with both individual and social levels interlinked. Activity theory allows us to study and historically situate praxis in relation to the material conditions shared by a group of people. Accordingly, it places cognition not in the head or 'inside the skin,' but in the relations that constitute the continuous flow of activity in which human activity is embedded. As such, the general philosophy of AT is the integration of the objective, the sociocultural, and the ecological (Spasser 1999).\n\nActivity theory has its origins in post-World War I Soviet Union as part of the cultural-historical school of psychology founded by Vygotsky, Leont'ev, and Luria (for historical reviews, see Axel 1997; Wertsch 1981). Activity theory has undergone continual development and today not only emphasizes the centrality of practice as doing and mediated action, but also brings to the fore setting and context as essential orienting concepts (see, especially, Engeström 1987; Nardi 1996). It arose in response to the exigent need to enlarge the research object of IS development, i.e., to take better account of contextuality - human activity is always situated in a context (or, more usually, intersecting contexts), and is impossible to understand outside of, or separate from, its contextual conditioning.\n\nBecause activities are always situated in specific contexts and are impossible to understand in isolation, a minimal meaningful context for individual actions must be included in the basic unit of analysis. Activity theorists call this basic unit an activity (or an activity system), which is at once more tractable than a social system, better defined and more persistent than arbitrary (and often ephemerally constructed) individual actions, and more meaningful than the artificial settings constructed for formal experimentation.\n\nAccording to Blackler (1995), human activity has five basic characteristics: 1) pragmatic, or directed toward an object, either material or ideal; 2) mediated by artifacts (in which social knowledge, praxis, and the mediating characteristics of an activity are inscribed and transmitted); 3) embedded and realized socially in a culture; 4) provisional, or historically developing and evolving; and 5) contested, emphasizing the prevalence of contradiction, incoherence, and dilemma as primary opportunities for individual and collective learning. Finally, a sixth characteristic of activity is its hierarchical organization, such that motivated activities are realized through chains of goal-oriented actions, which are carried out through conditions-contingent operations (Kuutti 1996).\n\nBy explicitly recognizing and theorizing three broad classes of complexity - the stratified nature of the social world, the social contextualization and embeddedness of interaction, and the dynamism of development (Kuutti 1996) - activity theory is a promising new direction for the field of information science research. Conceptually, the theory registers the shift of focus from the interaction between the isolated user and the stand-alone computer to a larger, more ecologically valid interaction context between human beings with their environment; sensitizes us to the dynamic and evolving nature of human-computer interaction and of information system design and evaluation; and highlights the rich, multi-faceted, and multi-dimensional reality of computer-mediated activity in situ (Nardi 1996). Methodologically, activity theory highlights the importance of specifying a research time-frame long enough to truly understand users' objectives and behaviour; studying broad, sufficiently contextualized patterns of behaviour; employing a varied, yet flexibly disciplined, set of data collection and analytic techniques whose selection is driven by the research question of interest; and understanding events, artifacts, and activity from users' points of view (Nardi 1996). Finally, activity theory can provide information science with a rich, unifying, and heuristically valuable vocabulary and conceptual framework that will facilitate both the continual betterment of practice and the secure transferability and accumulation of knowledge.\n\nThis special issue of Information Research presents recent research on activity theory in information studies. While widely used in education, human-computer interaction, and computer-supported cooperative work, activity theory has been more recently applied in information management, information science, and librarianship (see, e.g., Hjørland 1997). This special issue presents activity theoretic work on information behaviour in safety critical operations, information sharing and organizational knowledge production, information systems development, and Web design accessibility. Included is a book-length treatment of activity theory as a unifying and over-arching meta-theoretical framework for interconnecting the anthropological sciences.\n\n''@@bgcolor(#ff0000):color(#ffffff):Studying distributed information behaviour in safety critical operations@@''\n\nIn her paper, von Thaden draws upon concepts from Information Science, Human Factors, and Activity Theory to construct a framework for studying the interactions of discourse, social influence, and activity on safety critical operations in aviation. In particular, the author uses those theoretical influences to develop the Distributed Information Behaviour System to help explain the complicated, negotiated information behaviour of pilots, who must improvise procedural responses in ambiguous circumstances.\n\n''@@bgcolor(#ff0000):color(#ffffff):Information sharing and organizational knowledge production@@''\n\nIn their paper, ~Widén-Wulff and Devenport use activity theory to explicate the link between information sharing and organizational knowledge production in two very different Finnish firms - an insurance company and a small entrepreneurial high technology dental products company. The authors articulate the ways that individual and group information behaviours intersect with organizational processes and, in the process, contribute to the evaluation of activity theory as analytic framework for studying information behaviour in organizations. \n\n''@@bgcolor(#ff0000):color(#ffffff):Using activity theory as theoretical underpinning for information systems research and practice@@''\n\nIn their paper, Mursu, Minkkinen, and Korpela, use activity theory to create an analytic model - Activity Centred Design Model - that is, at once, work-oriented, practicable, emancipatory, and operational in information systems development. The Activity Centred Design Model, which is based on the Activity Analysis and Development Framework (~ActAD), contributes to an integrated multilevel analysis - individual, group/activity, organization, and global - of work behaviour. The authors study actions, operations, informational tool use, and human-tool interaction at the individual level; work processes and information flows at the group and activity level; activity networks and organizational boundaries at the organizational level; and legislation and national strategies at the societal level. Their model is necessarily two-dimensional, accounting for both the stratified nature of information system development and its evolution over time. Accordingly, each phase-level intersection can be analysed in terms of objective, emergent tools, and methods to achieve appropriate outcomes.\n\n''@@bgcolor(#ff0000):color(#ffffff):Modeling the activities of non-professional, end-user Web designers@@''\n\nIn his paper, Kane proposes an activity theoretic model of the activities of lay, end-user Web designers to holistically understand the production and increasing accessibility of user-produced Web content. He examines the implications of the activities of end-user designers and tool designers on disabled Website consumers. Barriers to the adoption of accessibility practices occur within and between activity systems. Perhaps, most interestingly, issues of content accessibility and the barriers to it can only be addressed collaboratively between the designer and consumer. The author reminds us that design is always situated, that accessibility design education requires an activity-level focus, that all actors (and their behaviour) must be considered within the contexts of their activity systems, and that tools, including information tools, mediate all human behaviour and must be designed accordingly.\n\n''@@bgcolor(#ff0000):color(#ffffff):Anthropological sciences from the perspective of Activity Theory@@''\n\nIn his book, Karpatschof takes on the difficult task of establishing the interconnection among the anthropological sciences whose common ground is determined to be human activity. The author examines the scope of human activity as the central concept of anthropology. In fact, from a meta-theoretical perspective, all quests for knowledge must be contextualized in human activity. The book is organized into three parts. The Prologue introduces activity theory. Part I, Foundation of activity theory, contains chapters on the ontology and conception of evolution in activity theory, and on the anthropology of human activity. Part II, Theory of knowledge, is comprised of chapters on the epistemology of activity theory, on the meaning and semiotics of activity theory, and meta-science from the perspective of activity theory. The author takes a Marxist approach to human activity, clearly acknowledging the materialist and pragmatist origins of activity theory.\n\n''@@bgcolor(#ff0000):color(#ffffff):Acknowledgements@@''\n\nI would like to gratefully thank ~Editor-in-Chief, Tom Wilson, for his support and, more specifically, for his help in preparing this special issue.\n\n''@@bgcolor(#ff0000):color(#ffffff):References@@''\n\nAxel, E. (1997). One development line in European activity theories. In M. Cole, Y. Engeström, &amp; O. Vasquez (Eds.), Mind, culture, and activity: seminal papers from the Laboratory of Comparative Human Cognition. (pp. 128-146). Cambridge, UK: Cambridge University Press. \n\nBlackler, F. (1995). Knowledge, knowledge work and organizations: an overview and interpretation. Organization Studies, 16(6) 1021-1046. \n\nEngeström, Y. (1987). Learning by expanding: an activity-theoretical approach to developmental research. Helsinki: ~Orienta-Konsultit Oy. \n\nHjørland, B. (1997). Information seeking and subject representation: an activity-theoretical approach to information science. Westport, CT: Greenwood Press. \n\nKuutti, K. (1996). Activity theory as a potential framework for human-computer interaction research. In B.A. Nardi (Ed.), Context and consciousness: activity theory and human-computer interaction. (pp. 17-44). Cambridge, MA: MIT Press. \n\nNardi, B.A. (Ed.). (1996). Context and consciousness: activity theory and human-computer interaction. Cambridge, MA: MIT Press. \n\nSpasser, M.A. (1999). Informing information science: the case for activity theory. Journal of the American Society for Information Science, 50(12), 1136-1138. \n\nWertsch, J.V. (Ed. &amp; trans.). (1981). The concept of activity in Soviet psychology. Armonk, NY: M.E. Sharpe, Inc. \n\nMark Spasser\nMarch 2007\n</div>
<div tiddler="Health information ties" modifier="Tom Wilson" modified="200704240921" created="200704090938" tags="[[information seeking behaviour]] [[health information]] Morey">[[Health information ties: preliminary findings on the health information seeking behaviour of an ~African-American community|http://informationr.net/ir/12-2/paper297.html]]\n\nOphelia T. Morey: Health Sciences Library, University at Buffalo, Buffalo, New York USA\n\n''Abstract''\n\n    //''Introduction''//. The purpose of this study is to explore the health information seeking behaviour of ~African-Americans using Granovetter's strength of weak ties as the theoretical framework.\n    //''Method''//. A listed household telephone survey of 216 residents who reside on the Near East Side ofBuffalo, New York. Using the Rand() feature in MS Excel a random sample was drawn from the telephone numbers randomly selected from census tracts covering the target area. Random samples were drawn three times until at least 200 telephone surveys were completed.\n    //''Analysis''//. Data analysis was completed using SPSS 13.0 for Windows. Both bivariate and multivariate analyses were performed along with analysing descriptive statistics and the chi-squared test to determine the association between the source of health information as related to demographics and tie strength between individuals.\n    //''Results''//. Overall, most respondents rely on a health service professional for health information followed by a web site. Respondents reported having a 'somewhat close' relationship with health care professionals as compared to having a 'very close' relationship with family members. The importance of health service professionals as a significant or weak tie in health information seeking is consistent with the strength of weak ties theory. Results on proxy searching behaviour or searching on behalf of another person are also examined. Most respondents sought information for themselves, although 22.2 percent sought health information on behalf of another person.\n    //''Conclusions''//. These findings confirm the important role of health service professionals in health information seeking by under-served populations and suggest the need for investigation on the information giving behaviour of these professionals. These findings also demonstrate the need for further research on strong ties or close family and friends as a source of health information, in particular their role in proxy health information behaviour.\n\n</div>
<div tiddler="How users organize electronic files" modifier="Tom Wilson" modified="200704240919" created="200704062253" tags="[[human categorization behaviour]] [[personal information organization]] [[organization of electronic files]] [[personal information management]] Khoo Luyt Ee Osman Lim Yong">[[How users organize electronic files on their workstations in the office environment: a preliminary study of personal information organization behaviour|http://InformationR.net/ir/paper293.html]]\n\nChristopher S.G. Khoo, Brendan Luyt, Caroline Ee, Jamila Osman, ~Hui-Hui Lim, &amp; Sally Yong\nDivision of Information Studies, School of Communication &amp; Information, Nanyang Technological University, Singapore\n\n@@color(maroon):''Abstract''@@\n\n    //''Introduction''//. We report an ongoing study of how people organize their computer files/folders on the hard disk of their office workstations, and discuss the questions being investigated as well as the results of a small survey with twelve subjects.\n    //''Method''//. A questionnaire was used to collect information on the subjects, their work responsibilities and characteristics of their workstations. Data on file and folder names and file structure were extracted from the hard disk using a computer program STG FolderPrint Plus, DOS command and screen capture. A semi-structured interview collected information on subjects' strategies in naming and organizing files and folders, and in locating and retrieving files.\n    //''Analysis''//. The data were analysed mainly through qualitative analysis and content analysis.\n    //''Results''//. The subjects organized their folders in a variety of structures, from broad and shallow to narrow and deep hierarchies. One to three levels of folders is common. The labels for first level folders tended to be task-based or project-based. Most subjects located files by browsing the folder structure, with searching used as a last resort. The most common types of folder names were document type, organizational function/structure, and miscellaneous/temporary. The frequency of folders of different types appear related to the type of occupation.\n\n\n</div>
<div tiddler="Human activity" modifier="Tom Wilson" modified="200704240930" created="200704091915" tags="[[activity theory]] anthropology sociology psychology [[Marxist philosophy]] Marxism Karpatshof">''[[Human activity - contributions to the anthropological sciences from a perspective of activity theory|http://informationr.net/ir/12-3/Karpatschof/Karp00.html]]''\n\nBenny Karpatschof: //Department of Psychology, University of Copenhagen, Øster Farimagsgade 5, ~DK-1353 Copenhagen K, Denmark.//\n\n''@@bgcolor(#ff0000):color(#ffffff):Outline@@''\n\n''//Purpose//''. After an investigation of the philosophical foundation of Activity Theory the book undertakes an assessment of the adequacy of this theory as a framework for the anthropological sciences. The thesis is that the perspective of Human Activity is a key to solving basic problems found in epistemology, anthropology, sociology, psychology, semiotics and even in the study of science itself. \n''//Definition//'' Human Activity is defined as a mediated form of activity, and has Tools, Signs, Cooperation and Appropriation as its prime mediators. Each of the six chapters of the book provides a specific perspective on the general subject, Human Activity and on the general theory, Activity Theory.\n''//Outline//'' The first chapter introduces the historical background of Activity Theory including the evolution of the theory from Hegel to Marx and the two Russian psychologists Vygotsky and Leont'ev. Ch. 2 covers the basic problems of ontology and evolution; the ontology assumes an original cosmological object field, from which a biological field emerged, and from the latter an anthropological object field emerged. Ch. 3 analyses the relation between pre-human activity, belonging to the biological object field, and humnn activity, belonging to the anthropological field, the characteristics of which are discussed. In Ch. 4, epistemology is discussed from the perspective of human activity. Ch. 5 attempts to clarify the problem of meaning, and in this connection the leading theories in semiotics and language theory are discussed. Finally, Ch.6 is dedicated to the study of science that is, the discipline of Metascience. Themes treated in this chapter indude: the relation between technological and scientific evolution, the status of the formal sciences and the difference between the natural and the anthropological sciences, in particular, psychology.</div>
<div tiddler="Information Research Wiki" modifier="Tom Wilson" modified="200704111027" created="200704111027" tags="">This wiki is an experiment - to use a wiki as a database for the abstracts found in //Information Research//.  It will certainly exist for Volume 12, and just possibly, thereafter.</div>
<div tiddler="Information activities and resources in an episode of gourmet cooking" modifier="Tom Wilson" modified="200704240913" created="200704061938" tags="[[gourmet cooking]] [[information behaviour]] [[information seeking]] Hartel">[[Information activities and resources in an episode of gourmet cooking|http://Informationr.net/ir/12-1/paper282.html]]\n\nJenna Hartel: //Department of Information Studies, University of California, Los Angeles Los Angeles, CA 90095-1520, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' This paper contributes to what is known about everyday life information seeking within serious leisure. It is the first case study of a making and tinkering (or craft) hobby, gourmet cooking. The central activity of the hobby is described and serves as a context to relate and locate information activities and information resources.\n    ''//Method.//'' In this scientific ethnography, twenty gourmet cooks from Boston and Los Angeles, USA were interviewed in their residences about their pursuit of the hobby and its associated information phenomena. Then, domestic culinary information resources and spaces were documented through a photographic inventory.\n    ''//Analysis.//'' Interview transcripts and field notes were studied for themes through an iterative process of inductive and deductive analysis. A visual analysis process was performed on the photographs.\n    ''//Results.//'' Hands-on cooking takes the form of a nine step episode. Information activities and resources are instrumental, interwoven, and varied across the process. In any cooking episode use and re-use are the prevailing information activities; the hobbyist is an active producer and manager of information; and the recipe is a primary document.\n    ''//Conclusion.//'' The study demonstrates how to explicate and conceptualize information phenomena in serious leisure, and sets up lines of inquiry to explore in future research.</div>
<div tiddler="Information professionals in Brazil" modifier="Tom Wilson" modified="200704240925" created="200704090946" tags="[[information professionals]] [[professional education]] Brazil [[Ferreira, Flavia]] [[Ferreira, Fabio]] Santos Nascimento Andrade Barros Borges da Silva Jambeiro Letalien">[[Information professionals in Brazil: core competencies and professional development|http://informationr.net/ir/12-2/paper299.html]]\n\n\nFlávia Ferreira, Joanice Nascimento Santos, Lucyana Nascimento, Ricardo Sodré Andrade, Susane Barros, Jussara Borges, Helena Pereira da Silva, Othon Jambeiro: Universidade Federal da Bahia, Instituto de Ciências da Informação, Av Reitor Miguel Calmon, s/n Vale do Canela, 40110-100 Salvador- BA, Brazil\nFábio Ferreira: The University of Texas at Austin, College of Communication 1 University Station A0900, Austin, TX 78712, USA\nBethany Lynn Letalien: The University of Texas at Austin, School of Information 1 University Station D7000, Austin, TX 78712, USA\n\n''Abstract''\n\n    //''Introduction''//. We discuss the concept of core competencies applied to policies for teaching and training information professionals, particularly librarians.\n    //''Method''//. Sixty graduates of the Institute were employed as information professionals. These sixty were asked to attribute degrees of importance to specific items associated with knowledge and skills that, within the scope of this research, were considered core competencies for meeting the demands of their jobs. Participants were also asked to cite knowledge they acquired in school and knowledge they use in exercising their profession, the skills that they consider necessary but that they did not gain in school, and the difficulties they encounter in exercising their profession and for which they were not sufficiently well prepared.\n    //''Analysis''//. Both quantitative and qualitative data analyses were performed. The data were tabulated using Access and several reports and cross-tabulations were generated.\n    //''Results''//. The results suggest a gulf between knowledge and skills acquired in library school and those that are required by the job market. In particular, participants lacked the skills they needed to work with information and communication technologies.\n    //''Conclusion''//. The concept of core competencies is increasingly taken into account by the productive sector of the economy. The educational system ought to keep up with this change. The empirical research described shows that there is a need to establish advanced and modern policies for the education of librarians, participants in the market for information professionals. \n\n</div>
<div tiddler="Information seeking in organizations" modifier="Tom Wilson" modified="200704240918" created="200704062232" tags="[[organizational information seeking]] [[information seeking]] [[epistemic communities]] Choo">[[Information seeking in organizations: epistemic contexts and contests|http://InformationR.net/ir/12-2/paper298.html]]\n\nChun Wei Choo\nFaculty of Information Studies, University of Toronto, 140 St. George St. Toronto, Ontario, Canada, ~M5S 3G6\n\n@@color(maroon):''Abstract''@@\n\n     //''Introduction''//. Organizations seek and use information to understand and enact their worlds. Information constitutes what the organization 'knows' about its environment and its tasks, and thus creates a basis for action. However, the link between information, knowledge, and action is problematic and not well understood.\n     //''Method''//. We consider three case studies that highlight different aspects of the interaction between information and knowledge in organizations. The first case compares information seeking and use in the due diligence processes of a government agency and a venture capital firm. The second case surfaces the epistemic properties of information seeking in the preparation of country studies by the staff of a German bank. The third case recollects the experience of large-scale information sharing among copier technicians of a multinational office products company.\n     //''Analysis''//. These case studies suggest that organizations behave as epistemic communities with distinct epistemic and information cultures that influence how information is sought and utilized, and how beliefs are formed and re-formed.\n     //''Conclusions''//. To understand information behaviour in organizations is to understand how organizations are simultaneously information-seeking and belief-forming social systems, where information is shaped by epistemic practices as much as beliefs are the outcomes of information seeking and use.\n\n</div>
<div tiddler="Information sharing between different groups" modifier="Tom Wilson" modified="200704240922" created="200704090940" tags="[[business information]] [[information service]] [[public libraries]] Japan Tamura Miwa Saito Koshizuka Kasai Matsubayashi Ikeya">[[Information sharing between different groups: a qualitative study of information service to business in Japanese public libraries|http://informationr.net/ir/12-2/paper306.html]]\n\n\nShunsaku Tamura: Keio University, 2-15-45 Mita, Minato-ku, Tokyo, Japan\nMakiko Miwa: National Institute of Multimedia Education, 2-12 Wakaba, Mihama-ku, Chiba-shi, Japan\nYasunori Saito: Meiji University, 1-1 ~Kanda-Surugadai, Chiyoda-ku, Tokyo, Japan\nMika Koshizuka: Gakushuin Women's College, 3-20-1 Toyama, Shinjuku-ku, Tokyo, Japan\nYumiko Kasai: Tamagawa University, 6-1-1 Tamagawagakuen, Machida-shi, Japan\nMamiko Matsubayashi: University of Tsukuba, 1-1-1 Tennodai, Tsukuba-shi, Japan\nNozomi Ikeya: Palo Alto Research Center, 333 Coyote Hill Road, Palo Alto, CA 94304 USA\n\n''Abstract''\n\n    //''Introduction''//. This paper is the first report of a research project on the effects of information service to business in Japanese public libraries. The overall goals of the project are to develop a conceptual framework for understanding effects of a library service and then to examine them in business information service. The objective of this first report is to get an overview of current practice of business information service in Japanese public libraries and examine images of users and uses by librarians in charge.\n    //''Method''//. The project consists of three stages. At the first stage a series of field trips was conducted with semi-structured interviews in twenty-two libraries throughout Japan and a focus group interview of librarians in charge of the service was also conducted (not reported here).\n    //''Results''//. A variety of services is provided by public libraries. Levels of reference service and relationships with other agencies and organizations are the most important factors in determining the nature and kind of service provided. Providing the service is actually a complex process influenced by many factors.\n    //''Conclusions''//. Results suggest strongly the complex process of value creation. Images of users and uses are formed not only by direct contact with users but as a result of this complex process. Sometimes images have political connotations as both librarians and other stakeholders hope the service to be useful in promoting local business and/or industry and advancing local lives. \n\n</div>
<div tiddler="Information technology adoption for service innovation practices and competitive advantage" modifier="Tom Wilson" modified="200704240931" created="200704091917" tags="[[information technology adoption]] innovation [[competitive advantage]] Taiwan [[information technology]] Chen Tsou">''[[Information technology adoption for service innovation practices and competitive advantage: the case of financial firms|http://informationr.net/ir/12-3/paper314.html]]''\n\nJ.S. Chen and H.T. Tsou: //Department of Business Administration, Yuan Ze University, Chung Li, Taiwan//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Background//.'' The importance of information technology to current business practices has long drawn the attention of practitioners and academicians.\n''//Aim.//'' This paper aims to broaden understanding about service innovation as a critical organizational capability through which information technology adoption influences the competitive advantage of a firm. In the context of financial firms, this study examines how information technology is adopted and managed to enhance service innovation practices and whether and how service innovation practices may influence the competitive advantage of firms.\n''//Method.//'' A research framework and the associated hypotheses are proposed. An empirical survey was conducted and questionnaires were mailed to 558 financial firms in Taiwan.\n''//Analysis//''. A total of 124 valid observations was collected and analysed using the partial least squares technique.\n''//Conclusions//''. The results suggest that adopting information technology has positive effects on service innovation practices, which increase the competitive advantage of firms. </div>
<div tiddler="Information use and secondary school students" modifier="Tom Wilson" modified="200704240915" created="200704061942" tags="[[information use]] [[information behaviour]] [[secondary students]] plagiarism [[model development]] Williamson McGregor">[[Information use and secondary school students - a model for understanding plagiarism|http://informationr.net/ir/12-1/paper288.html]]\n\nKirsty Williamson: //Director, Information and Telecommunications Needs Research, School of Information Studies, Charles Sturt University, Wagga Wagga, Australia and Monash University, Victoria, Australia//\nJoy ~McGregor: //Director, Centre for Studies in Teacher Librarianship, School of Information Studies, Charles Sturt University, Wagga Wagga, Australia//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction://'' The paper describes an interim model for understanding the influences on information use in relation to plagiarism, with a focus on secondary school students.  Available literature mostly focuses on the tertiary level and on quantifying the extent of plagiarism, with limited availability of theory or empirical research focussing on information use, learning and plagiarism.\n    ''//Theoretical context://'' Possible theoretical bases for the model are considered, and the reasons for choosing Williamson’s (2005) modified ecological model, as the basis, are outlined.\n    ''//Empirical Research://'' The data from a pilot study, using ethnographic techniques in a constructivist framework, contributed to the development of the interim model.  The study was undertaken with Year 11 students in an Australian country high school.  The data analysis from this study was influenced by constructivist grounded theory. Themes and categories were developed from this analysis.\n    ''//Model Development://'' The themes and categories, together with the gaps in understanding as revealed by the pilot research experience, were used to modify Williamson’s ecological model to provide a diagrammatic representation suited to the topic of information use and plagiarism.  The themes, encompassing a number of categories which might provide understanding about influences on information use in relation to plagiarism, are people, practices, attitudes and technology.\n    ''//Conclusion://'' Developing the model gave the researchers new insights at a crucial stage when they were about to embark on a major study, building on their pilot project.   Although the target group for the research is secondary school students, the model is applicable to any group of information users.  </div>
<div tiddler="Iranian engineers' information needs" modifier="Tom Wilson" modified="200704240918" created="200704062234" tags="engineers Iran [[information needs]] [[information seeking behaviour]] Bigdeli">[[Iranian engineers' information needs and seeking habits: an agro-industry company experience|http://InformationR.net/ir/12-2/paper290.html]]\n\nZahed Bigdeli\nDepartment of Library and Information Science, School of Education and Psychology, Shahid Chamran University, Ahvaz, Iran\n\n@@color(maroon):''Abstract''@@\n\n    //''Introduction''//. This descriptive research attempted to investigate the information seeking behaviour of engineers at Khuzestan ~Sugar-Cane and ~By-Product Company in Iran.\n    //''Method''//. To collect the data, a questionnaire was distributed using Likert-type questions with six points ranging from 'never use' to 'very useful'. Of the 250 questionnaires distributed, 158 (63.2%) were used in the data analyses. The reliability coefficient was measured by the Cronbach Alpha which was 0.81\n    //''Analysis''//. Analysis of variance and the Tukey test were used to test the sole hypothesis of the research and to see if engineers who worked in various sites were different in their information-seeking behaviour. To answer the research questions, descriptive statistics were employed.\n    //''Results''//. The results showed that the engineers in different work areas were significantly different in terms of information-seeking behaviour. The most important motivations for seeking information were: to develop their knowledge and expertise; to be able to use new job-related technologies and to be up-to-date in their specialty.\n    //''Conclusions''//. Distance appears to have impact on information use and information-seeking behaviour of engineers. Thus, librarians must consider the Zipf's 'principle of least effort' in serving their clients. \n\n</div>
<div tiddler="La alfabetización informacional en bibliotecas públicas." modifier="Tom Wilson" modified="200704240932" created="200704091921" tags="[[information skills]] [[information literacy]] [[public libraries]] Spain Gómez-Hernández Pasadas-Ureña">La alfabetización informacional en bibliotecas públicas. Situación actual y propuestas para una agenda de desarrollo\n\nJosé Antonio ~Gómez-Hernández: //Universidad de Murcia, España//\nCristóbal ~Pasadas-Ureña: //Universidad de Granada, España//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. Trends in the introduction of this service into public libraries are analysed. The purpose of this paper is to review information literacy developments in public libraries. Information literacy is outlined as a key competence of individuals whereby they know how to find and use the information needed, regardless of place, mode and medium of transmission. Local and global lifelong learning agenda, for which public libraries are a basic resource in formal and informal education of citizens.\n''//Method.//'' Analysis and description of IL literature, conceptual models, projects, standards of professional associations, as well as of scientific and professional meetings about information literacy and public libraries.\n''//Analysis//''. Comparative study and critical assessment of different theories and projects, particularly as regards practical aplications in libraries.\n''//Results//''. Based on analysis, trends in information literacy are described and priority tasks proposed for a development agenda for these services in public libraries.\n''//Conclusion.//'' Proposal for a common information literacy agenda in all types of libraries, institutions and professions involved in the acquisition by individuals and communities of the key competences covered through lifelong literacy. </div>
<div tiddler="MainMenu" modifier="Tom Wilson" modified="200704092212" created="200704092142" tags="">\n[[About Information Research]]\n[[Volume 12 No. 1]]\n[[Volume 12 No. 2]]\n[[Volume 12 No. 3]]\n[[Volume 12 No. 4]]\n[[Open access publishing]]</div>
<div tiddler="Media credibility and cognitive authority. The case of seeking orienting information" modifier="Tom Wilson" modified="200704240933" created="200704111024" tags="[[information seeking]] environmentalists [[media credibility]] [[mass media]] Finland [[cognitive authority]] Savoilainen">''[[Media credibility and cognitive authority. The case of seeking orienting information|http://Informationr.net/ir/12-3/paper319.html]]''\n\nReijo Savolainen: //Department of Information Studies University of Tampere, Finland//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction.//'' This article results from a qualitative case study focusing on the information seeking practices of environmental activists. The main attention was devoted to their perceptions of media credibility and cognitive authority in the context of seeking orienting information about environmental issues in particular.\n''//Method.//'' The empirical data were gathered in 2005 by semi-structured interviews with twenty environmental activists in Finland.\n''//Analysis.//'' The interview data were examined by means of qualitative content analysis by constantly comparing the articulations of media credibility and cognitive authority.\n''//Results.//'' The perceptions of media credibility and cognitive authority tend to be dependent on the topic at hand. No specific cognitive authorities were recognized. Sources providing focused information issued by environmental associations were perceived as most credible. Newspapers were perceived as less credible because of their political bias and the general level of news reporting. The significance of one's own critical reflection was emphasized in the judgement of the credibility of information sources of various types.\n''//Conclusion.//'' Perceived media credibility and cognitive authority significantly, though often implicitly, orient the selection of information sources. There is a need also to explore their role in the context of seeking problem-specific information, both job-related and non-work. </div>
<div tiddler="Medical Education Online" modifier="Tom Wilson" modified="200704240928" created="200704090957" tags="[[open access publishing]] [[scholarly publishing]] [[electronic journals]] Solomon">[[Medical Education Online: a case study of an open access journal in health professional education|http://informationr.net/ir/12-2/paper301.html]]\n\nDavid J Solomon\nDepartment of Medicine, Michigan State University, East Lansing, Michigan USA\n\n''Abstract''\n\n    //''Introduction''//. The development of the World Wide Web (WWW) has made it possible of small groups of colleagues or even single individuals to create peer-reviewed scholarly journals. This paper discusses the development of Medical Education Online (MEO) an open access peer-reviewed journal in health professional education.\n    //''Description''//. MEO was first published in April 1996 partly as an experiment and partly out of frustration with existing options for publishing in health professional education. The journal a forum for disseminating information on educating physicians and other health professionals and contains a variety of material including a peer-reviewed journal. The case study discusses the process of establishing the journal, the development of the journal over time, its struggle coping with an increasing number of submissions, review procedures, journal management software, indexing and archiving issues, journal policies, and access statistics.\n    //''Conclusions''//. MEO is one of many examples of successful small open access journals that operate largely on volunteer effort and are providing a useful niche in scholarly publishing. \n\n</div>
<div tiddler="Open access on a zero budget" modifier="Tom Wilson" modified="200704240934" created="200704091928" tags="open access, scholarly communication, electronic publishing, journals Wilinsky Mendis">''[[Open access on a zero budget: a case study of Postcolonial Text|http://Informationr.net/ir/12-3/paper308.html]]''\n\nJohn Willinsky: //Department of Language and Literacy Education, University of British Columbia, Vancouver, Canada, ~V6T 1Z4//\nRanjini Mendis: //Department of English, Kwantlen University College, Surrey, Canada, ~V3W 2M8//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. The founding of a new open access journal is described in terms of its use of the open source software Open Journal Systems, its contribution to a new field of inquiry and its ability to operate on a zero budget in terms of regular expenses.\n''//Method//''. A case study method is deployed describing the circumstances of the journal's founding and current manner of publishing.\n''//Analysis//''. The use of online and open source software, as well as a global team of volunteers is presented as the basis of sustaining an open access approach to publishing.\n''//Results//'' The journal has been able to operate with a zero dollar operating budget over the course of its first six issues and is in a position to continue in this manner.\n''//Conclusions//''. A strong commitment to the principles of developing a new field of inquiry committed to global issues of access to knowledge, in combination with open source and Internet technologies, has lowered the barriers to the exercise of academic freedom on a modest, but nonetheless global scale. </div>
<div tiddler="Open access publishing" modifier="Tom Wilson" modified="200704211932" created="200704092214" tags="">Open Access publishing is receiving a great deal of publicity as I write, with the commercial publishers beginning a fight-back by hiring a major public relations adviser.  They are worried, of course, at the thought that by allowing authors to archive their publications for open access, they may be cutting their own throats.  And that could be true: although, since it refers to some uncertain future, it's a hypothetical situation.\n\nOpen Access as currently understood has three modes: 1) open archiving of papers published in subscription journals - a move that requires at least the acquiescence of publishers, if not their whole-hearted enthusiasm.  This mode is described by devotees of OA as the 'Green Route' to open access; 2)  making openly available the content of subscription journals by charging authors (or their research funders or their institutions) for the publication of papers - this is described as the 'Gold Route'; 3) the true Gold Route (or perhaps we should call it the 'Platinum Route') of collaborative, subsidised publication of open access journals which make no author charges and charge no subscription fees.  Subscription charges are a barrier to access; author charging is a barrier to publication - the only way to achieve true Open Access (TOA), is through mode 3 - Information Research is published under this model, with the main support coming from the Editor and Publisher, aided by the University of Lund Libraries and the Swedish School of Library and Information Science.\n\nTOA (the Platinum Route) is readily achievable for niche subjects, as the publishers of the more than 800 journals using the Open Journal Systems journal management software can testify, since such areas have manageable rates of submission of papers, and publish only a small number of those submitted.  It would be more problematic for subject areas that have hundreds or even thousands of submissions every year, but still, I believe, achievable.  The mode of operation is similar for big and small fields:  use journal management software, have several sub-editors for different areas of the field, or for submissions from different parts of the world, run a common list of referees for all editors to draw upon and recruit as many copy-editors and proof-readers as are needed to run the operation.\n\nUsing this model, Information Research now has four regional editors (and I am looking for a fifth), one of whom doubles as Book Reviews Editor and three copy-editors/proof-readers and the whole throughput of submissions (although not yet the publishing routine) is run on Open Journal Systems.\n\nWhat is the motivation? you may ask. Why should I get involved?  The answer depends upon your interest in scholarly communication.  If you believe that research ought to be openly available, partly to ensure that what you produce is actually read by as many people as possible, which will benefit your citation rates, and, more importantly, to benefit society generally, then TOA is the only game in town.  If you are interested in publishing for its own sake, rather than for any personal or public benefit, being involved in a TOA journal will give you a great deal of experience about the publishing process.  If you are interested in the reported research, then you gain access to papers at an early stage of their life and can help the process by being a referee, a section editor or a copy-editor and proof-reader: all of these are valuable roles in the publishing process.\n \nIf you have views on OA and, particularly, on TOA, or if you have questions on the practicalities of TOA, let me know: wilsontd @ gmail . com - you know how to make this a proper e-mail address!\n\nInformation Research is running a series of case studies on Open Access publishing: the first two studies are now available, dealing with [[The Electronic Journal of IT in Construction|http://informationr.net/ir/11-3/paper255.html]] and [[Medical Education Online]].\n\n</div>
<div tiddler="PageTemplate" modifier="Tom Wilson" modified="200704100945" created="200701122350" tags="LewcidOrangeTheme">&lt;!--{{{--&gt;\n&lt;div class='header'&gt;\n     &lt;div class='gradient' macro='gradient vert #FF8614 #DA4A0D '&gt;\n	&lt;div class='titleLine' &gt;\n                &lt;span class='searchBar' macro='search'&gt;&lt;/span&gt;\n		&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;\n		&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;\n	&lt;/div&gt;\n&lt;div id='topMenu' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id='bodywrapper'&gt;\n&lt;div id='sidebar'&gt;\n	&lt;div id='sidebarOptions' refresh='content' 	tiddler='SideBarOptions'&gt;&lt;/div&gt;\n	&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id='displayArea'&gt;\n	&lt;div id='messageArea'&gt;&lt;/div&gt;\n	&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id='contentFooter' refresh='content' tiddler='Information Research Wiki'&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;!--}}}--&gt;</div>
<div tiddler="PluginManager" modifier="" modified="200704092203" created="200704092203" tags="">&lt;&lt;plugins&gt;&gt;</div>
<div tiddler="Query transformations and their role in Web searching by the general public" modifier="Tom Wilson" modified="200704240911" created="200704061934" tags="[[Web search]] [[query transformation]] Whittle Eaglestone Ford Gillet Madden">[[Query transformations and their role in Web searching by the general public|http://InformationR.net/ir/12-1/paper276.html]]\n\nMartin Whittle, Barry Eaglestone, Nigel Ford, Valerie J. Gillet and Andrew Madden: //Department of Information Studies, University of Sheffield, Regent Court, 210 Portobello Street, Sheffield, S1 4DY, United Kingdom//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction//''. This paper reports preliminary research in a primarily experimental study of how the general public search for information on the Web. The focus is on the query transformation patterns that characterise searching.\n    ''//Method//''. In this work, we have used transaction logs from the Excite search engine to develop methods for analysing query transformations that should aid the analysis of our ongoing experimental work. Our methods involve the use of similarity techniques to link queries with the most similar previous query in a train. The resulting query transformations are represented as a list of codes representing a whole search.\n    ''//Analysis//''. It is shown how query transformation sequences can be represented as graphical networks and some basic statistical results are shown. A correlation analysis is performed to examine the co-occurrence of Boolean and quotation mark changes with the syntactic changes.\n    ''//Results//''. A frequency analysis of the occurrence of query transformation codes is presented. The connectivity of graphs obtained from the query transformation is investigated and found to follow an exponential scaling law. The correlation analysis reveals a number of patterns that provide some interesting insights into Web searching by the general public.\n    ''//Conclusion//''. We have developed analytical methods based on query similarity that can be applied to our current experimental work with volunteer subjects. The results of these will form part of a database with the aim of developing an improved understanding of how the public search the Web. </div>
<div tiddler="Researchers and practitioners talk about users and each other" modifier="Tom Wilson" modified="200704240909" created="200704061913" tags="academics [[communities of practice]] [[information culture]] communication [[interdisciplinary research]] [[scholarly sense-making]] [[user studies]] [[information sharing]] Dervin Reinhard">[[Researchers and practitioners talk about users and each other.|http://InformationR.net/ir/12-1/paper286.html]] Making user and audience studies matter—paper 1\n\nBrenda Dervin and ~CarrieLynn D. Reinhard: //School of Communication, Ohio State University, 154 N. Oval Mall, Columbus, Ohio, USA, 43210//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    Introduction. We report here on the research phase of a multi-stage dialogue examining convergences and divergences in how three fields (library and information science, human computer interaction and communication and media studies) looked at users and each other. Our focus was on what researchers and practitioners saw as the big unanswered questions in user studies and what they saw as the convergences and divergences across disciplinary and practice-research divides.\n    Method. Eighty-three international experts in the three fields were interviewed by phone; thirty-one local experts, public and academic librarians serving universities and colleges in central Ohio, were interviewed using self-journals and focus group reports.\n    Analysis. A thematic analysis was completed. The purpose was not to fix substantive differences but to identify ways in which convergences and divergences showed relevance to the communicative aspects of the research enterprise. A theory of dialogue was applied that purposively positioned this analysis as only one of potentially many.\n    Results. All informants showed strong commitment to improving user studies and making them matter more to design, practice and society. At the same time, regardless of field or perspective, they struggled with the incoherencies of avalanches of user research. They decried the general inability to communicate across fields and between research and practice. They decried the ways in which structural conditions seemed to constrain possibilities. Yet, they hoped for better things to come.\n    Conclusions. The traditional modes used for communication in the social science research enterprise are not doing the job for user studies. We need to reclaim some procedures lost in the current emphases on quantity over quality and invent other options. This is the theme of our second paper, in this same issue. \n</div>
<div tiddler="Responses and influences: a model of online information use for learning." modifier="Tom Wilson" modified="200704240912" created="200704061936" tags="[[higher education]] [[information use]] [[information skills]] learning [[university students]] Australia [[cultural diversity]] [[international students]] [[lingistic diversity]] [[online information]] Hughes">[[Responses and influences: a model of online information use for learning|http://Informationr.net/ir/12-1/paper279.html]]\n\nHilary Hughes: //School of Cultural and Language Studies in Education, Queensland University of Technology Kelvin Grove Q4059, Brisbane, Australia//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    //''Introduction.''// Explores the complexity of online information use for learning in the culturally-diverse, information and communication technologies-intensive, higher education context. It presents a Model of responses and influences in online information use for learning, which aims to increase awareness of the complexity of online information use and support information literacy development.\n    ''//Background.//'' Despite increasing integration of information literacy into university curricula there are evident limitations in students' use of information associated with an information literacy imbalance between well-developed information technology skills and uncritical approaches, compounded by differences in cultural and linguistic experience.\n    ''//Influences.//'' This model draw insight from models of information behaviour and information seeking, information literacy, cross-cultural adaptation, and reflective online use.  The model.Incorporates behavioural, cognitive and affective responses with cultural and linguistic influences in an action research framework that represents online information use as holistic, dynamic and continuous, envisaged as the experience of engaging with online information for learning.\n    ''//Conclusion//''. The model represents the synergy between information use and learning. It supports the development of inclusive reflective approaches to information literacy that address identified learning challenges related to information literacy imbalance and cultural and linguistic diversity. </div>
<div tiddler="Search engines" modifier="Tom Wilson" modified="200704240920" created="200704090930" tags="[[search engines]] [[information seeking behaviour]] Madden Eaglestone Ford Whittle">[[Search engines: a first step to finding information: preliminary findings from a study of observed searches|http://informationr.net/ir/12-2/paper294.html]]\n\nA.D. Madden , B. Eaglestone , N.J. Ford and M. Whittle: Department of Information Studies, University of Sheffield, Regent Court, 211 Portobello Street, Sheffield, S1 4DP, UK\n\n''Abstract''\n\n    //''Introduction''//. This is a working paper which aims to present the preliminary results of a study into the search behaviours of the general public. The paper reports on the findings of the first six months of an eighteen-month data collection excercise.\n    //''Methods''//. Detailed observations were made of nine volunteers, engaged on a variety of search tasks. Some of the tasks were self-selected, others were set by the researchers. Most tasks however, were designed to enable the volunteers to search within their own areas of interest and expertise.\n    //''Analyses''//. A set of 'search dimensions' is proposed and qualitative findings based on these are presented. In addition, some initial quantitative findings are discussed.\n    //''Results''//. Findings to date suggest that the best search strategy is a combination of simplicity and scrutiny. Volunteers who entered a few search terms but then carefully studied the results, appeared to be more successful than those who attempted to be prescriptive and entered a long series of terms. </div>
<div tiddler="Searching for electronic journal articles to support academic tasks" modifier="Tom Wilson" modified="200704240916" created="200704061944" tags="[[information searching]] [[electronic journals]] [[Finnish National Electronic Library]] [[academic staff]] [[university faculty]] FinELib Vakkari Talja">[[Searching for electronic journal articles to support academic tasks. A case study of the use of the Finnish National Electronic Library (~FinELib)|http://Informationr.net/ir/12-1/paper285.html]]\n\nPertti Vakkari and Sanna Talja: //Department of Information Studies, University of Tampere, Finland//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' We analyse how academic status and discipline influence the major search methods used by university academic staff for obtaining electronic articles for teaching, research and keeping up to date in their field.\n    ''//Method.//'' The data consist of a nationwide Web-survey of the end-users of ~FinELib, The Finnish National Electronic Library. The number of respondents is 900.\n    ''//Analysis.//'' Cross tabulations and multivariate analyses were used for answering research questions.\n    ''//Results.//'' Keyword searching in journal and reference databases were clearly the most important access methods in all disciplines compared to browsing, chaining or obtaining material from colleagues. Academic status and discipline influenced the patterning of search methods used. Keyword searching in databases was more common in natural sciences, engineering and medicine than in other disciplines. Semi-directed searching comprised of browsing, chaining and colleagues as sources of access. It was significantly more common in humanities than in other disciplines.\n    ''//Conclusion.//'' Patterns of searching for journal articles are changing because of the provision of digital information resources. In particular, the role of colleagues is diminishing. </div>
<div tiddler="Searching for health information in rural Canada" modifier="Tom Wilson" modified="200704240910" created="200704061926" tags="[[information seeking behaviour]] [[health information]] [[information sources]] Canada Harris Wathen Fear">[[Searching for health information in rural Canada.|http://InformationR.net/ir/12-1/paper274.html]] Where do residents look for health information and what do they do when they find it?\n\nRoma M. Harris: //Faculty of Information and Media Studies, The University of Western Ontario, London, Ontario, Canada ~N6A 5B8//\nC. Nadine Wathen: //Faculty of Information Studies, University of Toronto, 140 St. George St., Toronto, Ontario, Canada, ~M5S 3G6//\nJana M. Fear: //Faculty of Information and Media Studies, The University of Western Ontario, London, Ontario, Canada, ~N6A 5B7//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' People living in rural areas may face specific barriers to finding useful health-related information, and their use of information may differ from their urban counterparts.\n    ''//Method.//'' This random-digit dial telephone survey of 253 people (75% female) living in a rural, medically under-serviced area of Ontario, Canada, follows-up a previous interview study to examine with a larger sample issues related to searching for and using health information.\n    ''//Analysis.//'' Descriptive statistics were used to describe the sample and the distribution of responses to each question. Sex differences on key questions were analysed using the Chi-squared test.\n    ''//Results.//'' Respondents were as likely to find information on the Internet as from doctors, although several reported that they had no access to these resources. Many of those surveyed used the information they found to look after themselves or someone else, to decide whether to seek assistance from a professional health care provider, and/or to make treatment decisions. Echoing results from other studies, a significant proportion of women reported that they did not discuss with a doctorthe information they found.\n    ''//Conclusions.//'' These findings have implications for Canadian government health policy, particularly the use of e-health strategies. </div>
<div tiddler="SideBarOptions" modifier="YourName" modified="200701122313" created="200701122350" tags="LewcidOrangeTheme">&lt;&lt;closeAll&gt;&gt;&lt;&lt;permaview&gt;&gt;&lt;&lt;newTiddler&gt;&gt;&lt;&lt;newJournal 'DD MMM YYYY'&gt;&gt;&lt;&lt;saveChanges&gt;&gt;&lt;&lt;slider chkSliderOptionsPanel OptionsPanel 'options »' 'Change TiddlyWiki advanced options'&gt;&gt;</div>
<div tiddler="SideBarWG" modifier="Tom Wilson" modified="200704101104" created="200701122350" tags="LewcidOrangeTheme">/***\nThis CSS by ~DaveBirss.\n***/\n/*{{{*/\n\n\n.tabSelected {\n background: #fff;\n}\n\n.tabUnselected {\n background: #eee;\n}\n\n#sidebar {\n color: #000;\n background: transparent; \n}\n\n#sidebarOptions {\n background: #fff;\n}\n\n#sidebarOptions input {\n	border: 1px solid #ccc;\n}\n\n#sidebarOptions input:hover, #sidebarOptions input:active,  #sidebarOptions input:focus {\n	border: 1px solid #000;\n}\n\n#sidebarOptions .button {\n color: #999;\n}\n\n#sidebarOptions .button:hover {\n color: #000;\n background: #fff;\n border-color:white;\n}\n\n#sidebarOptions .button:active {\n color: #000;\n background: #fff;\n}\n\n#sidebarOptions .sliderPanel {\n background: transparent;\n}\n\n#sidebarOptions .sliderPanel A {\n color: #999;\n}\n\n#sidebarOptions .sliderPanel A:hover {\n color: #000;\n background: #fff;\n}\n\n#sidebarOptions .sliderPanel A:active {\n color: #000;\n background: #fff;\n}\n\n.sidebarSubHeading {\n color: #000;\n}\n\n#sidebarTabs {`\n background: #fff\n}\n\n#sidebarTabs .tabSelected {\n color: #000;\n background: #fff;\n border-top: solid 1px #ccc;\n border-left: solid 1px #ccc;\n border-right: solid 1px #ccc;\n border-bottom: none;\n}\n\n#sidebarTabs .tabUnselected {\n color: #999;\n background: #eee;\n border-top: solid 1px #ccc;\n border-left: solid 1px #ccc;\n border-right: solid 1px #ccc;\n border-bottom: none;\n}\n\n#sidebarTabs .tabContents {\n background: #fff;\n}\n\n\n#sidebarTabs .txtMoreTab .tabSelected {\n background: #fff;\n}\n\n#sidebarTabs .txtMoreTab .tabUnselected {\n background: #eee;\n}\n\n#sidebarTabs .txtMoreTab .tabContents {\n background: #fff;\n}\n\n#sidebarTabs .tabContents .tiddlyLink {\n color: #999;\n border:none;\n}\n\n#sidebarTabs .tabContents .tiddlyLink:hover {\n background: #fff;\n color: #000;\n border:none;\n}\n\n#sidebarTabs .tabContents {\n color: #000;\n}\n\n#sidebarTabs .button {\n color: #666;\n}\n\n#sidebarTabs .tabContents .button:hover {\n color: #000;\n background: #fff;\n}\n\n#sidebar {color:#999;}\n/*}}}*/</div>
<div tiddler="SinglePageModePlugin" modifier="Tom Wilson" modified="200704281819" created="200704281819" tags="systemConfig">version.extensions.SinglePageMode= {major: 2, minor: 3, revision: 1, date: new Date(2007,3,3)};\n\nif (config.options.chkSinglePageMode==undefined) config.options.chkSinglePageMode=false;\nconfig.shadowTiddlers.AdvancedOptions += &quot;\sn&lt;&lt;option chkSinglePageMode&gt;&gt; Display one tiddler at a time&quot;;\n\nif (config.options.chkTopOfPageMode==undefined) config.options.chkTopOfPageMode=false;\nconfig.shadowTiddlers.AdvancedOptions += &quot;\sn&lt;&lt;option chkTopOfPageMode&gt;&gt; Always open tiddlers at the top of the page&quot;;\n\nif (config.options.chkBottomOfPageMode==undefined) config.options.chkBottomOfPageMode=false;\nconfig.shadowTiddlers.AdvancedOptions += &quot;\sn&lt;&lt;option chkBottomOfPageMode&gt;&gt; Always open tiddlers at the bottom of the page&quot;;\n\nconfig.SPMTimer = 0;\nconfig.lastURL = window.location.hash;\nfunction checkLastURL()\n{\n	if (!config.options.chkSinglePageMode)\n		{ window.clearInterval(config.SPMTimer); config.SPMTimer=0; return; }\n	if (config.lastURL == window.location.hash)\n		return;\n	var tiddlerName = convertUTF8ToUnicode(decodeURI(window.location.hash.substr(1)));\n	tiddlerName=tiddlerName.replace(/\s[\s[/,&quot;&quot;).replace(/\s]\s]/,&quot;&quot;); // strip any [[ ]] bracketing\n	if (tiddlerName.length) story.displayTiddler(null,tiddlerName,1,null,null);\n}\n\nif (Story.prototype.SPM_coreDisplayTiddler==undefined) Story.prototype.SPM_coreDisplayTiddler=Story.prototype.displayTiddler;\nStory.prototype.displayTiddler = function(srcElement,title,template,animate,slowly)\n{\n	if (config.options.chkSinglePageMode) {\n		window.location.hash = encodeURIComponent(convertUnicodeToUTF8(String.encodeTiddlyLink(title)));\n		config.lastURL = window.location.hash;\n		document.title = wikifyPlain(&quot;SiteTitle&quot;) + &quot; - &quot; + title;\n		story.closeAllTiddlers();\n		if (!config.SPMTimer) config.SPMTimer=window.setInterval(function() {checkLastURL();},1000);\n	}\n	if (config.options.chkTopOfPageMode) { story.closeTiddler(title); srcElement=null; }\n	else if (config.options.chkBottomOfPageMode) { story.closeTiddler(title); srcElement=&quot;bottom&quot;; }\n	this.SPM_coreDisplayTiddler.apply(this,arguments);\n	if (config.options.chkTopOfPageMode) window.scrollTo(0,0); // make sure top of page is visible\n	else if (config.options.chkBottomOfPageMode) {\n		var display=document.getElementById(&quot;tiddlerDisplay&quot;); // for TW2.1-\n		if (!display) var display=document.getElementById(&quot;storyDisplay&quot;); // for TW2.2+\n		window.scrollTo(0,ensureVisible(display.lastChild)); // make sure last tiddler is visible\n	}\n}\n\nif (Story.prototype.SPM_coreDisplayTiddlers==undefined) Story.prototype.SPM_coreDisplayTiddlers=Story.prototype.displayTiddlers;\nStory.prototype.displayTiddlers = function(srcElement,titles,template,unused1,unused2,animate,slowly)\n{\n	// suspend single-page mode (and/or top/bottom display options) when showing multiple tiddlers\n	var saveSPM=config.options.chkSinglePageMode; config.options.chkSinglePageMode=false;\n	var saveTPM=config.options.chkTopOfPageMode; config.options.chkTopOfPageMode=false;\n	var saveBPM=config.options.chkBottomOfPageMode; config.options.chkBottomOfPageMode=false;\n	this.SPM_coreDisplayTiddlers.apply(this,arguments);\n	config.options.chkBottomOfPageMode=saveBPM;\n	config.options.chkTopOfPageMode=saveTPM;\n	config.options.chkSinglePageMode=saveSPM;\n}</div>
<div tiddler="SiteSubtitle" modifier="Tom Wilson" modified="200704100907" created="200704092147" tags="">abstracts of papers in the electronic journal</div>
<div tiddler="SiteTitle" modifier="Tom Wilson" modified="200704100906" created="200704092146" tags="">//[[Information Research Wiki]]//</div>
<div tiddler="Social spaces, casual interactions, meaningful exchanges" modifier="Tom Wilson" modified="200704240918" created="200704062246" tags="[[information ground]] [[college students]] [[information exchange]] Fisher Landry Naumer">[[Social spaces, casual interactions, meaningful exchanges: 'information ground' characteristics based on the college student experience|http://InformationR.net/ir/12-2/paper291.html]]\n\nKaren E. Fisher, Carol F. Landry and Charles Naumer\nThe Information School, University of Washington Box 352840, Seattle, Washington, USA\n\n@@color(maroon):''Abstract''@@\n\n    //''Introduction''//. In the late 1990s Fisher (writing as Pettigrew) proposed 'information grounds' to describe social settings in which people share everyday information while attending to a focal activity.\n    //''Method''//. This study was conducted at a major research university, home to 45,000 students. Data were collected by seventy-two Master of Library and Information Science (MLIS) students as part of an information behaviour class. Trained in interviewing techniques, each MLIS student interviewed ten students in public places, including the campus and the university commercial district. The survey, comprising twenty-seven primarily open-ended questions, was conducted from October 14-21, 2004. Data were collected from 729 college students and entered, along with extensive field notes, into an in-house Web form.\n    //''Analysis''//. Qualitative and quantitative analyses were supplemented by mini-reports prepared by the student researchers along with full-team debriefings.\n    //''Results''//. Using a people, place and information-related trichotomy, characteristics are discussed in terms of how they can be manipulated to optimize information flow in social settings.\n    //''Conclusions''//. By understanding better the characteristics of 'information grounds' and the interactions among these characteristics, we may be able to develop social spaces in support of information flow and human interaction. Our college student and other studies suggest that 'information grounds' play an intrinsic role in facilitating communication among people and that by building an in-depth 'information grounds' typology, beginning with basic categorical characteristics, we may develop new methods for facilitating information exchange. \n\n</div>
<div tiddler="Students seeking information for their Master's theses" modifier="Tom Wilson" modified="200704240927" created="200704090954" tags="Internet [[information searching]] [[information retrieval]] [[access to information]] [[higher education]] Finland Junni">[[Students seeking information for their Masters' theses: the effect of the Internet|http://informationr.net/ir/12-2/paper305.html]]\n\nPaulina Junni\nHanken - Swedish School of Economics and Business Administration, PB 479 (Arkadiankatu 22), 00101 Helsinki, Finland\n\n''Abstract''\n\n    //''Introduction''//. The Internet has radically changed the global availability of scholarly publications. Today, a substantial part of the resources accessible for researchers and university students are offered through electronic site licenses, making the supply of easily obtainable information larger than ever. This brings forth an important question: what are the qualitative and quantitative effects of this development on the use of reference material in research and studies?\n    //''Method''//. To address the research question, reference lists of Masters' theses from 1985, 1993 and 2003 were studied in three disciplines: economics, psychology and mathematics, followed by semi-structured interviews of students who had finished their thesis in 2003.\n    //''Analysis''//. The quantitative data were analysed using analysis of variance (ANOVA) with the statistical program SPSS, where the significance of the results was measured with Dunnet's t-test.\n    //''Results''//. The findings showed a substantial increase in the use of scholarly articles as references throughout the studied time periods, although the amount of other information sources had remained largely unchanged. There were also significant differences between the three disciplines in the contents of their reference lists, the amount of Internet resources that students used, how they sought and obtained publications, and how they selected their sources.\n    //''Conclusions''//. The Internet appears to have had a profound effect on the type and quantity of information that students use as references in Master's theses. One of the main problems that students reported was a lack of training in information seeking, and the abundance of irrelevant information on the Internet. Many respondents would have needed additional training on using library databases. \n\n</div>
<div tiddler="StyleSheet" modifier="Tom Wilson" modified="200704211931" created="200701122350" tags="">[[SideBarWG]]\n\n#topMen br {display:none;}\n/***\n!Top Menu Styles\n***/\n/*{{{*/\n#topMenu br {display:none; }\n#topMenu { background: #000 ; color:#fff;padding: 1em 1em;}\n/*}}}*/\n\n/***\n!General\n***/\n/*{{{*/\nbody {\n background: #444;\n margin: 0 auto;\n}\n\n {\n font-family: verdana;\n}\n #contentWrapper{\n background: #fff;\n border: 0;\n margin: 0 1em;\n\n padding:0;\n}\n/*}}}*/\n\n/***\n!Header rules\n***/\n/*{{{*/\n.titleLine{\n margin: 68px 3em 0em 0em;\nmargin-left:1.7em;\nmargin-bottom: 28px;\n padding: 0;\n text-align: left;\n color: #fff;\n}\n\n.siteTitle {\n	font-size: 3em;\n        font-weight: bold;\n}\n\n.siteSubtitle {\n	font-size: 2em;\n        display: block;\n        margin: .5em auto 1em;\n}\n\n.gradient {margin: 0 auto;}\n\n\n\n.header {\n background: #fff; \n margin: 0 0em;\n padding:0 12px;\n\n}\n/*}}}*/\n\n/***\n!Display Area\n***/\n/*{{{*/\n#bodywrapper {margin:0 12px; padding:0;background:#fff; height:1%}\n\n#displayArea{\n margin: 0em 16em 0em 1em;\n text-align: left;\n}\n\n\n.tiddler {\n	padding: 2em 2em 2em em;\n        border-top:   1px solid #ccc; \n        border-left:   1px solid #ccc; \n        border-bottom: 6px solid #ccc; \n        border-right: 6px solid #ccc; \n        margin: 1.0em; \n        background:#fff; \n        -moz-border-radius: 10px;\n}\n\n\n}\n\nh1,h2,h3,h4,h5 { color: #000; background: transparent; padding-bottom:2px; border-bottom: 1px dotted #666; }\n.title {color:black; font-size:1.8em; border-bottom:1px solid #333; padding-bottom:0.3px;}\n.subtitle { font-size:90%; color:#ccc; padding-left:0.25em; margin-top:0.1em; }\n\n.shadow .title {\n	color: #aaa;\n}\n\n.tagClear{\n	clear: none; \n}\n\n* html .viewer pre {\n	margin-left: 0em;\n}\n\n* html .editor textarea, * html .editor input {\n	width: 98%;\n}\n\n.tiddler {margin-bottom:1em; padding-bottom:0em;}\n\n\n.toolbar .button {color:#bbb; border:none;}\n.toolbar .button:hover, .toolbar .highlight, .toolbar .marked, .toolbar a.button:active {background:transparent; color:#111; border:none; text-decoration:underline;}\n\n#sidebar .highlight, #sidebar .marked {background:transparent;}\n\n.tagging, .tagged {\n	border: 1px solid #eee;\n	background-color: #F7F7F7;\n}\n\n.selected .tagging, .selected .tagged {\n	background-color: #eee;\n	border: 1px solid #bbb;\n}\n\n .tagging .listTitle, .tagged .listTitle {\n	color: #bbb;\n}\n\n.selected .tagging .listTitle, .selected .tagged .listTitle {\n	color: #222; \n}\n\n\n.tagging .button:hover, .tagged .button:hover {\n		border: none; background:transparent; text-decoration:underline; color:#000;\n}\n\n.tagging .button, .tagged .button {\n		color:#aaa;\n}\n\n.selected .tagging .button, .selected .tagged .button {\n		color:#000;\n}\n\n.viewer blockquote {\n	border-left: 3px solid #000;\n}\n\n.viewer pre, .viewer code {\n	border: 1px dashed #ccc;\n	background: #eee;}\n\n.viewer hr {\n	border: 0;\n	border-top: solid 1px #333;\n margin: 0 8em;\n	color: #333;\n}\n\n.highlight, .marked {background:transparent; color:#111; border:none; text-decoration:underline;}\n\n.viewer .highlight, .viewer .marked {text-decoration:none;}\n\n#sidebarTabs .highlight, #sidebarTabs .marked {color:#000; text-decoration:none;}\n\n.tabSelected {\n color: #000;\n background: #fff;\n border-top: solid 1px #ccc;\n border-left: solid 1px #ccc;\n border-right: solid 1px #ccc;\n border-bottom: none;\n}\n\n.viewer .tabSelected:hover{color:#000;}\n\n.viewer .tabSelected {font-weight:bold;}\n\n.tabUnselected {\n color: #999;\n background: #eee;\n border-top: solid 1px #ccc;\n border-left: solid 1px #ccc;\n border-right: solid 1px #ccc;\n border-bottom: solid 1px #ccc;\n padding-bottom:1px;\n}\n\n.tabContents {\n background: #fff;\n  color: #000;\n}\n/*}}}*/\n/***\n!!!Tables\n***/\n/*{{{*/\n.viewer table {\n	border: 1px solid #000;\n}\n\n.viewer {\n   font-size: small; font-family: verdana;\n}\n.viewer th, thead td {\n	background: #000;\n	border: 1px solid #000;\n	color: #fff;\n}\n\n.viewer td, .viewer tr {\n	border: 1px solid #111; padding:4px;\n}\n/*}}}*/\n\n\n/***\n!!!Editor area\n***/\n/*{{{*/\n.editor input, .editor textarea {\n	border: 1px solid #ccc;\n}\n\n.editor {padding-top:0.3em;}\n\n.editor textarea:focus, .editor input:focus {\n	border: 1px solid #333;\n}\n/*}}}*/\n\n/***\n!Sidebar\n***/\n/*{{{*/\n#sidebar{\nposition:relative;\nfloat:right;\nmargin-bottom:1em;\ndisplay:inline;\nwidth: 16em;\n}\n\n#sidebarOptions .sliderPanel {\n	background: #eee; border:1px solid #ccc;\n}\n\n/*}}}*/\n\n/***\n!Body Footer rules\n***/\n/*{{{*/\n#contentFooter {\n text-align: center;\n clear: both;\n color:#fff;\n background: #000;\n padding: 1em 2em;\nfont-weight:bold;\n}\n\n/*}}}*/\n/***\n!Link Styles\n***/\n/*{{{*/\na{\n	color: #000;\n}\n\na:hover{\n        color: #FF6600;\n        background:#fff;\n}\n\n\n.button {\n	color: #000;\n	border: 1px solid #fff;\n}\n\n.button:hover {\n	color: #fff;\n	background: #ff8614;\n	border-color: #000;\n}\n\n.button:active {\n	color: #fff;\n	background: #ff8614;\n	border: 1px solid #000;\n}\n\n.tiddlyLink {border-bottom: 1px dotted #000;}\n.tiddlyLink:hover {border-bottom: 1px dotted #FF6600;} \n\n.titleLine a {border-bottom: 1px dotted #FF9900;}\n\n.titleLine a:hover {border-bottom: 1px dotted #fff;}\n\n.siteTitle a, .siteSubtitle a{\n color: #fff;\n}\n\n.viewer .button {border: 1px solid #ff8614; font-weight:bold;}\n.viewer .button:hover, .viewer .marked, .viewer .highlight{background:#ff8614; color:#fff; font-weight:bold; border: 1px solid #000;}\n\n#topMenu .button, #topMenu .tiddlyLink {\n margin-left:0.5em; margin-right:0.5em;\n padding-left:3px; padding-right:3px;\n color:white; font-weight:bold;\n}\n#topMenu .button:hover, #topMenu .tiddlyLink:hover { background:#000; color:#FF8814}\n\n#topMenu a{border:none;}\n/*}}}*/\n\n/***\n!Message Area /%=================================================%/\n***/\n/*{{{*/\n#messageArea {\n	border: 4px dotted #ff8614;\n	background: #000;\n	color: #fff;\n        font-size: 12pt;\n}\n\n#messageArea .button {\n	padding: 0.2em;\n	color: #000;\n	background: #fff;\n        text-decoration:none;\n        font-weight:bold;\n        border:1px solid #000; \n}\n\n#messageArea a {color:#fff;}\n\n#messageArea a:hover {color:#ff8614; background:transparent;}\n\n#messageArea .button:hover {background: #FF8614; color:#fff; border:1px solid #fff; }\n\n/*}}}*/\n\n/***\n!Popup /%=================================================%/\n***/\n/*{{{*/\n.popup {\n	background: #ff8814;\n	border: 1px solid #333;\n}\n\n.popup hr {\n	color: #333;\n	background: #333;\n	border-bottom: 1px;\n}\n\n.popup li.disabled {\n	color: #333;\n}\n\n.popup li a, .popup li a:visited {\n	color: #eee;\n	border: none;\n}\n\n.popup li a:hover {\n	background: #ff8614;\n	color: #fff;\n	border: none;\n        text-decoration:underline;\n}\n\n.searchBar {float:right; font-size:1em;}\n.searchBar .button {display:block; border:none; color:#ccc; }\n.searchBar .button:hover{border:none; color:#eee;}\n\n.searchBar input{\n border: 1px inset #000; background:#EFDFD1; width:10em; margin:0;\n}\n\n.searchBar input:focus {\n border: 1px inset #000; background:#fff;\n}\n\n*html .titleLine {margin-right:1.3em;}\n\n*html .searchBar .button {margin-left:1.7em;}\n\n .HideSideBarButton {float:right;} \n/*}}}*/\n\n.blog h2, .blog h3, .blog h4{\n  margin:0;\n  padding:0;\nborder-bottom:none;\n}\n.blog {margin-left:1.5em;}  \n\n\n.blog .excerpt {\n  margin:0;\nmargin-top:0.3em;\n  padding: 0;\n  margin-left:1em;\n  padding-left:1em;\n  font-size:90%;\n  border-left:1px solid #ddd;\n}\n\n#tiddlerWhatsNew h1, #tiddlerWhatsNew h2 {border-bottom:none;}\ndiv[tags~=&quot;RecentUpdates&quot;], div[tags~=&quot;lewcidExtension&quot;] {margin-bottom: 2em;}\n\n#hoverMenu  .button, #hoverMenu  .tiddlyLink {border:none; font-weight:bold; background:#f37211; color:#fff; padding:0 5px; float:right; margin-bottom:4px;}\n#hoverMenu .button:hover, #hoverMenu .tiddlyLink:hover {font-weight:bold; border:none; color:#f37211; background:#000; padding:0 5px; float:right; margin-bottom:4px;}\n\n#topMenu .fontResizer {float:right;}\n\n#topMenu .fontResizer .button{border:1px solid #000;}\n#topMenu .fontResizer .button:hover {border:1px solid #f37211; color:#fff;}\n#sidebarTabs .txtMainTab .tiddlyLinkExisting {\n font-weight: normal;\n font-style: normal;\n}\n\n#sidebarTabs .txtMoreTab .tiddlyLinkExisting {\n font-weight: bold;\n font-style: normal;\n}\n\n.block a{display:block;}</div>
<div tiddler="StyleSheetLayout" modifier="Tom Wilson" modified="200704092231" created="200704092227" tags="">/*{{{*/\n* html .tiddler {\n    height: 1%;\n}\n\nbody {\n	font-size: .75em;\n	font-family: arial,helvetica;\n	margin: 0;\n	padding: 0;\n}\n\nh1,h2,h3,h4,h5 {\n	font-weight: bold;\n	text-decoration: none;\n	padding-left: 0.4em;\n}\n\nh1 {font-size: 1.35em;}\nh2 {font-size: 1.25em;}\nh3 {font-size: 1.1em;}\nh4 {font-size: 1em;}\nh5 {font-size: .9em;}\n\nhr {\n	height: 1px;\n}\n\na{\n	text-decoration: none;\n}\n\ndt {font-weight: bold;}\n\nol { list-style-type: decimal }\nol ol { list-style-type: lower-alpha }\nol ol ol { list-style-type: lower-roman }\nol ol ol ol { list-style-type: decimal }\nol ol ol ol ol { list-style-type: lower-alpha }\nol ol ol ol ol ol { list-style-type: lower-roman }\nol ol ol ol ol ol ol { list-style-type: decimal }\n\n.txtOptionInput {\n	width: 11em;\n}\n\n#contentWrapper .chkOptionInput {\n	border: 0;\n}\n\n.externalLink {\n	text-decoration: underline;\n}\n\n.indent {margin-left:3em;}\n.outdent {margin-left:3em; text-indent:-3em;}\ncode.escaped {white-space:nowrap;}\n\n.tiddlyLinkExisting {\n	font-weight: bold;\n}\n\n.tiddlyLinkNonExisting {\n	font-style: italic;\n}\n\n/* the 'a' is required for IE, otherwise it renders the whole tiddler a bold */\na.tiddlyLinkNonExisting.shadow {\n	font-weight: bold;\n}\n\n#mainMenu .tiddlyLinkExisting, \n#mainMenu .tiddlyLinkNonExisting,\n#sidebarTabs .tiddlyLinkNonExisting{\n font-weight: normal;\n font-style: normal;\n}\n\n#sidebarTabs .tiddlyLinkExisting {\n font-weight: bold;\n font-style: normal;\n}\n\n.header {\n		position: relative;\n}\n\n.header a:hover {\n	background: transparent;\n}\n\n.headerShadow {\n	position: relative;\n	padding: 4.5em 0em 1em 1em;\n	left: -1px;\n	top: -1px;\n}\n\n.headerForeground {\n	position: absolute;\n	padding: 4.5em 0em 1em 1em;\n	left: 0px;\n	top: 0px;\n}\n\n.siteTitle {\n	font-size: 3em;\n}\n\n.siteSubtitle {\n	font-size: 1.2em;\n}\n\n#mainMenu {\n	position: absolute;\n	left: 0;\n	width: 10em;\n	text-align: right;\n	line-height: 1.6em;\n	padding: 1.5em 0.5em 0.5em 0.5em;\n	font-size: 1.1em;\n}\n\n#sidebar {\n	position: absolute;\n	right: 3px;\n	width: 16em;\n	font-size: .9em;\n}\n\n#sidebarOptions {\n	padding-top: 0.3em;\n}\n\n#sidebarOptions a {\n	margin: 0em 0.2em;\n	padding: 0.2em 0.3em;\n	display: block;\n}\n\n#sidebarOptions input {\n	margin: 0.4em 0.5em;\n}\n\n#sidebarOptions .sliderPanel {\n	margin-left: 1em;\n	padding: 0.5em;\n	font-size: .85em;\n}\n\n#sidebarOptions .sliderPanel a {\n	font-weight: bold;\n	display: inline;\n	padding: 0;\n}\n\n#sidebarOptions .sliderPanel input {\n	margin: 0 0 .3em 0;\n}\n\n#sidebarTabs .tabContents {\n	width: 15em;\n	overflow: hidden;\n}\n\n.wizard {\n	padding: 0.1em 0em 0em 2em;\n}\n\n.wizard h1 {\n	font-size: 2em;\n	font-weight: bold;\n	background: none;\n	padding: 0em 0em 0em 0em;\n	margin: 0.4em 0em 0.2em 0em;\n}\n\n.wizard h2 {\n	font-size: 1.2em;\n	font-weight: bold;\n	background: none;\n	padding: 0em 0em 0em 0em;\n	margin: 0.2em 0em 0.2em 0em;\n}\n\n.wizardStep {\n	padding: 1em 1em 1em 1em;\n}\n\n.wizard .button {\n	margin: 0.5em 0em 0em 0em;\n	font-size: 1.2em;\n}\n\n#messageArea {\nposition:absolute; top:0; right:0; margin: 0.5em; padding: 0.5em;\n}\n\n*[id='messageArea'] {\nposition:fixed !important; z-index:99;}\n\n.messageToolbar {\ndisplay: block;\ntext-align: right;\n}\n\n#messageArea a{\n	text-decoration: underline;\n}\n\n.popup {\n	font-size: .9em;\n	padding: 0.2em;\n	list-style: none;\n	margin: 0;\n}\n\n.popup hr {\n	display: block;\n	height: 1px;\n	width: auto;\n	padding: 0;\n	margin: 0.2em 0em;\n}\n\n.listBreak {\n	font-size: 1px;\n	line-height: 1px;\n}\n\n.listBreak div {\n	margin: 2px 0;\n}\n\n.popup li.disabled {\n	padding: 0.2em;\n}\n\n.popup li a{\n	display: block;\n	padding: 0.2em;\n}\n\n.tabset {\n	padding: 1em 0em 0em 0.5em;\n}\n\n.tab {\n	margin: 0em 0em 0em 0.25em;\n	padding: 2px;\n}\n\n.tabContents {\n	padding: 0.5em;\n}\n\n.tabContents ul, .tabContents ol {\n	margin: 0;\n	padding: 0;\n}\n\n.txtMainTab .tabContents li {\n	list-style: none;\n}\n\n.tabContents li.listLink {\n	 margin-left: .75em;\n}\n\n#displayArea {\n	margin: 1em 17em 0em 14em;\n}\n\n\n.toolbar {\n	text-align: right;\n	font-size: .9em;\n	visibility: hidden;\n}\n\n.selected .toolbar {\n	visibility: visible;\n}\n\n.tiddler {\n	padding: 1em 1em 0em 1em;\n}\n\n.missing .viewer,.missing .title {\n	font-style: italic;\n}\n\n.title {\n	font-size: 1.6em;\n	font-weight: bold;\n}\n\n.missing .subtitle {\n display: none;\n}\n\n.subtitle {\n	font-size: 1.1em;\n}\n\n.tiddler .button {\n	padding: 0.2em 0.4em;\n}\n\n.tagging {\nmargin: 0.5em 0.5em 0.5em 0;\nfloat: left;\ndisplay: none;\n}\n\n.isTag .tagging {\ndisplay: block;\n}\n\n.tagged {\nmargin: 0.5em;\nfloat: right;\n}\n\n.tagging, .tagged {\nfont-size: 0.9em;\npadding: 0.25em;\n}\n\n.tagging ul, .tagged ul {\nlist-style: none;margin: 0.25em;\npadding: 0;\n}\n\n.tagClear {\nclear: both;\n}\n\n.footer {\n	font-size: .9em;\n}\n\n.footer li {\ndisplay: inline;\n}\n\n* html .viewer pre {\n	width: 99%;\n	padding: 0 0 1em 0;\n}\n\n.viewer {\n	line-height: 1.4em;\n	padding-top: 0.5em;\n}\n\n.viewer .button {\n	margin: 0em 0.25em;\n	padding: 0em 0.25em;\n}\n\n.viewer blockquote {\n	line-height: 1.5em;\n	padding-left: 0.8em;\n	margin-left: 2.5em;\n}\n\n.viewer ul, .viewer ol{\n	margin-left: 0.5em;\n	padding-left: 1.5em;\n}\n\n.viewer table {\n	border-collapse: collapse;\n	margin: 0.8em 1.0em;\n}\n\n.viewer th, .viewer td, .viewer tr,.viewer caption{\n	padding: 3px;\n}\n\n.viewer table.listView {\n	font-size: 0.85em;\n	margin: 0.8em 1.0em;\n}\n\n.viewer table.listView th, .viewer table.listView td, .viewer table.listView tr {\n	padding: 0px 3px 0px 3px;\n}\n\n.viewer pre {\n	padding: 0.5em;\n	margin-left: 0.5em;\n	font-size: 1.2em;\n	line-height: 1.4em;\n	overflow: auto;\n}\n\n.viewer code {\n	font-size: 1.2em;\n	line-height: 1.4em;\n}\n\n.editor {\nfont-size: 1.1em;\n}\n\n.editor input, .editor textarea {\n	display: block;\n	width: 100%;\n	font: inherit;\n}\n\n.editorFooter {\n	padding: 0.25em 0em;\n	font-size: .9em;\n}\n\n.editorFooter .button {\npadding-top: 0px; padding-bottom: 0px;}\n\n.fieldsetFix {border: 0;\npadding: 0;\nmargin: 1px 0px 1px 0px;\n}\n\n.sparkline {\n	line-height: 1em;\n}\n\n.sparktick {\n	outline: 0;\n}\n\n.zoomer {\n	font-size: 1.1em;\n	position: absolute;\n	padding: 1em;\n}\n\n.cascade {\n	font-size: 1.1em;\n	position: absolute;\n	overflow: hidden;\n}\n/*}}}*/</div>
<div tiddler="TagCloudPlugin" modifier="ELSDesignStudios" modified="200602050812" created="200510141945" tags="systemConfig includeNew NavigationPackage systemConfigForce">/***\n|Name|TagCloudPlugin|\n|Source|http://www.TiddlyTools.com/#TagCloudPlugin|\n|Version|0.0.0|\n|Author|Clint Checketts|\n|License|unknown|\n|~CoreVersion|2.1|\n|Type|plugin|\n|Requires||\n|Overrides||\n|Description||\n\n!Usage\n&lt;&lt;tagCloud&gt;&gt;\n\n!Code\n***/\n//{{{\nversion.extensions.tagCloud = {major: 1, minor: 0 , revision: 0, date: new Date(2006,2,04)};\n//Created by Clint Checketts, contributions by Jonny Leroy and Eric Shulman\n\nconfig.macros.tagCloud = {\n noTags: &quot;No tag cloud created because there are no tags.&quot;,\n tooltip: &quot;%1 tiddlers tagged with '%0'&quot;\n};\n\nconfig.macros.tagCloud.handler = function(place,macroName,params) {\n \nvar tagCloudWrapper = createTiddlyElement(place,&quot;div&quot;,null,&quot;tagCloud&quot;,null);\n\nvar tags = store.getTags();\nfor (var t=0; t&lt;tags.length; t++) {\n  for (var p=0;p&lt;params.length; p++) if (tags[t][0] == params[p]) tags[t][0] = &quot;&quot;;\n}\n\n if(tags.length == 0) \n   createTiddlyElement(tagCloudWrapper,&quot;span&quot;,null,null,this.noTags);\n //Findout the maximum number of tags\n var mostTags = 0;\n for (var t=0; t&lt;tags.length; t++) if (tags[t][0].length &gt; 0){\n  if (tags[t][1] &gt; mostTags) mostTags = tags[t][1];\n }\n //divide the mostTags into 4 segments for the 4 different tagCloud sizes\n var tagSegment = mostTags / 4;\n\n  for (var t=0; t&lt;tags.length; t++) if (tags[t][0].length &gt; 0){\n var tagCloudElement = createTiddlyElement(tagCloudWrapper,&quot;span&quot;,null,null,null);\n tagCloudWrapper.appendChild(document.createTextNode(&quot; &quot;));\n var theTag = createTiddlyButton(tagCloudElement,tags[t][0],this.tooltip.format(tags[t]),onClickTag,&quot;tagCloudtag tagCloud&quot; + (Math.round(tags[t][1]/tagSegment)+1));\n  theTag.setAttribute(&quot;tag&quot;,tags[t][0]);\n }\n\n};\n\nsetStylesheet(&quot;.tagCloud span{height: 1.8em;margin: 3px;}.tagCloud1{font-size: 1.2em;}.tagCloud2{font-size: 1.4em;}.tagCloud3{font-size: 1.6em;}.tagCloud4{font-size: 1.8em;}.tagCloud5{font-size: 1.8em;font-weight: bold;}&quot;,&quot;tagCloudsStyles&quot;);\n//}}}</div>
<div tiddler="Teaching information seeking" modifier="Tom Wilson" modified="200704240913" created="200704061937" tags="[[information seeking]] [[information literacy]] mediation teaching phenomenography [[qualitative research]] interviewing Limberg Sundin">[[Teaching information seeking- relating information literacy education to theories of information behaviour|http://Informationr.net/ir/12-1/paper280.html]]\n\nLouise Limberg and Olof Sundin: //The Swedish School of Library and Information Science, Göteborg University and University College of Borås, ~SE-501 90 Borås, Sweden//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' The article argues for a closer association between information seeking research and the practices of teaching information seeking. Findings are presented from a research project on information seeking, didactics and learning (IDOL) investigating librarians' and teachers' experiences of teaching information seeking.\n    ''//Method.//'' Thirteen teachers and five librarians, teaching 12-19 year-old students in three schools, participated. Forty-five interviews were conducted over a period of three years.\n    ''//Analysis.//'' The IDOL project adopted a phenomenographic approach with the purpose of describing patterns of variation in experiences. The findings were also analysed by way of relating them to four competing approaches to the mediation of information literacy.\n    ''//Results.//'' A gap was identified between experiences of teaching content that focused on sources and order, and experiences of assessment criteria applied to students' work that focused on the importance of correct facts and the analysis of information. These findings indicate a highly restricted range of teaching contents when compared with the four theoretical approaches to the mediation of information literacy.\n    ''//Conclusion.//'' Teaching information seeking might be enhanced by a wider repertoire of contents reflecting more varied theoretical understandings developed in information seeking research, particularly as regards the importance of content and context related to user perspectives. </div>
<div tiddler="The BBC, Daily Telegraph and Wikinews timelines of the terrorist attacks of 7th July 2006 in London" modifier="Tom Wilson" modified="200704240915" created="200704061942" tags="news Websites [[media events]] Weblogs blogs Thelwall Hellsten">[[The BBC, Daily Telegraph and Wikinews timelines of the terrorist attacks of 7th July 2006 in London - a comparison with contemporary discussions|http://Informationr.net/ir/12-1/paper284.html]]\n\nMike Thelwall: //Statistical Cybermetrics Research Group, University of Wolverhampton, Wolverhampton ~WV1 1EQ, UK//\nIina Hellsten: //The Virtual Knowledge Studio for the Humanities and Social Sciences - VKS, Royal Netherlands Academy of Arts and Sciences, Cruquiusweg 31, 1019 AT Amsterdam, The Netherlands//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' We assess the extent to which published media timelines reflect contemporary electronic discussions of major media events, using the London Attacks of July 2005 as a case study. The main objective is to judge whether timelines could, in principle, be automatically generated from contemporary debates. A secondary objective is to analyse the reasons for differences between contemporary debates and retrospective media timelines.\n    ''//Method.//'' Our method exploits the new opportunities for large-scale analysis afforded by electronic news feeds and blogs. We compared published media timelines with blog postings and news stories related to the London attacks of July, 2005. Rich Site Summary (RSS) technology was used to gather data from 19,587 blog and news sites. For the period of July 7 to July 31 we identified an average of 275 sources a day that posted new information containing the word 'London'. These postings, a combination of blogging and news stories, formed the raw data for our analysis. In particular, we extracted and counted the individual words used in the postings.\n    ''//Analysis.//'' We compared contemporary word usage statistics from our RSS data with the text of three published media timelines, particularly seeking words and types of words that were present in one but not the other.\n    ''//Results.//'' We found that the timelines tended to ignore the role of communication during the event itself, to use less emotionally charged language, and to gloss over to some extent the wider context of the event. Hence some aspects (frames) of the unfolding discussion were ignored by the timelines. Moreover, all sources included a range of relatively trivial details, the timelines apparently using them as concept markers (metonymy) for broader issues.\n    ''//Conclusions.//'' It seems that it would be difficult to automatically generate media timelines from contemporary discussions because of frame changes, and because of changes in terminology and the difficulty in separating highly discussed relatively insignificant details from the key facts. Nevertheless, the comparative analysis techniques reported in this paper may provide an interesting new window on contemporary discussions and media representations of major events. \n\n</div>
<div tiddler="The information activity of rail passenger information staff" modifier="Tom Wilson" modified="200704240910" created="200704061927" tags="collaboration [[information behaviour]] [[information activity]] [[passenger information]] [[requirements engineering]] [[distributed coordination]] Rose">[[The information activity of rail passenger information staff|http://InformationR.net/ir/12-1/paper275.html]] - a foundation for information system requirements\n\nMartin Rose: Information &amp; Knowledge Management Program, University of Technology, Sydney, Australia\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' This paper examines the goal-directed information activity of passenger information staff, working in the dynamic environment of rail network control. The explicit aim is to define a meaningful set of information system requirements. The report shows how dynamic situations may lead us to question a number of established theories of information science.\n    ''//Method.//'' Passenger information officers were observed on duty within the rail command and control headquarters. Observation sessions totally eight hours involved the manual recording of sequential information flows and the associated activity of the Officers. A semi-structured management interview was also conducted to provide further insight into the organizational context.\n    ''//Analysis.//'' A viewpoint-oriented analysis technique was used to analyse sequential data captured during observation sessions. Event sequences that represent and explain the viewpoints were identified and elaborated into detailed scenario descriptions.\n    ''//Results.//'' The analysis both supports and contests a number of established theories from information science. Additionally, a range of 'mandatory' and 'desirable' system requirements are derived from the scenario and viewpoint analyses.\n    ''//Conclusion.//'' Dynamic situations have a significant impact on information behaviour which is not always predicted by current theories of information science. </div>
<div tiddler="The information use environment of abused and neglected children" modifier="Tom Wilson" modified="200704240911" created="200704061935" tags="[[neglected children]] [[abused children]] [[information use environment]] Hersberger Murray Sokoloff">[[The information use environment of abused and neglected children|http://Informationr.net/ir/12-1/paper277.html]]\n\nJulie A. Hersberger, Adam L. Murray and S.M. Sokoloff: //Department of Library and Information Studies, University of North Carolina at Greensboro, Greensboro, NC 27402-6171, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction//''. When children are adjudicated by a court of law as being maltreated, they are summarily removed from their homes, resulting in a disruption of their daily lives. This pilot study examines the context in which maltreated children seek and use information to cope with this stressful period of their lives.\n    ''//Method//''. This study applies Taylor's four components of information use environments to look at the user and the uses of information and the contexts within which those users make choices about what information is useful to them at particular times.\n    ''//Analysis//''. The characteristics of foster children as a population are examined. The settings in which such children seek information are described and the problems the experience, which are linked to information seeking, are articulated as are the problem resolutions.\n    ''//Results//''. The most important finding of this study is that there are three clearly differentiated phases of information needs and seeking corresponding to the three phases of adjustment the children experience.\n    ''//Conclusion//''. Understanding problem phases underpinning everyday life contexts in foster care environments afford support personnel, who provide information to these children, better insights into what helps and what results in increasing anxiety or causes more trauma. </div>
<div tiddler="The presentation of the information user in reports of information behaviour research" modifier="Tom Wilson" modified="200704240912" created="200704061935" tags="[[information behaviour]] research [[information user]] McKechnie Julien Pecoskie Dixon">[[The presentation of the information user in reports of information behaviour research|http://Informationr.net/ir/12-1/paper278.html]]\n\nLynne (E.F.) ~McKechnie: //Faculty of Information and Media Studies, The University of Western Ontario, London, Ontario, Canada//\nHeidi Julien: //School of Library and Information Studies, University of Alberta, Edmonton, Alberta, Canada//\nJennifer L. Pecoskie and Christopher M. Dixon: //Faculty of Information and Media Studies, The University of Western Ontario, London, Ontario, Canada//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction//''. This study examined how human information behaviour researchers present research study participants through the following research questions: How do human information behaviour researchers describe participants in reports of empirical research?; and, What strategies do human information behaviour researchers use in their presentation of participants?\n    ''//Method and Analysis//''. A content analysis was conducted of 96 research reports published in the 1996-2004 ISIC proceedings. Articles were coded for data collection and data analysis methods, the use of theory, and parts of the article (title, abstract, literature search, method, findings, discussion and conclusion) where participants were included. Also noted were terms used to label research participants, data collection practices and strategies used by authors to present users.\n    ''//Results//''. Authors use a variety of terms and data collection practices that construct the information user or research participant as both peripheral and central to research.\n    ''//Conclusion//''. Researchers must bring greater consciousness to the conduct and reporting of their research. Improvements are needed in doctoral training, research methods texts and publishers' instructions to authors. \n\n</div>
<div tiddler="The role of the research phase in information seeking behaviour of Jewish scholars" modifier="Tom Wilson" modified="200704240933" created="200704091926" tags="[[information seeking behaviour]] [[information behaviour]] [[Jewish studies]] [[research phase]] Bronstein">''[[The role of the research phase in information seeking behaviour of Jewish scholars: a modification of Ellis's behavioural characteristics|http://informationr.net/ir/12-3/paper318.html]]''\n\nJ. Bronstein: //Department of Library and Information Studies, Beit Berl Academic College, Beit Berl, Israel// \n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''. This study reports the application of Ellis's behavioural model to the information seeking behaviour of Jewish studies scholars.\n''//Method//''. A qualitative study in which twenty-five scholars from four universities in Israel were interviewed using a semi-structured interview guide in which participants were encouraged to talk about different aspects of their information seeking behaviour.\n''//Analysis//''. Data were analysed using the grounded theory approach. This method consists of identifying incidents, events and activities and coding them into their respective categories by constantly comparing them to the properties of the emerging category to develop and saturate the category. \n''//Results//''. Findings point to a strong relationship between the information activities used and the stage of the research or purpose of the search. \n''//Conclusion//''. The proposed innovation positions of each of Ellis's information activities within a time frame or relating them to a specific type of scholarly activity. The proposed revision gives a comprehensive view of the active stages of the information seeking process through the information activities used at each research phase. \n</div>
<div tiddler="Tom Wilson" modifier="Tom Wilson" modified="200704101105" created="200704101012" tags="">Professor Tom Wilson is founder, publisher and ~editor-in-chief of //[[Information Research|http://Informationr.net/ir/]]//.\n\nHe is Professor Emeritus of the University of Sheffield, where he was Head of the Department of Information Studies for fifteen years, and is Visiting Professor and Deputy Director of the ~AIMTech Research Group, Leeds University Business School, and Visiting Professor, Swedish School of Library and Information Science, H&amp;ouml;gskolan i Bor&amp;aring;s and Gothenburg University, Sweden.\n\n</div>
<div tiddler="Uma revisão dos algoritmos de radicalização em língua portuguesa" modifier="Tom Wilson" modified="200704240931" created="200704091919" tags="[[stemming algorithms]] Portuguese Viera Virgil">''Uma revisão dos algoritmos de radicalização em língua portuguesa''\n\nAngel Freddy Godoy Viera e Johnny Virgil: Programa de Pós-graduação em Ciência da Informação, Universidade Federal de Santa Catarina, Florianópolis, Brasil\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n''//Introduction//''.The significance of information retrieval has been increased as a result of the increasing frequency with which digital files are created and used. One of the many strategies for processing texts for the indexing of their contents in information retrieval systems is called stemming, which consists in the reduction of similar words to the same unvarying representation. Stemming relies on the morphological structure of the language with which it is intended to work. \n''//Aim//''. This paper aims at defining the concept of stemming, presenting the algorithms available for Portuguese and commenting on several topics related to the use of this type of algorithms. \n''//Method//''. Literature review on stemming for Portuguese known to the authors. \n''//Results//''. To this day, there are only three algorithms published which deal with stemming in Portuguese: Porter's, Orengo's and Gonzalez's.\n''//Conclusion//''. Today,improvement in terms of stemming for the Portuguese language cannot be achieved successfully, since there is little research being done in this area. </div>
<div tiddler="Uncertainty in action" modifier="Tom Wilson" modified="200704240914" created="200704061941" tags="[[information seeking]] [[information behaviour]] uncertainty [[scholarly research]] Anderson">[[Uncertainty in action - observing information seeking within the creative processes of scholarly research|http://Informationr.net/ir/12-1/paper283.html]]\n\nTheresa Dirndorfer Anderson: //Information &amp; Knowledge Management Program, Faculty of Humanities and Social Sciences, University of Technology, Sydney//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' This paper discusses the role uncertainty plays in judgments of the meaning and significance of ideas and texts encountered by scholars in the context of their ongoing research activities.\n    ''//Method.//'' Two experienced scholars were observed as part of a two-year ethnographic study of their ongoing research practices. Layered transcriptions of document-by-document discussions, conversations and interviews with informants were analysed for evidence of uncertainty in informants' processes of discovery, evaluation, use and generation of information.\n    ''//Analysis.//'' Three themes are discussed illustrating the dynamic interplay between positive and negative forms of uncertainty: partial relevance, boundaries of understanding and uncertainty tolerance.\n    ''//Results.//'' The uncertainty experienced by informants takes many forms deeply embedded in the interwoven layers of information seeking and use. Positive forms of uncertainty were often, but not exclusively, associated with the informants' explorations within the wider research tasks in which they were engaged.\n    ''//Conclusion.//'' The intricacy of the relationship between what we might consider desirable as opposed to undesirable uncertainty is not easily unravelled. From the searcher's perspective, the interplay between positive and negative forms may be one way of explaining their ability to tolerate challenging encounters within their information and research processes.</div>
<div tiddler="Users' information behaviour - a gender perspective" modifier="Tom Wilson" modified="200704240933" created="200704111354" tags="[[information seeking behaviour]] [[information behaviour]] students educators Slovakia [[sex differences]] Steinerová Šušol">''[[Users' information behaviour - a gender perspective|http://Informationr.net/ir/12-3/paper320.html]]''\n\nJela Steinerová and Jaroslav Šušol: //Comenius University Bratislava, Faculty of Philosophy, Gondova 2, 818 01 Bratislava, Slovakia//\n\n''@@bgcolor(#ff0000):color(#ffffff):Abstract@@''\n\n    ''//Introduction.//'' The paper is based on the study of library users in Slovakia as part of a larger research project on the use of information.\n    ''//Method.//'' Large scale questionnaire survey was conducted in 2002 in sixteen academic and research libraries with 793 subjects, especially students and educators.\n    ''//Analysis.//'' The data were analysed with the use of statistical package SPSS. Gender differences are analysed with regard to ways of information seeking, use of electronic resources and publishing.\n    ''//Results.//'' Results indicate that men prefer individual information seeking and women apply collaborative information use. By sorting user types it was found out that women tended to manifest a pragmatic way of information use (the S type). Men confirmed analytic information processing (the A type). Women declared less experience in the use of electronic resources and publishing. Differences in orientation, collaboration and feelings have been noted.\n    ''//Conclusion.//'' Gender as a variable can be productive for better understanding of cognitive and social background of human information processing. Findings can inform design of services and systems and information literacy policies. </div>
<div tiddler="Volume 12 No. 1" modifier="Tom Wilson" modified="200704111303" created="200704061907" tags="">[[Editorial-12-1]]\n\n''Invited paper'': Brenda Dervin and ~CarrieLynn D. Reinhard - [[Researchers and practitioners talk about users and each other]]. Making user and audience studies matter—paper 1\n\n''Papers presented at ISIC 2006: the 6th Information Seeking in Context Conference, Sydney, Australia, 19-21 July, 2006 — Part II''\n\nKeynote Address, delivered by Brenda Dervin: Brenda Dervin, ~CarrieLynn D. Reinhard and Fei C. Shen - [[Beyond communication: research as communicating.]] Making user and audience studies matter—paper 2\n\nRoma M. Harris, C. Nadine Wathen &amp; Jana M. Fear -  [[Searching for health information in rural Canada]]. Where do residents look for health information and what do they do when they find it?\n\nMartin Rose - [[The information activity of rail passenger information staff]] - a foundation for information system requirements]]\n\nMartin Whittle, Barry Eaglestone, Nigel Ford, Valerie J. Gillet and Andrew Madden - [[Query transformations and their role in Web searching by the general public]]\n\nJulie A. Hersberger, Adam L. Murray and S.M. Sokoloff - [[The information use environment of abused and neglected children]]\n\nLynne (E.F.) ~McKechnie, Heidi Julien, Jennifer L. Pecoskie and Christopher M. Dixon - [[The presentation of the information user in reports of information behaviour research]]\n\nHilary Hughes - [[Responses and influences: a model of online information use for learning.]]\n\nLouise Limberg and Olof Sundin - [[Teaching information seeking]]: relating information literacy education to theories of information behaviour\n\nXiaoli Huang and Dagobert Soergel - [[An evidence perspective on topical relevance types and its implications for exploratory and task-based retrieval]]\n\nJenna Hartel - [[Information activities and resources in an episode of gourmet cooking]]\n\nTheresa Dirndorfer Anderson - [[Uncertainty in action]]: observing information seeking within the creative processes of scholarly research\n\nKirsty Williamson and Joy ~McGregor - [[Information use and secondary school students]]: a model for understanding plagiarism\n\n''Other peer-reviewed papers''\n\nMike Thelwall and Iina Hellsten - [[The BBC, Daily Telegraph and Wikinews timelines of the terrorist attacks of 7th July 2006 in London]]: a comparison with contemporary discussions\n\nPertti Vakkari and Sanna Talja - [[Searching for electronic journal articles to support academic tasks]]. A case study of the use of the Finnish National Electronic Library (~FinELib)\n\n[[Watch this: Ajax, YUI and Web 2.0]] — one of a series of occasional columns by Terrence A. Brooks of the Information School, University of Washington, USA.  \n\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n''//Information Research: an international electronic journal//'', is published four times a year by Professor Tom Wilson with technical support from Lund University, Sweden and editorial support from the Swedish School of Librarianship and Information Science, Högskolan in Borås.\nThese works are licensed under a Creative Commons License. The licensors are the authors of each respective article. Design and Editorial content © T.D. Wilson 1996-2007\n\n----------------------------------</div>
<div tiddler="Volume 12 No. 2" modifier="Tom Wilson" modified="200704101330" created="200704062219" tags="">''[[Editorial-12-2]]''\n\n''Papers presented at ISIC 2006: the 6th Information Seeking in Context Conference, Sydney, Australia, 19-21 July, 2006 — Part III''\n\nKeynote Address - Chun Wei Choo - [[Information seeking in organizations]]: epistemic contexts and contests\n\nZahed Bigdeli - [[Iranian engineers' information needs]] and seeking habits: an agro-industry company experience\n\nKaren E. Fisher, Carol F. Landry and Charles Naumer - [[Social spaces, casual interactions, meaningful exchanges]]: 'information ground' characteristics based on the college student experience\n\nJarkko Kari - [[Conceptualizing the personal outcomes of information]]\n\nChristopher S.G. Khoo, Brendan Luyt, Caroline Ee, Jamila Osman, ~Hui-Hui Lim and Sally Yong - [[How users organize electronic files]] on their workstations in the office environment: a preliminary study of personal information organization behaviour\n\nA.D. Madden, B. Eaglestone, N.J. Ford and M. Whittle - [[Search engines]]: a first step to finding information: preliminary findings from a study of observed searches.\n\nEric M. Meyers, Lisa P Nathan and Matthew L. Saxton - [[Barriers to information seeking in school libraries]]: conflicts in perceptions and practice\n\nMakiko Miwa and Noriko Kando - [[A naïve ontology for concepts of time and space]] for searching and learning\n\nOphelia T. Morey - [[Health information ties]]: preliminary findings on the health information seeking behaviour of an ~African-American community\n\nShunsaku Tamura, Makiko Miwa, Yasunori Saito, Mika Koshizuka, Yumiko Kasai, Mamiko Matsubayashi and Nozomi Ikeya - [[Information sharing between different groups]]: a qualitative study of information service to business in Japanese public libraries\n\nNei–Ching Yeh - [[A framework for understanding culture and its relationship to information behaviour]]: Taiwanese aborigines' information behaviour\n\nKyunghye Yoon - [[A study of interpersonal information seeking]] the role of topic and comment in the articulation of certainty and uncertainty of information need\n\n''Other peer-reviewed papers''\n\nFlávia Ferreira, Joanice Nascimento Santos, Lucyana Nascimento, Ricardo Sodré Andrade, Susane Barros, Jussara Borges, Helena Pereira da Silva, Othon Jambeiro, Fábio Ferreira and Bethany Lynn Letalien - [[Information professionals in Brazil]]: core competencies and professional development\n\nElea Giménez Toledo and Susana Torrado Morales - [[El efecto de las noticias de alto impacto en los servicios de documentación]]: el caso del atentado terrorista del 11 de marzo de 2004 en Madrid en la prensa española.\n\nJosé Manuel Ortega Egea, Manuel Recio Menéndez and María Victoria Román González - [[Diffusion and usage patterns of Internet services in the European Union]]\n\nPaulina Junni - [[Students seeking information for their Master's theses]]: the effect of the Internet\n\nBo–Christer Björk - [[A model of scientific communication as a global distributed information system]]\n\n''Case studies in open access publishing. Number two.''\n\nDavid J. Solomon - [[Medical Education Online]]: a case study of an open access journal in health professional education.\n\n[[Watch this: artisanal animation]] — one of a series of occasional columns by Terrence A. Brooks of the Information School, University of Washington, USA.</div>
<div tiddler="Volume 12 No. 3" modifier="Tom Wilson" modified="200704211932" created="200704091848" tags="">''[[Editorial-12-3]]''\n\n''Thematic issue on Activity Theory, edited with the assistance of Mark Spasser''\n\n''[[Guest Editorial]]''\n\nShaun Kane - [[Everyday inclusive Web design: an activity perspective]]\n\nGunilla ~Widen-Wulff and Elizabeth Davenport - [[Activity systems, information sharing and the development of organizational knowledge in two Finnish firms]]: an exploratory study using Activity Theory\n\nAnja Mursu, Irmeli Minkkinen and Mikko Korpela - [[Activity Theory in information systems research and practice]] - theoretical underpinnings for an information systems development method\n\nTerry Von Thaden - [[Building a foundation to study distributed information behaviour]]\n\nEric M. Meyers - [[From activity to learning: using cultural historical activity theory to model school library programmes and practices]]\n\nBenny Karpatschof - [[Human activity]] - contributions to the anthropological sciences from a perspective of activity theory.\n\n''Other peer-reviewed papers''\n\nJ.S. Chen and H.T. Tsou - [[Information technology adoption for service innovation practices and competitive advantage]]: the case of financial firms\n\nAngel Freddy Godoy Viera and Johnny Virgil - [[Uma revisão dos algoritmos de radicalização em língua portuguesa]]\n\nJosé Antonio ~Gómez-Hernández y Cristóbal ~Pasadas-Ureña - [[La alfabetización informacional en bibliotecas públicas.]] Situación actual y propuestas para una agenda de desarrollo\n\nDong Hee Shin - [[A social dynamics of the development of community network: problems raised by a case of community network development.]]\n\nJ. Bronstein - [[The role of the research phase in information seeking behaviour of Jewish scholars]]: a modification of Ellis's behavioural characteristics.\n\nReijo Savolainen - [[Media credibility and cognitive authority. The case of seeking orienting information]]\n\nJela Steinerová and Jaroslav Šušol: [[Users' information behaviour - a gender perspective]]\n\n''Case studies in open access publishing. Number three.''\n\nJohn Willinsky and Ranjini Mendis - [[Open access on a zero budget]]: a case study of Postcolonial Text\n\n</div>
<div tiddler="Watch this: Ajax, YUI and Web 2.0" modifier="Tom Wilson" modified="200704240916" created="200704061945" tags="Ajax JavaScript [[Web page design]] YUI [[Yahoo User Interface Library]] [[Web page widgets]] Brooks">[[Watch this: Ajax, YUI and Web 2.0|http://informationr.net/ir/11-4/TB0607.html]]\n\nTerrence A. Brooks: //University of Washington, Seattle, Washington, USA//\n\n''@@bgcolor(#ff0000):color(#ffffff):Introduction@@''\n\nA little history first: Today's Web browsers trace their lineage back to the 1990s browser wars when major Web players attempted to dominate the Web by building browsers with idiosyncratic implementations of ~JavaScript, Cascading Style Sheets, the Document Object Model, etc. One unintended consequence was the increase in complexity of cross-browser scripting. It was tough to build a fancy Web page when different browsers (and different versions of the same browser) broke your Web page. Interesting background reading: &quot;Internet Explorer vs. the standards&quot;.\n\nAs we leave the age of DHTML behind us, cast a glance back at perhaps the last and best DHTML book: DHTML utopia: modern Web design using ~JavaScript &amp; DOM by Stuart Langridge. Note how Langridge has to develop hacks to deal with cross-browser issues such as memory leaks and closures. Most people who create Web content don't want to tangle with these subtleties. Hence the utility of ~JavaScript libraries (i.e., YUI) written by experts that hide all the ugly cross-browser details so the rest of us can concentrate on our Web content.\n\nConceptual fork: Note that there are two topics here. One is making a server call for new content. Then with the new content in hand, you need to reach down into the HTML structure of your Web page (i.e., its DOM - Document Object Model) and add/change/delete/modify, etc. Ajax libraries cover both of these. The first is relatively simple, but the second is much more messy. Can you imagine writing ~JavaScript code to create a slider object that works on ~PCs and Macs, Internet Explorer, Firefox, Opera, etc. Tricky!</div>
<div tiddler="Watch this: artisanal animation" modifier="Tom Wilson" modified="200704240928" created="200704090959" tags="animation javascript [[Yahoo User Interface Library]] Brooks">[[Watch this: artisanal animation|http://informationr.net/ir/12-2/TB0701.html]]</div>
</div>
<!--POST-BODY-START-->

<!--POST-BODY-END-->
</td></tr>
</table>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-672528-1";
urchinTracker();
</script>
	</body>

<!-- Mirrored from informationr.net/ir/inforesearchwiki.html by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 25 Dec 2010 21:00:08 GMT -->
</html>
